(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["OctopusRTC"] = factory();
	else
		root["OctopusRTC"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/OctopusRTC.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./config.ts":
/*!*******************!*\
  !*** ./config.ts ***!
  \*******************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.ENV = exports.projectName = exports.version = void 0;
/*
 * @Date: 2020-07-10 17:41:32
 * @LastEditors: GWK
 * @LastEditTime: 2020-07-17 13:31:05
 * @FilePath: /Web_SDK/version.config.js
 */
exports.version = "2.0.2";
exports.projectName = "";
exports.ENV = "development";


/***/ }),

/***/ "./node_modules/base64-js/index.js":
/*!*****************************************!*\
  !*** ./node_modules/base64-js/index.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.byteLength = byteLength
exports.toByteArray = toByteArray
exports.fromByteArray = fromByteArray

var lookup = []
var revLookup = []
var Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array

var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
for (var i = 0, len = code.length; i < len; ++i) {
  lookup[i] = code[i]
  revLookup[code.charCodeAt(i)] = i
}

// Support decoding URL-safe base64 strings, as Node.js does.
// See: https://en.wikipedia.org/wiki/Base64#URL_applications
revLookup['-'.charCodeAt(0)] = 62
revLookup['_'.charCodeAt(0)] = 63

function getLens (b64) {
  var len = b64.length

  if (len % 4 > 0) {
    throw new Error('Invalid string. Length must be a multiple of 4')
  }

  // Trim off extra bytes after placeholder bytes are found
  // See: https://github.com/beatgammit/base64-js/issues/42
  var validLen = b64.indexOf('=')
  if (validLen === -1) validLen = len

  var placeHoldersLen = validLen === len
    ? 0
    : 4 - (validLen % 4)

  return [validLen, placeHoldersLen]
}

// base64 is 4/3 + up to two characters of the original data
function byteLength (b64) {
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function _byteLength (b64, validLen, placeHoldersLen) {
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function toByteArray (b64) {
  var tmp
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]

  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))

  var curByte = 0

  // if there are placeholders, only get up to the last complete 4 chars
  var len = placeHoldersLen > 0
    ? validLen - 4
    : validLen

  var i
  for (i = 0; i < len; i += 4) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 18) |
      (revLookup[b64.charCodeAt(i + 1)] << 12) |
      (revLookup[b64.charCodeAt(i + 2)] << 6) |
      revLookup[b64.charCodeAt(i + 3)]
    arr[curByte++] = (tmp >> 16) & 0xFF
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 2) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 2) |
      (revLookup[b64.charCodeAt(i + 1)] >> 4)
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 1) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 10) |
      (revLookup[b64.charCodeAt(i + 1)] << 4) |
      (revLookup[b64.charCodeAt(i + 2)] >> 2)
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  return arr
}

function tripletToBase64 (num) {
  return lookup[num >> 18 & 0x3F] +
    lookup[num >> 12 & 0x3F] +
    lookup[num >> 6 & 0x3F] +
    lookup[num & 0x3F]
}

function encodeChunk (uint8, start, end) {
  var tmp
  var output = []
  for (var i = start; i < end; i += 3) {
    tmp =
      ((uint8[i] << 16) & 0xFF0000) +
      ((uint8[i + 1] << 8) & 0xFF00) +
      (uint8[i + 2] & 0xFF)
    output.push(tripletToBase64(tmp))
  }
  return output.join('')
}

function fromByteArray (uint8) {
  var tmp
  var len = uint8.length
  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes
  var parts = []
  var maxChunkLength = 16383 // must be multiple of 3

  // go through the array every three bytes, we'll deal with trailing stuff later
  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {
    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))
  }

  // pad the end with zeros, but make sure to not forget the extra bytes
  if (extraBytes === 1) {
    tmp = uint8[len - 1]
    parts.push(
      lookup[tmp >> 2] +
      lookup[(tmp << 4) & 0x3F] +
      '=='
    )
  } else if (extraBytes === 2) {
    tmp = (uint8[len - 2] << 8) + uint8[len - 1]
    parts.push(
      lookup[tmp >> 10] +
      lookup[(tmp >> 4) & 0x3F] +
      lookup[(tmp << 2) & 0x3F] +
      '='
    )
  }

  return parts.join('')
}


/***/ }),

/***/ "./node_modules/bowser/es5.js":
/*!************************************!*\
  !*** ./node_modules/bowser/es5.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

!function(e,t){ true?module.exports=t():undefined}(this,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=90)}({17:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=r(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var r=t.match(e);return r&&r.length>0&&r[1]||""},e.getSecondMatch=function(e,t){var r=t.match(e);return r&&r.length>1&&r[2]||""},e.matchAndReturnConst=function(e,t,r){if(e.test(t))return r},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,r,n){void 0===n&&(n=!1);var i=e.getVersionPrecision(t),s=e.getVersionPrecision(r),a=Math.max(i,s),o=0,u=e.map([t,r],(function(t){var r=a-e.getVersionPrecision(t),n=t+new Array(r+1).join(".0");return e.map(n.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(n&&(o=a-Math.min(i,s)),a-=1;a>=o;){if(u[0][a]>u[1][a])return 1;if(u[0][a]===u[1][a]){if(a===o)return 0;a-=1}else if(u[0][a]<u[1][a])return-1}},e.map=function(e,t){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n},e.find=function(e,t){var r,n;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,n=e.length;r<n;r+=1){var i=e[r];if(t(i,r))return i}},e.assign=function(e){for(var t,r,n=e,i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[e].concat(s));var o=function(){var e=s[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){n[t]=e[t]}))};for(t=0,r=s.length;t<r;t+=1)o();return e},e.getBrowserAlias=function(e){return n.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return n.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,r){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0;t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"};t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"};t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"};t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"};t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(91))&&n.__esModule?n:{default:n},s=r(18);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(){}var t,r,n;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,n=[{key:"BROWSER_MAP",get:function(){return s.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return s.ENGINE_MAP}},{key:"OS_MAP",get:function(){return s.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return s.PLATFORMS_MAP}}],(r=null)&&a(t.prototype,r),n&&a(t,n),e}();t.default=o,e.exports=t.default},91:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=u(r(92)),i=u(r(93)),s=u(r(94)),a=u(r(95)),o=u(r(17));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=o.default.find(n.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=o.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=o.default.find(s.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=o.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return o.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,r={},n=0,i={},s=0;if(Object.keys(e).forEach((function(t){var a=e[t];"string"==typeof a?(i[t]=a,s+=1):"object"==typeof a&&(r[t]=a,n+=1)})),n>0){var a=Object.keys(r),u=o.default.find(a,(function(e){return t.isOS(e)}));if(u){var d=this.satisfies(r[u]);if(void 0!==d)return d}var c=o.default.find(a,(function(e){return t.isPlatform(e)}));if(c){var f=this.satisfies(r[c]);if(void 0!==f)return f}}if(s>0){var l=Object.keys(i),h=o.default.find(l,(function(e){return t.isBrowser(e,!0)}));if(void 0!==h)return this.compareVersion(i[h])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var r=this.getBrowserName().toLowerCase(),n=e.toLowerCase(),i=o.default.getBrowserTypeByAlias(n);return t&&i&&(n=i.toLowerCase()),n===r},t.compareVersion=function(e){var t=[0],r=e,n=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(r=e.substr(1),"="===e[1]?(n=!0,r=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?r=e.substr(1):"~"===e[0]&&(n=!0,r=e.substr(1)),t.indexOf(o.default.compareVersions(i,r,n))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=d,e.exports=t.default},92:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n};var s=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},r=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},r=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},r=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},r=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},r=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},r=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},r=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},r=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},r=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},r=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},r=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},r=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},r=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},r=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},r=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},r=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},r=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},r=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},r=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},r=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},r=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},r=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},r=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},r=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},r=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},r=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t={name:"Android Browser"},r=i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},r=i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},r=i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18);var a=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:s.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:s.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=i.default.getWindowsVersionName(t);return{name:s.OS_MAP.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:s.OS_MAP.iOS},r=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=i.default.getMacOSVersionName(t),n={name:s.OS_MAP.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:s.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=i.default.getAndroidVersionName(t),n={name:s.OS_MAP.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:s.OS_MAP.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:s.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:s.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:s.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:s.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:s.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:s.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18);var a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:s.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:s.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18);var a=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:s.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:s.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:s.ENGINE_MAP.Trident},r=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:s.ENGINE_MAP.Presto},r=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe:function(e){var t={name:s.ENGINE_MAP.Gecko},r=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:s.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:s.ENGINE_MAP.WebKit},r=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];t.default=a,e.exports=t.default}})}));

/***/ }),

/***/ "./node_modules/buffer/index.js":
/*!**************************************!*\
  !*** ./node_modules/buffer/index.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
/* eslint-disable no-proto */



var base64 = __webpack_require__(/*! base64-js */ "./node_modules/base64-js/index.js")
var ieee754 = __webpack_require__(/*! ieee754 */ "./node_modules/ieee754/index.js")
var isArray = __webpack_require__(/*! isarray */ "./node_modules/buffer/node_modules/isarray/index.js")

exports.Buffer = Buffer
exports.SlowBuffer = SlowBuffer
exports.INSPECT_MAX_BYTES = 50

/**
 * If `Buffer.TYPED_ARRAY_SUPPORT`:
 *   === true    Use Uint8Array implementation (fastest)
 *   === false   Use Object implementation (most compatible, even IE6)
 *
 * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,
 * Opera 11.6+, iOS 4.2+.
 *
 * Due to various browser bugs, sometimes the Object implementation will be used even
 * when the browser supports typed arrays.
 *
 * Note:
 *
 *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,
 *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.
 *
 *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.
 *
 *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of
 *     incorrect length in some situations.

 * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they
 * get the Object implementation, which is slower but behaves correctly.
 */
Buffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined
  ? global.TYPED_ARRAY_SUPPORT
  : typedArraySupport()

/*
 * Export kMaxLength after typed array support is determined.
 */
exports.kMaxLength = kMaxLength()

function typedArraySupport () {
  try {
    var arr = new Uint8Array(1)
    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}
    return arr.foo() === 42 && // typed array instances can be augmented
        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`
        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`
  } catch (e) {
    return false
  }
}

function kMaxLength () {
  return Buffer.TYPED_ARRAY_SUPPORT
    ? 0x7fffffff
    : 0x3fffffff
}

function createBuffer (that, length) {
  if (kMaxLength() < length) {
    throw new RangeError('Invalid typed array length')
  }
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    // Return an augmented `Uint8Array` instance, for best performance
    that = new Uint8Array(length)
    that.__proto__ = Buffer.prototype
  } else {
    // Fallback: Return an object instance of the Buffer class
    if (that === null) {
      that = new Buffer(length)
    }
    that.length = length
  }

  return that
}

/**
 * The Buffer constructor returns instances of `Uint8Array` that have their
 * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of
 * `Uint8Array`, so the returned instances will have all the node `Buffer` methods
 * and the `Uint8Array` methods. Square bracket notation works as expected -- it
 * returns a single octet.
 *
 * The `Uint8Array` prototype remains unmodified.
 */

function Buffer (arg, encodingOrOffset, length) {
  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {
    return new Buffer(arg, encodingOrOffset, length)
  }

  // Common case.
  if (typeof arg === 'number') {
    if (typeof encodingOrOffset === 'string') {
      throw new Error(
        'If encoding is specified then the first argument must be a string'
      )
    }
    return allocUnsafe(this, arg)
  }
  return from(this, arg, encodingOrOffset, length)
}

Buffer.poolSize = 8192 // not used by this implementation

// TODO: Legacy, not needed anymore. Remove in next major version.
Buffer._augment = function (arr) {
  arr.__proto__ = Buffer.prototype
  return arr
}

function from (that, value, encodingOrOffset, length) {
  if (typeof value === 'number') {
    throw new TypeError('"value" argument must not be a number')
  }

  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {
    return fromArrayBuffer(that, value, encodingOrOffset, length)
  }

  if (typeof value === 'string') {
    return fromString(that, value, encodingOrOffset)
  }

  return fromObject(that, value)
}

/**
 * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError
 * if value is a number.
 * Buffer.from(str[, encoding])
 * Buffer.from(array)
 * Buffer.from(buffer)
 * Buffer.from(arrayBuffer[, byteOffset[, length]])
 **/
Buffer.from = function (value, encodingOrOffset, length) {
  return from(null, value, encodingOrOffset, length)
}

if (Buffer.TYPED_ARRAY_SUPPORT) {
  Buffer.prototype.__proto__ = Uint8Array.prototype
  Buffer.__proto__ = Uint8Array
  if (typeof Symbol !== 'undefined' && Symbol.species &&
      Buffer[Symbol.species] === Buffer) {
    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97
    Object.defineProperty(Buffer, Symbol.species, {
      value: null,
      configurable: true
    })
  }
}

function assertSize (size) {
  if (typeof size !== 'number') {
    throw new TypeError('"size" argument must be a number')
  } else if (size < 0) {
    throw new RangeError('"size" argument must not be negative')
  }
}

function alloc (that, size, fill, encoding) {
  assertSize(size)
  if (size <= 0) {
    return createBuffer(that, size)
  }
  if (fill !== undefined) {
    // Only pay attention to encoding if it's a string. This
    // prevents accidentally sending in a number that would
    // be interpretted as a start offset.
    return typeof encoding === 'string'
      ? createBuffer(that, size).fill(fill, encoding)
      : createBuffer(that, size).fill(fill)
  }
  return createBuffer(that, size)
}

/**
 * Creates a new filled Buffer instance.
 * alloc(size[, fill[, encoding]])
 **/
Buffer.alloc = function (size, fill, encoding) {
  return alloc(null, size, fill, encoding)
}

function allocUnsafe (that, size) {
  assertSize(size)
  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)
  if (!Buffer.TYPED_ARRAY_SUPPORT) {
    for (var i = 0; i < size; ++i) {
      that[i] = 0
    }
  }
  return that
}

/**
 * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.
 * */
Buffer.allocUnsafe = function (size) {
  return allocUnsafe(null, size)
}
/**
 * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.
 */
Buffer.allocUnsafeSlow = function (size) {
  return allocUnsafe(null, size)
}

function fromString (that, string, encoding) {
  if (typeof encoding !== 'string' || encoding === '') {
    encoding = 'utf8'
  }

  if (!Buffer.isEncoding(encoding)) {
    throw new TypeError('"encoding" must be a valid string encoding')
  }

  var length = byteLength(string, encoding) | 0
  that = createBuffer(that, length)

  var actual = that.write(string, encoding)

  if (actual !== length) {
    // Writing a hex string, for example, that contains invalid characters will
    // cause everything after the first invalid character to be ignored. (e.g.
    // 'abxxcd' will be treated as 'ab')
    that = that.slice(0, actual)
  }

  return that
}

function fromArrayLike (that, array) {
  var length = array.length < 0 ? 0 : checked(array.length) | 0
  that = createBuffer(that, length)
  for (var i = 0; i < length; i += 1) {
    that[i] = array[i] & 255
  }
  return that
}

function fromArrayBuffer (that, array, byteOffset, length) {
  array.byteLength // this throws if `array` is not a valid ArrayBuffer

  if (byteOffset < 0 || array.byteLength < byteOffset) {
    throw new RangeError('\'offset\' is out of bounds')
  }

  if (array.byteLength < byteOffset + (length || 0)) {
    throw new RangeError('\'length\' is out of bounds')
  }

  if (byteOffset === undefined && length === undefined) {
    array = new Uint8Array(array)
  } else if (length === undefined) {
    array = new Uint8Array(array, byteOffset)
  } else {
    array = new Uint8Array(array, byteOffset, length)
  }

  if (Buffer.TYPED_ARRAY_SUPPORT) {
    // Return an augmented `Uint8Array` instance, for best performance
    that = array
    that.__proto__ = Buffer.prototype
  } else {
    // Fallback: Return an object instance of the Buffer class
    that = fromArrayLike(that, array)
  }
  return that
}

function fromObject (that, obj) {
  if (Buffer.isBuffer(obj)) {
    var len = checked(obj.length) | 0
    that = createBuffer(that, len)

    if (that.length === 0) {
      return that
    }

    obj.copy(that, 0, 0, len)
    return that
  }

  if (obj) {
    if ((typeof ArrayBuffer !== 'undefined' &&
        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {
      if (typeof obj.length !== 'number' || isnan(obj.length)) {
        return createBuffer(that, 0)
      }
      return fromArrayLike(that, obj)
    }

    if (obj.type === 'Buffer' && isArray(obj.data)) {
      return fromArrayLike(that, obj.data)
    }
  }

  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')
}

function checked (length) {
  // Note: cannot use `length < kMaxLength()` here because that fails when
  // length is NaN (which is otherwise coerced to zero.)
  if (length >= kMaxLength()) {
    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +
                         'size: 0x' + kMaxLength().toString(16) + ' bytes')
  }
  return length | 0
}

function SlowBuffer (length) {
  if (+length != length) { // eslint-disable-line eqeqeq
    length = 0
  }
  return Buffer.alloc(+length)
}

Buffer.isBuffer = function isBuffer (b) {
  return !!(b != null && b._isBuffer)
}

Buffer.compare = function compare (a, b) {
  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {
    throw new TypeError('Arguments must be Buffers')
  }

  if (a === b) return 0

  var x = a.length
  var y = b.length

  for (var i = 0, len = Math.min(x, y); i < len; ++i) {
    if (a[i] !== b[i]) {
      x = a[i]
      y = b[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

Buffer.isEncoding = function isEncoding (encoding) {
  switch (String(encoding).toLowerCase()) {
    case 'hex':
    case 'utf8':
    case 'utf-8':
    case 'ascii':
    case 'latin1':
    case 'binary':
    case 'base64':
    case 'ucs2':
    case 'ucs-2':
    case 'utf16le':
    case 'utf-16le':
      return true
    default:
      return false
  }
}

Buffer.concat = function concat (list, length) {
  if (!isArray(list)) {
    throw new TypeError('"list" argument must be an Array of Buffers')
  }

  if (list.length === 0) {
    return Buffer.alloc(0)
  }

  var i
  if (length === undefined) {
    length = 0
    for (i = 0; i < list.length; ++i) {
      length += list[i].length
    }
  }

  var buffer = Buffer.allocUnsafe(length)
  var pos = 0
  for (i = 0; i < list.length; ++i) {
    var buf = list[i]
    if (!Buffer.isBuffer(buf)) {
      throw new TypeError('"list" argument must be an Array of Buffers')
    }
    buf.copy(buffer, pos)
    pos += buf.length
  }
  return buffer
}

function byteLength (string, encoding) {
  if (Buffer.isBuffer(string)) {
    return string.length
  }
  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&
      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {
    return string.byteLength
  }
  if (typeof string !== 'string') {
    string = '' + string
  }

  var len = string.length
  if (len === 0) return 0

  // Use a for loop to avoid recursion
  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'ascii':
      case 'latin1':
      case 'binary':
        return len
      case 'utf8':
      case 'utf-8':
      case undefined:
        return utf8ToBytes(string).length
      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return len * 2
      case 'hex':
        return len >>> 1
      case 'base64':
        return base64ToBytes(string).length
      default:
        if (loweredCase) return utf8ToBytes(string).length // assume utf8
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}
Buffer.byteLength = byteLength

function slowToString (encoding, start, end) {
  var loweredCase = false

  // No need to verify that "this.length <= MAX_UINT32" since it's a read-only
  // property of a typed array.

  // This behaves neither like String nor Uint8Array in that we set start/end
  // to their upper/lower bounds if the value passed is out of range.
  // undefined is handled specially as per ECMA-262 6th Edition,
  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.
  if (start === undefined || start < 0) {
    start = 0
  }
  // Return early if start > this.length. Done here to prevent potential uint32
  // coercion fail below.
  if (start > this.length) {
    return ''
  }

  if (end === undefined || end > this.length) {
    end = this.length
  }

  if (end <= 0) {
    return ''
  }

  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.
  end >>>= 0
  start >>>= 0

  if (end <= start) {
    return ''
  }

  if (!encoding) encoding = 'utf8'

  while (true) {
    switch (encoding) {
      case 'hex':
        return hexSlice(this, start, end)

      case 'utf8':
      case 'utf-8':
        return utf8Slice(this, start, end)

      case 'ascii':
        return asciiSlice(this, start, end)

      case 'latin1':
      case 'binary':
        return latin1Slice(this, start, end)

      case 'base64':
        return base64Slice(this, start, end)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return utf16leSlice(this, start, end)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = (encoding + '').toLowerCase()
        loweredCase = true
    }
  }
}

// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect
// Buffer instances.
Buffer.prototype._isBuffer = true

function swap (b, n, m) {
  var i = b[n]
  b[n] = b[m]
  b[m] = i
}

Buffer.prototype.swap16 = function swap16 () {
  var len = this.length
  if (len % 2 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 16-bits')
  }
  for (var i = 0; i < len; i += 2) {
    swap(this, i, i + 1)
  }
  return this
}

Buffer.prototype.swap32 = function swap32 () {
  var len = this.length
  if (len % 4 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 32-bits')
  }
  for (var i = 0; i < len; i += 4) {
    swap(this, i, i + 3)
    swap(this, i + 1, i + 2)
  }
  return this
}

Buffer.prototype.swap64 = function swap64 () {
  var len = this.length
  if (len % 8 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 64-bits')
  }
  for (var i = 0; i < len; i += 8) {
    swap(this, i, i + 7)
    swap(this, i + 1, i + 6)
    swap(this, i + 2, i + 5)
    swap(this, i + 3, i + 4)
  }
  return this
}

Buffer.prototype.toString = function toString () {
  var length = this.length | 0
  if (length === 0) return ''
  if (arguments.length === 0) return utf8Slice(this, 0, length)
  return slowToString.apply(this, arguments)
}

Buffer.prototype.equals = function equals (b) {
  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')
  if (this === b) return true
  return Buffer.compare(this, b) === 0
}

Buffer.prototype.inspect = function inspect () {
  var str = ''
  var max = exports.INSPECT_MAX_BYTES
  if (this.length > 0) {
    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')
    if (this.length > max) str += ' ... '
  }
  return '<Buffer ' + str + '>'
}

Buffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {
  if (!Buffer.isBuffer(target)) {
    throw new TypeError('Argument must be a Buffer')
  }

  if (start === undefined) {
    start = 0
  }
  if (end === undefined) {
    end = target ? target.length : 0
  }
  if (thisStart === undefined) {
    thisStart = 0
  }
  if (thisEnd === undefined) {
    thisEnd = this.length
  }

  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {
    throw new RangeError('out of range index')
  }

  if (thisStart >= thisEnd && start >= end) {
    return 0
  }
  if (thisStart >= thisEnd) {
    return -1
  }
  if (start >= end) {
    return 1
  }

  start >>>= 0
  end >>>= 0
  thisStart >>>= 0
  thisEnd >>>= 0

  if (this === target) return 0

  var x = thisEnd - thisStart
  var y = end - start
  var len = Math.min(x, y)

  var thisCopy = this.slice(thisStart, thisEnd)
  var targetCopy = target.slice(start, end)

  for (var i = 0; i < len; ++i) {
    if (thisCopy[i] !== targetCopy[i]) {
      x = thisCopy[i]
      y = targetCopy[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,
// OR the last index of `val` in `buffer` at offset <= `byteOffset`.
//
// Arguments:
// - buffer - a Buffer to search
// - val - a string, Buffer, or number
// - byteOffset - an index into `buffer`; will be clamped to an int32
// - encoding - an optional encoding, relevant is val is a string
// - dir - true for indexOf, false for lastIndexOf
function bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {
  // Empty buffer means no match
  if (buffer.length === 0) return -1

  // Normalize byteOffset
  if (typeof byteOffset === 'string') {
    encoding = byteOffset
    byteOffset = 0
  } else if (byteOffset > 0x7fffffff) {
    byteOffset = 0x7fffffff
  } else if (byteOffset < -0x80000000) {
    byteOffset = -0x80000000
  }
  byteOffset = +byteOffset  // Coerce to Number.
  if (isNaN(byteOffset)) {
    // byteOffset: it it's undefined, null, NaN, "foo", etc, search whole buffer
    byteOffset = dir ? 0 : (buffer.length - 1)
  }

  // Normalize byteOffset: negative offsets start from the end of the buffer
  if (byteOffset < 0) byteOffset = buffer.length + byteOffset
  if (byteOffset >= buffer.length) {
    if (dir) return -1
    else byteOffset = buffer.length - 1
  } else if (byteOffset < 0) {
    if (dir) byteOffset = 0
    else return -1
  }

  // Normalize val
  if (typeof val === 'string') {
    val = Buffer.from(val, encoding)
  }

  // Finally, search either indexOf (if dir is true) or lastIndexOf
  if (Buffer.isBuffer(val)) {
    // Special case: looking for empty string/buffer always fails
    if (val.length === 0) {
      return -1
    }
    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)
  } else if (typeof val === 'number') {
    val = val & 0xFF // Search for a byte value [0-255]
    if (Buffer.TYPED_ARRAY_SUPPORT &&
        typeof Uint8Array.prototype.indexOf === 'function') {
      if (dir) {
        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)
      } else {
        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)
      }
    }
    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)
  }

  throw new TypeError('val must be string, number or Buffer')
}

function arrayIndexOf (arr, val, byteOffset, encoding, dir) {
  var indexSize = 1
  var arrLength = arr.length
  var valLength = val.length

  if (encoding !== undefined) {
    encoding = String(encoding).toLowerCase()
    if (encoding === 'ucs2' || encoding === 'ucs-2' ||
        encoding === 'utf16le' || encoding === 'utf-16le') {
      if (arr.length < 2 || val.length < 2) {
        return -1
      }
      indexSize = 2
      arrLength /= 2
      valLength /= 2
      byteOffset /= 2
    }
  }

  function read (buf, i) {
    if (indexSize === 1) {
      return buf[i]
    } else {
      return buf.readUInt16BE(i * indexSize)
    }
  }

  var i
  if (dir) {
    var foundIndex = -1
    for (i = byteOffset; i < arrLength; i++) {
      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {
        if (foundIndex === -1) foundIndex = i
        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize
      } else {
        if (foundIndex !== -1) i -= i - foundIndex
        foundIndex = -1
      }
    }
  } else {
    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength
    for (i = byteOffset; i >= 0; i--) {
      var found = true
      for (var j = 0; j < valLength; j++) {
        if (read(arr, i + j) !== read(val, j)) {
          found = false
          break
        }
      }
      if (found) return i
    }
  }

  return -1
}

Buffer.prototype.includes = function includes (val, byteOffset, encoding) {
  return this.indexOf(val, byteOffset, encoding) !== -1
}

Buffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)
}

Buffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)
}

function hexWrite (buf, string, offset, length) {
  offset = Number(offset) || 0
  var remaining = buf.length - offset
  if (!length) {
    length = remaining
  } else {
    length = Number(length)
    if (length > remaining) {
      length = remaining
    }
  }

  // must be an even number of digits
  var strLen = string.length
  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')

  if (length > strLen / 2) {
    length = strLen / 2
  }
  for (var i = 0; i < length; ++i) {
    var parsed = parseInt(string.substr(i * 2, 2), 16)
    if (isNaN(parsed)) return i
    buf[offset + i] = parsed
  }
  return i
}

function utf8Write (buf, string, offset, length) {
  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)
}

function asciiWrite (buf, string, offset, length) {
  return blitBuffer(asciiToBytes(string), buf, offset, length)
}

function latin1Write (buf, string, offset, length) {
  return asciiWrite(buf, string, offset, length)
}

function base64Write (buf, string, offset, length) {
  return blitBuffer(base64ToBytes(string), buf, offset, length)
}

function ucs2Write (buf, string, offset, length) {
  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)
}

Buffer.prototype.write = function write (string, offset, length, encoding) {
  // Buffer#write(string)
  if (offset === undefined) {
    encoding = 'utf8'
    length = this.length
    offset = 0
  // Buffer#write(string, encoding)
  } else if (length === undefined && typeof offset === 'string') {
    encoding = offset
    length = this.length
    offset = 0
  // Buffer#write(string, offset[, length][, encoding])
  } else if (isFinite(offset)) {
    offset = offset | 0
    if (isFinite(length)) {
      length = length | 0
      if (encoding === undefined) encoding = 'utf8'
    } else {
      encoding = length
      length = undefined
    }
  // legacy write(string, encoding, offset, length) - remove in v0.13
  } else {
    throw new Error(
      'Buffer.write(string, encoding, offset[, length]) is no longer supported'
    )
  }

  var remaining = this.length - offset
  if (length === undefined || length > remaining) length = remaining

  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {
    throw new RangeError('Attempt to write outside buffer bounds')
  }

  if (!encoding) encoding = 'utf8'

  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'hex':
        return hexWrite(this, string, offset, length)

      case 'utf8':
      case 'utf-8':
        return utf8Write(this, string, offset, length)

      case 'ascii':
        return asciiWrite(this, string, offset, length)

      case 'latin1':
      case 'binary':
        return latin1Write(this, string, offset, length)

      case 'base64':
        // Warning: maxLength not taken into account in base64Write
        return base64Write(this, string, offset, length)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return ucs2Write(this, string, offset, length)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}

Buffer.prototype.toJSON = function toJSON () {
  return {
    type: 'Buffer',
    data: Array.prototype.slice.call(this._arr || this, 0)
  }
}

function base64Slice (buf, start, end) {
  if (start === 0 && end === buf.length) {
    return base64.fromByteArray(buf)
  } else {
    return base64.fromByteArray(buf.slice(start, end))
  }
}

function utf8Slice (buf, start, end) {
  end = Math.min(buf.length, end)
  var res = []

  var i = start
  while (i < end) {
    var firstByte = buf[i]
    var codePoint = null
    var bytesPerSequence = (firstByte > 0xEF) ? 4
      : (firstByte > 0xDF) ? 3
      : (firstByte > 0xBF) ? 2
      : 1

    if (i + bytesPerSequence <= end) {
      var secondByte, thirdByte, fourthByte, tempCodePoint

      switch (bytesPerSequence) {
        case 1:
          if (firstByte < 0x80) {
            codePoint = firstByte
          }
          break
        case 2:
          secondByte = buf[i + 1]
          if ((secondByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)
            if (tempCodePoint > 0x7F) {
              codePoint = tempCodePoint
            }
          }
          break
        case 3:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)
            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {
              codePoint = tempCodePoint
            }
          }
          break
        case 4:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          fourthByte = buf[i + 3]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)
            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {
              codePoint = tempCodePoint
            }
          }
      }
    }

    if (codePoint === null) {
      // we did not generate a valid codePoint so insert a
      // replacement char (U+FFFD) and advance only 1 byte
      codePoint = 0xFFFD
      bytesPerSequence = 1
    } else if (codePoint > 0xFFFF) {
      // encode to utf16 (surrogate pair dance)
      codePoint -= 0x10000
      res.push(codePoint >>> 10 & 0x3FF | 0xD800)
      codePoint = 0xDC00 | codePoint & 0x3FF
    }

    res.push(codePoint)
    i += bytesPerSequence
  }

  return decodeCodePointsArray(res)
}

// Based on http://stackoverflow.com/a/22747272/680742, the browser with
// the lowest limit is Chrome, with 0x10000 args.
// We go 1 magnitude less, for safety
var MAX_ARGUMENTS_LENGTH = 0x1000

function decodeCodePointsArray (codePoints) {
  var len = codePoints.length
  if (len <= MAX_ARGUMENTS_LENGTH) {
    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()
  }

  // Decode in chunks to avoid "call stack size exceeded".
  var res = ''
  var i = 0
  while (i < len) {
    res += String.fromCharCode.apply(
      String,
      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)
    )
  }
  return res
}

function asciiSlice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i] & 0x7F)
  }
  return ret
}

function latin1Slice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i])
  }
  return ret
}

function hexSlice (buf, start, end) {
  var len = buf.length

  if (!start || start < 0) start = 0
  if (!end || end < 0 || end > len) end = len

  var out = ''
  for (var i = start; i < end; ++i) {
    out += toHex(buf[i])
  }
  return out
}

function utf16leSlice (buf, start, end) {
  var bytes = buf.slice(start, end)
  var res = ''
  for (var i = 0; i < bytes.length; i += 2) {
    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)
  }
  return res
}

Buffer.prototype.slice = function slice (start, end) {
  var len = this.length
  start = ~~start
  end = end === undefined ? len : ~~end

  if (start < 0) {
    start += len
    if (start < 0) start = 0
  } else if (start > len) {
    start = len
  }

  if (end < 0) {
    end += len
    if (end < 0) end = 0
  } else if (end > len) {
    end = len
  }

  if (end < start) end = start

  var newBuf
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    newBuf = this.subarray(start, end)
    newBuf.__proto__ = Buffer.prototype
  } else {
    var sliceLen = end - start
    newBuf = new Buffer(sliceLen, undefined)
    for (var i = 0; i < sliceLen; ++i) {
      newBuf[i] = this[i + start]
    }
  }

  return newBuf
}

/*
 * Need to make sure that buffer isn't trying to write out of bounds.
 */
function checkOffset (offset, ext, length) {
  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')
  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')
}

Buffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }

  return val
}

Buffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    checkOffset(offset, byteLength, this.length)
  }

  var val = this[offset + --byteLength]
  var mul = 1
  while (byteLength > 0 && (mul *= 0x100)) {
    val += this[offset + --byteLength] * mul
  }

  return val
}

Buffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 1, this.length)
  return this[offset]
}

Buffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  return this[offset] | (this[offset + 1] << 8)
}

Buffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  return (this[offset] << 8) | this[offset + 1]
}

Buffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return ((this[offset]) |
      (this[offset + 1] << 8) |
      (this[offset + 2] << 16)) +
      (this[offset + 3] * 0x1000000)
}

Buffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] * 0x1000000) +
    ((this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    this[offset + 3])
}

Buffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var i = byteLength
  var mul = 1
  var val = this[offset + --i]
  while (i > 0 && (mul *= 0x100)) {
    val += this[offset + --i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readInt8 = function readInt8 (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 1, this.length)
  if (!(this[offset] & 0x80)) return (this[offset])
  return ((0xff - this[offset] + 1) * -1)
}

Buffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset] | (this[offset + 1] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset + 1] | (this[offset] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset]) |
    (this[offset + 1] << 8) |
    (this[offset + 2] << 16) |
    (this[offset + 3] << 24)
}

Buffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] << 24) |
    (this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    (this[offset + 3])
}

Buffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, true, 23, 4)
}

Buffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, false, 23, 4)
}

Buffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, true, 52, 8)
}

Buffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, false, 52, 8)
}

function checkInt (buf, value, offset, ext, max, min) {
  if (!Buffer.isBuffer(buf)) throw new TypeError('"buffer" argument must be a Buffer instance')
  if (value > max || value < min) throw new RangeError('"value" argument is out of bounds')
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
}

Buffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    var maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  var mul = 1
  var i = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    var maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  var i = byteLength - 1
  var mul = 1
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)
  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)
  this[offset] = (value & 0xff)
  return offset + 1
}

function objectWriteUInt16 (buf, value, offset, littleEndian) {
  if (value < 0) value = 0xffff + value + 1
  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {
    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>
      (littleEndian ? i : 1 - i) * 8
  }
}

Buffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
  } else {
    objectWriteUInt16(this, value, offset, true)
  }
  return offset + 2
}

Buffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 8)
    this[offset + 1] = (value & 0xff)
  } else {
    objectWriteUInt16(this, value, offset, false)
  }
  return offset + 2
}

function objectWriteUInt32 (buf, value, offset, littleEndian) {
  if (value < 0) value = 0xffffffff + value + 1
  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {
    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff
  }
}

Buffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset + 3] = (value >>> 24)
    this[offset + 2] = (value >>> 16)
    this[offset + 1] = (value >>> 8)
    this[offset] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, true)
  }
  return offset + 4
}

Buffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 24)
    this[offset + 1] = (value >>> 16)
    this[offset + 2] = (value >>> 8)
    this[offset + 3] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, false)
  }
  return offset + 4
}

Buffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) {
    var limit = Math.pow(2, 8 * byteLength - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = 0
  var mul = 1
  var sub = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) {
    var limit = Math.pow(2, 8 * byteLength - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = byteLength - 1
  var mul = 1
  var sub = 0
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)
  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)
  if (value < 0) value = 0xff + value + 1
  this[offset] = (value & 0xff)
  return offset + 1
}

Buffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
  } else {
    objectWriteUInt16(this, value, offset, true)
  }
  return offset + 2
}

Buffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 8)
    this[offset + 1] = (value & 0xff)
  } else {
    objectWriteUInt16(this, value, offset, false)
  }
  return offset + 2
}

Buffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
    this[offset + 2] = (value >>> 16)
    this[offset + 3] = (value >>> 24)
  } else {
    objectWriteUInt32(this, value, offset, true)
  }
  return offset + 4
}

Buffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (value < 0) value = 0xffffffff + value + 1
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 24)
    this[offset + 1] = (value >>> 16)
    this[offset + 2] = (value >>> 8)
    this[offset + 3] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, false)
  }
  return offset + 4
}

function checkIEEE754 (buf, value, offset, ext, max, min) {
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
  if (offset < 0) throw new RangeError('Index out of range')
}

function writeFloat (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)
  }
  ieee754.write(buf, value, offset, littleEndian, 23, 4)
  return offset + 4
}

Buffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {
  return writeFloat(this, value, offset, true, noAssert)
}

Buffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {
  return writeFloat(this, value, offset, false, noAssert)
}

function writeDouble (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)
  }
  ieee754.write(buf, value, offset, littleEndian, 52, 8)
  return offset + 8
}

Buffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {
  return writeDouble(this, value, offset, true, noAssert)
}

Buffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {
  return writeDouble(this, value, offset, false, noAssert)
}

// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)
Buffer.prototype.copy = function copy (target, targetStart, start, end) {
  if (!start) start = 0
  if (!end && end !== 0) end = this.length
  if (targetStart >= target.length) targetStart = target.length
  if (!targetStart) targetStart = 0
  if (end > 0 && end < start) end = start

  // Copy 0 bytes; we're done
  if (end === start) return 0
  if (target.length === 0 || this.length === 0) return 0

  // Fatal error conditions
  if (targetStart < 0) {
    throw new RangeError('targetStart out of bounds')
  }
  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')
  if (end < 0) throw new RangeError('sourceEnd out of bounds')

  // Are we oob?
  if (end > this.length) end = this.length
  if (target.length - targetStart < end - start) {
    end = target.length - targetStart + start
  }

  var len = end - start
  var i

  if (this === target && start < targetStart && targetStart < end) {
    // descending copy from end
    for (i = len - 1; i >= 0; --i) {
      target[i + targetStart] = this[i + start]
    }
  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {
    // ascending copy from start
    for (i = 0; i < len; ++i) {
      target[i + targetStart] = this[i + start]
    }
  } else {
    Uint8Array.prototype.set.call(
      target,
      this.subarray(start, start + len),
      targetStart
    )
  }

  return len
}

// Usage:
//    buffer.fill(number[, offset[, end]])
//    buffer.fill(buffer[, offset[, end]])
//    buffer.fill(string[, offset[, end]][, encoding])
Buffer.prototype.fill = function fill (val, start, end, encoding) {
  // Handle string cases:
  if (typeof val === 'string') {
    if (typeof start === 'string') {
      encoding = start
      start = 0
      end = this.length
    } else if (typeof end === 'string') {
      encoding = end
      end = this.length
    }
    if (val.length === 1) {
      var code = val.charCodeAt(0)
      if (code < 256) {
        val = code
      }
    }
    if (encoding !== undefined && typeof encoding !== 'string') {
      throw new TypeError('encoding must be a string')
    }
    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {
      throw new TypeError('Unknown encoding: ' + encoding)
    }
  } else if (typeof val === 'number') {
    val = val & 255
  }

  // Invalid ranges are not set to a default, so can range check early.
  if (start < 0 || this.length < start || this.length < end) {
    throw new RangeError('Out of range index')
  }

  if (end <= start) {
    return this
  }

  start = start >>> 0
  end = end === undefined ? this.length : end >>> 0

  if (!val) val = 0

  var i
  if (typeof val === 'number') {
    for (i = start; i < end; ++i) {
      this[i] = val
    }
  } else {
    var bytes = Buffer.isBuffer(val)
      ? val
      : utf8ToBytes(new Buffer(val, encoding).toString())
    var len = bytes.length
    for (i = 0; i < end - start; ++i) {
      this[i + start] = bytes[i % len]
    }
  }

  return this
}

// HELPER FUNCTIONS
// ================

var INVALID_BASE64_RE = /[^+\/0-9A-Za-z-_]/g

function base64clean (str) {
  // Node strips out invalid characters like \n and \t from the string, base64-js does not
  str = stringtrim(str).replace(INVALID_BASE64_RE, '')
  // Node converts strings with length < 2 to ''
  if (str.length < 2) return ''
  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not
  while (str.length % 4 !== 0) {
    str = str + '='
  }
  return str
}

function stringtrim (str) {
  if (str.trim) return str.trim()
  return str.replace(/^\s+|\s+$/g, '')
}

function toHex (n) {
  if (n < 16) return '0' + n.toString(16)
  return n.toString(16)
}

function utf8ToBytes (string, units) {
  units = units || Infinity
  var codePoint
  var length = string.length
  var leadSurrogate = null
  var bytes = []

  for (var i = 0; i < length; ++i) {
    codePoint = string.charCodeAt(i)

    // is surrogate component
    if (codePoint > 0xD7FF && codePoint < 0xE000) {
      // last char was a lead
      if (!leadSurrogate) {
        // no lead yet
        if (codePoint > 0xDBFF) {
          // unexpected trail
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        } else if (i + 1 === length) {
          // unpaired lead
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        }

        // valid lead
        leadSurrogate = codePoint

        continue
      }

      // 2 leads in a row
      if (codePoint < 0xDC00) {
        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
        leadSurrogate = codePoint
        continue
      }

      // valid surrogate pair
      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000
    } else if (leadSurrogate) {
      // valid bmp char, but last char was a lead
      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
    }

    leadSurrogate = null

    // encode utf8
    if (codePoint < 0x80) {
      if ((units -= 1) < 0) break
      bytes.push(codePoint)
    } else if (codePoint < 0x800) {
      if ((units -= 2) < 0) break
      bytes.push(
        codePoint >> 0x6 | 0xC0,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x10000) {
      if ((units -= 3) < 0) break
      bytes.push(
        codePoint >> 0xC | 0xE0,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x110000) {
      if ((units -= 4) < 0) break
      bytes.push(
        codePoint >> 0x12 | 0xF0,
        codePoint >> 0xC & 0x3F | 0x80,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else {
      throw new Error('Invalid code point')
    }
  }

  return bytes
}

function asciiToBytes (str) {
  var byteArray = []
  for (var i = 0; i < str.length; ++i) {
    // Node's code seems to be doing this and not & 0x7F..
    byteArray.push(str.charCodeAt(i) & 0xFF)
  }
  return byteArray
}

function utf16leToBytes (str, units) {
  var c, hi, lo
  var byteArray = []
  for (var i = 0; i < str.length; ++i) {
    if ((units -= 2) < 0) break

    c = str.charCodeAt(i)
    hi = c >> 8
    lo = c % 256
    byteArray.push(lo)
    byteArray.push(hi)
  }

  return byteArray
}

function base64ToBytes (str) {
  return base64.toByteArray(base64clean(str))
}

function blitBuffer (src, dst, offset, length) {
  for (var i = 0; i < length; ++i) {
    if ((i + offset >= dst.length) || (i >= src.length)) break
    dst[i + offset] = src[i]
  }
  return i
}

function isnan (val) {
  return val !== val // eslint-disable-line no-self-compare
}

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./node_modules/buffer/node_modules/isarray/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/buffer/node_modules/isarray/index.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

var toString = {}.toString;

module.exports = Array.isArray || function (arr) {
  return toString.call(arr) == '[object Array]';
};


/***/ }),

/***/ "./node_modules/eventemitter3/umd/eventemitter3.min.js":
/*!*************************************************************!*\
  !*** ./node_modules/eventemitter3/umd/eventemitter3.min.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var require;var require;!function(e){ true?module.exports=e():undefined}(function(){return function i(s,f,c){function u(t,e){if(!f[t]){if(!s[t]){var n="function"==typeof require&&require;if(!e&&n)return require(t,!0);if(a)return a(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var o=f[t]={exports:{}};s[t][0].call(o.exports,function(e){return u(s[t][1][e]||e)},o,o.exports,i,s,f,c)}return f[t].exports}for(var a="function"==typeof require&&require,e=0;e<c.length;e++)u(c[e]);return u}({1:[function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,v="~";function o(){}function f(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,n,r,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var i=new f(n,r||e,o),s=v?v+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],i]:e._events[s].push(i):(e._events[s]=i,e._eventsCount++),e}function u(e,t){0==--e._eventsCount?e._events=new o:delete e._events[t]}function s(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(v=!1)),s.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(v?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},s.prototype.listeners=function(e){var t=v?v+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,i=new Array(o);r<o;r++)i[r]=n[r].fn;return i},s.prototype.listenerCount=function(e){var t=v?v+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,r,o,i){var s=v?v+e:e;if(!this._events[s])return!1;var f,c=this._events[s],u=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),u){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,r),!0;case 5:return c.fn.call(c.context,t,n,r,o),!0;case 6:return c.fn.call(c.context,t,n,r,o,i),!0}for(p=1,f=new Array(u-1);p<u;p++)f[p-1]=arguments[p];c.fn.apply(c.context,f)}else for(var a,l=c.length,p=0;p<l;p++)switch(c[p].once&&this.removeListener(e,c[p].fn,void 0,!0),u){case 1:c[p].fn.call(c[p].context);break;case 2:c[p].fn.call(c[p].context,t);break;case 3:c[p].fn.call(c[p].context,t,n);break;case 4:c[p].fn.call(c[p].context,t,n,r);break;default:if(!f)for(a=1,f=new Array(u-1);a<u;a++)f[a-1]=arguments[a];c[p].fn.apply(c[p].context,f)}return!0},s.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,n,r){var o=v?v+e:e;if(!this._events[o])return this;if(!t)return u(this,o),this;var i=this._events[o];if(i.fn)i.fn!==t||r&&!i.once||n&&i.context!==n||u(this,o);else{for(var s=0,f=[],c=i.length;s<c;s++)(i[s].fn!==t||r&&!i[s].once||n&&i[s].context!==n)&&f.push(i[s]);f.length?this._events[o]=1===f.length?f[0]:f:u(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=v?v+e:e,this._events[t]&&u(this,t)):(this._events=new o,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=v,s.EventEmitter=s,void 0!==t&&(t.exports=s)},{}]},{},[1])(1)});

/***/ }),

/***/ "./node_modules/ieee754/index.js":
/*!***************************************!*\
  !*** ./node_modules/ieee754/index.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
exports.read = function (buffer, offset, isLE, mLen, nBytes) {
  var e, m
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var nBits = -7
  var i = isLE ? (nBytes - 1) : 0
  var d = isLE ? -1 : 1
  var s = buffer[offset + i]

  i += d

  e = s & ((1 << (-nBits)) - 1)
  s >>= (-nBits)
  nBits += eLen
  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  m = e & ((1 << (-nBits)) - 1)
  e >>= (-nBits)
  nBits += mLen
  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  if (e === 0) {
    e = 1 - eBias
  } else if (e === eMax) {
    return m ? NaN : ((s ? -1 : 1) * Infinity)
  } else {
    m = m + Math.pow(2, mLen)
    e = e - eBias
  }
  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)
}

exports.write = function (buffer, value, offset, isLE, mLen, nBytes) {
  var e, m, c
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)
  var i = isLE ? 0 : (nBytes - 1)
  var d = isLE ? 1 : -1
  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0

  value = Math.abs(value)

  if (isNaN(value) || value === Infinity) {
    m = isNaN(value) ? 1 : 0
    e = eMax
  } else {
    e = Math.floor(Math.log(value) / Math.LN2)
    if (value * (c = Math.pow(2, -e)) < 1) {
      e--
      c *= 2
    }
    if (e + eBias >= 1) {
      value += rt / c
    } else {
      value += rt * Math.pow(2, 1 - eBias)
    }
    if (value * c >= 2) {
      e++
      c /= 2
    }

    if (e + eBias >= eMax) {
      m = 0
      e = eMax
    } else if (e + eBias >= 1) {
      m = ((value * c) - 1) * Math.pow(2, mLen)
      e = e + eBias
    } else {
      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)
      e = 0
    }
  }

  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}

  e = (e << mLen) | m
  eLen += mLen
  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}

  buffer[offset + i - d] |= s * 128
}


/***/ }),

/***/ "./node_modules/sdp-transform/lib/grammar.js":
/*!***************************************************!*\
  !*** ./node_modules/sdp-transform/lib/grammar.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

var grammar = module.exports = {
  v: [{
    name: 'version',
    reg: /^(\d*)$/
  }],
  o: [{
    // o=- 20518 0 IN IP4 203.0.113.1
    // NB: sessionId will be a String in most cases because it is huge
    name: 'origin',
    reg: /^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,
    names: ['username', 'sessionId', 'sessionVersion', 'netType', 'ipVer', 'address'],
    format: '%s %s %d %s IP%d %s'
  }],
  // default parsing of these only (though some of these feel outdated)
  s: [{ name: 'name' }],
  i: [{ name: 'description' }],
  u: [{ name: 'uri' }],
  e: [{ name: 'email' }],
  p: [{ name: 'phone' }],
  z: [{ name: 'timezones' }], // TODO: this one can actually be parsed properly...
  r: [{ name: 'repeats' }],   // TODO: this one can also be parsed properly
  // k: [{}], // outdated thing ignored
  t: [{
    // t=0 0
    name: 'timing',
    reg: /^(\d*) (\d*)/,
    names: ['start', 'stop'],
    format: '%d %d'
  }],
  c: [{
    // c=IN IP4 10.47.197.26
    name: 'connection',
    reg: /^IN IP(\d) (\S*)/,
    names: ['version', 'ip'],
    format: 'IN IP%d %s'
  }],
  b: [{
    // b=AS:4000
    push: 'bandwidth',
    reg: /^(TIAS|AS|CT|RR|RS):(\d*)/,
    names: ['type', 'limit'],
    format: '%s:%s'
  }],
  m: [{
    // m=video 51744 RTP/AVP 126 97 98 34 31
    // NB: special - pushes to session
    // TODO: rtp/fmtp should be filtered by the payloads found here?
    reg: /^(\w*) (\d*) ([\w/]*)(?: (.*))?/,
    names: ['type', 'port', 'protocol', 'payloads'],
    format: '%s %d %s %s'
  }],
  a: [
    {
      // a=rtpmap:110 opus/48000/2
      push: 'rtp',
      reg: /^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,
      names: ['payload', 'codec', 'rate', 'encoding'],
      format: function (o) {
        return (o.encoding)
          ? 'rtpmap:%d %s/%s/%s'
          : o.rate
            ? 'rtpmap:%d %s/%s'
            : 'rtpmap:%d %s';
      }
    },
    {
      // a=fmtp:108 profile-level-id=24;object=23;bitrate=64000
      // a=fmtp:111 minptime=10; useinbandfec=1
      push: 'fmtp',
      reg: /^fmtp:(\d*) ([\S| ]*)/,
      names: ['payload', 'config'],
      format: 'fmtp:%d %s'
    },
    {
      // a=control:streamid=0
      name: 'control',
      reg: /^control:(.*)/,
      format: 'control:%s'
    },
    {
      // a=rtcp:65179 IN IP4 193.84.77.194
      name: 'rtcp',
      reg: /^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,
      names: ['port', 'netType', 'ipVer', 'address'],
      format: function (o) {
        return (o.address != null)
          ? 'rtcp:%d %s IP%d %s'
          : 'rtcp:%d';
      }
    },
    {
      // a=rtcp-fb:98 trr-int 100
      push: 'rtcpFbTrrInt',
      reg: /^rtcp-fb:(\*|\d*) trr-int (\d*)/,
      names: ['payload', 'value'],
      format: 'rtcp-fb:%s trr-int %d'
    },
    {
      // a=rtcp-fb:98 nack rpsi
      push: 'rtcpFb',
      reg: /^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,
      names: ['payload', 'type', 'subtype'],
      format: function (o) {
        return (o.subtype != null)
          ? 'rtcp-fb:%s %s %s'
          : 'rtcp-fb:%s %s';
      }
    },
    {
      // a=extmap:2 urn:ietf:params:rtp-hdrext:toffset
      // a=extmap:1/recvonly URI-gps-string
      // a=extmap:3 urn:ietf:params:rtp-hdrext:encrypt urn:ietf:params:rtp-hdrext:smpte-tc 25@600/24
      push: 'ext',
      reg: /^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,
      names: ['value', 'direction', 'encrypt-uri', 'uri', 'config'],
      format: function (o) {
        return (
          'extmap:%d' +
          (o.direction ? '/%s' : '%v') +
          (o['encrypt-uri'] ? ' %s' : '%v') +
          ' %s' +
          (o.config ? ' %s' : '')
        );
      }
    },
    {
      // a=extmap-allow-mixed
      name: 'extmapAllowMixed',
      reg: /^(extmap-allow-mixed)/
    },
    {
      // a=crypto:1 AES_CM_128_HMAC_SHA1_80 inline:PS1uQCVeeCFCanVmcjkpPywjNWhcYD0mXXtxaVBR|2^20|1:32
      push: 'crypto',
      reg: /^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,
      names: ['id', 'suite', 'config', 'sessionConfig'],
      format: function (o) {
        return (o.sessionConfig != null)
          ? 'crypto:%d %s %s %s'
          : 'crypto:%d %s %s';
      }
    },
    {
      // a=setup:actpass
      name: 'setup',
      reg: /^setup:(\w*)/,
      format: 'setup:%s'
    },
    {
      // a=connection:new
      name: 'connectionType',
      reg: /^connection:(new|existing)/,
      format: 'connection:%s'
    },
    {
      // a=mid:1
      name: 'mid',
      reg: /^mid:([^\s]*)/,
      format: 'mid:%s'
    },
    {
      // a=msid:0c8b064d-d807-43b4-b434-f92a889d8587 98178685-d409-46e0-8e16-7ef0db0db64a
      name: 'msid',
      reg: /^msid:(.*)/,
      format: 'msid:%s'
    },
    {
      // a=ptime:20
      name: 'ptime',
      reg: /^ptime:(\d*(?:\.\d*)*)/,
      format: 'ptime:%d'
    },
    {
      // a=maxptime:60
      name: 'maxptime',
      reg: /^maxptime:(\d*(?:\.\d*)*)/,
      format: 'maxptime:%d'
    },
    {
      // a=sendrecv
      name: 'direction',
      reg: /^(sendrecv|recvonly|sendonly|inactive)/
    },
    {
      // a=ice-lite
      name: 'icelite',
      reg: /^(ice-lite)/
    },
    {
      // a=ice-ufrag:F7gI
      name: 'iceUfrag',
      reg: /^ice-ufrag:(\S*)/,
      format: 'ice-ufrag:%s'
    },
    {
      // a=ice-pwd:x9cml/YzichV2+XlhiMu8g
      name: 'icePwd',
      reg: /^ice-pwd:(\S*)/,
      format: 'ice-pwd:%s'
    },
    {
      // a=fingerprint:SHA-1 00:11:22:33:44:55:66:77:88:99:AA:BB:CC:DD:EE:FF:00:11:22:33
      name: 'fingerprint',
      reg: /^fingerprint:(\S*) (\S*)/,
      names: ['type', 'hash'],
      format: 'fingerprint:%s %s'
    },
    {
      // a=candidate:0 1 UDP 2113667327 203.0.113.1 54400 typ host
      // a=candidate:1162875081 1 udp 2113937151 192.168.34.75 60017 typ host generation 0 network-id 3 network-cost 10
      // a=candidate:3289912957 2 udp 1845501695 193.84.77.194 60017 typ srflx raddr 192.168.34.75 rport 60017 generation 0 network-id 3 network-cost 10
      // a=candidate:229815620 1 tcp 1518280447 192.168.150.19 60017 typ host tcptype active generation 0 network-id 3 network-cost 10
      // a=candidate:3289912957 2 tcp 1845501695 193.84.77.194 60017 typ srflx raddr 192.168.34.75 rport 60017 tcptype passive generation 0 network-id 3 network-cost 10
      push:'candidates',
      reg: /^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,
      names: ['foundation', 'component', 'transport', 'priority', 'ip', 'port', 'type', 'raddr', 'rport', 'tcptype', 'generation', 'network-id', 'network-cost'],
      format: function (o) {
        var str = 'candidate:%s %d %s %d %s %d typ %s';

        str += (o.raddr != null) ? ' raddr %s rport %d' : '%v%v';

        // NB: candidate has three optional chunks, so %void middles one if it's missing
        str += (o.tcptype != null) ? ' tcptype %s' : '%v';

        if (o.generation != null) {
          str += ' generation %d';
        }

        str += (o['network-id'] != null) ? ' network-id %d' : '%v';
        str += (o['network-cost'] != null) ? ' network-cost %d' : '%v';
        return str;
      }
    },
    {
      // a=end-of-candidates (keep after the candidates line for readability)
      name: 'endOfCandidates',
      reg: /^(end-of-candidates)/
    },
    {
      // a=remote-candidates:1 203.0.113.1 54400 2 203.0.113.1 54401 ...
      name: 'remoteCandidates',
      reg: /^remote-candidates:(.*)/,
      format: 'remote-candidates:%s'
    },
    {
      // a=ice-options:google-ice
      name: 'iceOptions',
      reg: /^ice-options:(\S*)/,
      format: 'ice-options:%s'
    },
    {
      // a=ssrc:2566107569 cname:t9YU8M1UxTF8Y1A1
      push: 'ssrcs',
      reg: /^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,
      names: ['id', 'attribute', 'value'],
      format: function (o) {
        var str = 'ssrc:%d';
        if (o.attribute != null) {
          str += ' %s';
          if (o.value != null) {
            str += ':%s';
          }
        }
        return str;
      }
    },
    {
      // a=ssrc-group:FEC 1 2
      // a=ssrc-group:FEC-FR 3004364195 1080772241
      push: 'ssrcGroups',
      // token-char = %x21 / %x23-27 / %x2A-2B / %x2D-2E / %x30-39 / %x41-5A / %x5E-7E
      reg: /^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,
      names: ['semantics', 'ssrcs'],
      format: 'ssrc-group:%s %s'
    },
    {
      // a=msid-semantic: WMS Jvlam5X3SX1OP6pn20zWogvaKJz5Hjf9OnlV
      name: 'msidSemantic',
      reg: /^msid-semantic:\s?(\w*) (\S*)/,
      names: ['semantic', 'token'],
      format: 'msid-semantic: %s %s' // space after ':' is not accidental
    },
    {
      // a=group:BUNDLE audio video
      push: 'groups',
      reg: /^group:(\w*) (.*)/,
      names: ['type', 'mids'],
      format: 'group:%s %s'
    },
    {
      // a=rtcp-mux
      name: 'rtcpMux',
      reg: /^(rtcp-mux)/
    },
    {
      // a=rtcp-rsize
      name: 'rtcpRsize',
      reg: /^(rtcp-rsize)/
    },
    {
      // a=sctpmap:5000 webrtc-datachannel 1024
      name: 'sctpmap',
      reg: /^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,
      names: ['sctpmapNumber', 'app', 'maxMessageSize'],
      format: function (o) {
        return (o.maxMessageSize != null)
          ? 'sctpmap:%s %s %s'
          : 'sctpmap:%s %s';
      }
    },
    {
      // a=x-google-flag:conference
      name: 'xGoogleFlag',
      reg: /^x-google-flag:([^\s]*)/,
      format: 'x-google-flag:%s'
    },
    {
      // a=rid:1 send max-width=1280;max-height=720;max-fps=30;depend=0
      push: 'rids',
      reg: /^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,
      names: ['id', 'direction', 'params'],
      format: function (o) {
        return (o.params) ? 'rid:%s %s %s' : 'rid:%s %s';
      }
    },
    {
      // a=imageattr:97 send [x=800,y=640,sar=1.1,q=0.6] [x=480,y=320] recv [x=330,y=250]
      // a=imageattr:* send [x=800,y=640] recv *
      // a=imageattr:100 recv [x=320,y=240]
      push: 'imageattrs',
      reg: new RegExp(
        // a=imageattr:97
        '^imageattr:(\\d+|\\*)' +
        // send [x=800,y=640,sar=1.1,q=0.6] [x=480,y=320]
        '[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)' +
        // recv [x=330,y=250]
        '(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?'
      ),
      names: ['pt', 'dir1', 'attrs1', 'dir2', 'attrs2'],
      format: function (o) {
        return 'imageattr:%s %s %s' + (o.dir2 ? ' %s %s' : '');
      }
    },
    {
      // a=simulcast:send 1,2,3;~4,~5 recv 6;~7,~8
      // a=simulcast:recv 1;4,5 send 6;7
      name: 'simulcast',
      reg: new RegExp(
        // a=simulcast:
        '^simulcast:' +
        // send 1,2,3;~4,~5
        '(send|recv) ([a-zA-Z0-9\\-_~;,]+)' +
        // space + recv 6;~7,~8
        '(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?' +
        // end
        '$'
      ),
      names: ['dir1', 'list1', 'dir2', 'list2'],
      format: function (o) {
        return 'simulcast:%s %s' + (o.dir2 ? ' %s %s' : '');
      }
    },
    {
      // old simulcast draft 03 (implemented by Firefox)
      //   https://tools.ietf.org/html/draft-ietf-mmusic-sdp-simulcast-03
      // a=simulcast: recv pt=97;98 send pt=97
      // a=simulcast: send rid=5;6;7 paused=6,7
      name: 'simulcast_03',
      reg: /^simulcast:[\s\t]+([\S+\s\t]+)$/,
      names: ['value'],
      format: 'simulcast: %s'
    },
    {
      // a=framerate:25
      // a=framerate:29.97
      name: 'framerate',
      reg: /^framerate:(\d+(?:$|\.\d+))/,
      format: 'framerate:%s'
    },
    {
      // RFC4570
      // a=source-filter: incl IN IP4 239.5.2.31 10.1.15.5
      name: 'sourceFilter',
      reg: /^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,
      names: ['filterMode', 'netType', 'addressTypes', 'destAddress', 'srcList'],
      format: 'source-filter: %s %s %s %s %s'
    },
    {
      // a=bundle-only
      name: 'bundleOnly',
      reg: /^(bundle-only)/
    },
    {
      // a=label:1
      name: 'label',
      reg: /^label:(.+)/,
      format: 'label:%s'
    },
    {
      // RFC version 26 for SCTP over DTLS
      // https://tools.ietf.org/html/draft-ietf-mmusic-sctp-sdp-26#section-5
      name: 'sctpPort',
      reg: /^sctp-port:(\d+)$/,
      format: 'sctp-port:%s'
    },
    {
      // RFC version 26 for SCTP over DTLS
      // https://tools.ietf.org/html/draft-ietf-mmusic-sctp-sdp-26#section-6
      name: 'maxMessageSize',
      reg: /^max-message-size:(\d+)$/,
      format: 'max-message-size:%s'
    },
    {
      // RFC7273
      // a=ts-refclk:ptp=IEEE1588-2008:39-A7-94-FF-FE-07-CB-D0:37
      push:'tsRefClocks',
      reg: /^ts-refclk:([^\s=]*)(?:=(\S*))?/,
      names: ['clksrc', 'clksrcExt'],
      format: function (o) {
        return 'ts-refclk:%s' + (o.clksrcExt != null ? '=%s' : '');
      }
    },
    {
      // RFC7273
      // a=mediaclk:direct=963214424
      name:'mediaClk',
      reg: /^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,
      names: ['id', 'mediaClockName', 'mediaClockValue', 'rateNumerator', 'rateDenominator'],
      format: function (o) {
        var str = 'mediaclk:';
        str += (o.id != null ? 'id=%s %s' : '%v%s');
        str += (o.mediaClockValue != null ? '=%s' : '');
        str += (o.rateNumerator != null ? ' rate=%s' : '');
        str += (o.rateDenominator != null ? '/%s' : '');
        return str;
      }
    },
    {
      // a=keywds:keywords
      name: 'keywords',
      reg: /^keywds:(.+)$/,
      format: 'keywds:%s'
    },
    {
      // a=content:main
      name: 'content',
      reg: /^content:(.+)/,
      format: 'content:%s'
    },
    // BFCP https://tools.ietf.org/html/rfc4583
    {
      // a=floorctrl:c-s
      name: 'bfcpFloorCtrl',
      reg: /^floorctrl:(c-only|s-only|c-s)/,
      format: 'floorctrl:%s'
    },
    {
      // a=confid:1
      name: 'bfcpConfId',
      reg: /^confid:(\d+)/,
      format: 'confid:%s'
    },
    {
      // a=userid:1
      name: 'bfcpUserId',
      reg: /^userid:(\d+)/,
      format: 'userid:%s'
    },
    {
      // a=floorid:1
      name: 'bfcpFloorId',
      reg: /^floorid:(.+) (?:m-stream|mstrm):(.+)/,
      names: ['id', 'mStream'],
      format: 'floorid:%s mstrm:%s'
    },
    {
      // any a= that we don't understand is kept verbatim on media.invalid
      push: 'invalid',
      names: ['value']
    }
  ]
};

// set sensible defaults to avoid polluting the grammar with boring details
Object.keys(grammar).forEach(function (key) {
  var objs = grammar[key];
  objs.forEach(function (obj) {
    if (!obj.reg) {
      obj.reg = /(.*)/;
    }
    if (!obj.format) {
      obj.format = '%s';
    }
  });
});


/***/ }),

/***/ "./node_modules/sdp-transform/lib/index.js":
/*!*************************************************!*\
  !*** ./node_modules/sdp-transform/lib/index.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var parser = __webpack_require__(/*! ./parser */ "./node_modules/sdp-transform/lib/parser.js");
var writer = __webpack_require__(/*! ./writer */ "./node_modules/sdp-transform/lib/writer.js");

exports.write = writer;
exports.parse = parser.parse;
exports.parseParams = parser.parseParams;
exports.parseFmtpConfig = parser.parseFmtpConfig; // Alias of parseParams().
exports.parsePayloads = parser.parsePayloads;
exports.parseRemoteCandidates = parser.parseRemoteCandidates;
exports.parseImageAttributes = parser.parseImageAttributes;
exports.parseSimulcastStreamList = parser.parseSimulcastStreamList;


/***/ }),

/***/ "./node_modules/sdp-transform/lib/parser.js":
/*!**************************************************!*\
  !*** ./node_modules/sdp-transform/lib/parser.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var toIntIfInt = function (v) {
  return String(Number(v)) === v ? Number(v) : v;
};

var attachProperties = function (match, location, names, rawName) {
  if (rawName && !names) {
    location[rawName] = toIntIfInt(match[1]);
  }
  else {
    for (var i = 0; i < names.length; i += 1) {
      if (match[i+1] != null) {
        location[names[i]] = toIntIfInt(match[i+1]);
      }
    }
  }
};

var parseReg = function (obj, location, content) {
  var needsBlank = obj.name && obj.names;
  if (obj.push && !location[obj.push]) {
    location[obj.push] = [];
  }
  else if (needsBlank && !location[obj.name]) {
    location[obj.name] = {};
  }
  var keyLocation = obj.push ?
    {} :  // blank object that will be pushed
    needsBlank ? location[obj.name] : location; // otherwise, named location or root

  attachProperties(content.match(obj.reg), keyLocation, obj.names, obj.name);

  if (obj.push) {
    location[obj.push].push(keyLocation);
  }
};

var grammar = __webpack_require__(/*! ./grammar */ "./node_modules/sdp-transform/lib/grammar.js");
var validLine = RegExp.prototype.test.bind(/^([a-z])=(.*)/);

exports.parse = function (sdp) {
  var session = {}
    , media = []
    , location = session; // points at where properties go under (one of the above)

  // parse lines we understand
  sdp.split(/(\r\n|\r|\n)/).filter(validLine).forEach(function (l) {
    var type = l[0];
    var content = l.slice(2);
    if (type === 'm') {
      media.push({rtp: [], fmtp: []});
      location = media[media.length-1]; // point at latest media line
    }

    for (var j = 0; j < (grammar[type] || []).length; j += 1) {
      var obj = grammar[type][j];
      if (obj.reg.test(content)) {
        return parseReg(obj, location, content);
      }
    }
  });

  session.media = media; // link it up
  return session;
};

var paramReducer = function (acc, expr) {
  var s = expr.split(/=(.+)/, 2);
  if (s.length === 2) {
    acc[s[0]] = toIntIfInt(s[1]);
  } else if (s.length === 1 && expr.length > 1) {
    acc[s[0]] = undefined;
  }
  return acc;
};

exports.parseParams = function (str) {
  return str.split(/;\s?/).reduce(paramReducer, {});
};

// For backward compatibility - alias will be removed in 3.0.0
exports.parseFmtpConfig = exports.parseParams;

exports.parsePayloads = function (str) {
  return str.toString().split(' ').map(Number);
};

exports.parseRemoteCandidates = function (str) {
  var candidates = [];
  var parts = str.split(' ').map(toIntIfInt);
  for (var i = 0; i < parts.length; i += 3) {
    candidates.push({
      component: parts[i],
      ip: parts[i + 1],
      port: parts[i + 2]
    });
  }
  return candidates;
};

exports.parseImageAttributes = function (str) {
  return str.split(' ').map(function (item) {
    return item.substring(1, item.length-1).split(',').reduce(paramReducer, {});
  });
};

exports.parseSimulcastStreamList = function (str) {
  return str.split(';').map(function (stream) {
    return stream.split(',').map(function (format) {
      var scid, paused = false;

      if (format[0] !== '~') {
        scid = toIntIfInt(format);
      } else {
        scid = toIntIfInt(format.substring(1, format.length));
        paused = true;
      }

      return {
        scid: scid,
        paused: paused
      };
    });
  });
};


/***/ }),

/***/ "./node_modules/sdp-transform/lib/writer.js":
/*!**************************************************!*\
  !*** ./node_modules/sdp-transform/lib/writer.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var grammar = __webpack_require__(/*! ./grammar */ "./node_modules/sdp-transform/lib/grammar.js");

// customized util.format - discards excess arguments and can void middle ones
var formatRegExp = /%[sdv%]/g;
var format = function (formatStr) {
  var i = 1;
  var args = arguments;
  var len = args.length;
  return formatStr.replace(formatRegExp, function (x) {
    if (i >= len) {
      return x; // missing argument
    }
    var arg = args[i];
    i += 1;
    switch (x) {
    case '%%':
      return '%';
    case '%s':
      return String(arg);
    case '%d':
      return Number(arg);
    case '%v':
      return '';
    }
  });
  // NB: we discard excess arguments - they are typically undefined from makeLine
};

var makeLine = function (type, obj, location) {
  var str = obj.format instanceof Function ?
    (obj.format(obj.push ? location : location[obj.name])) :
    obj.format;

  var args = [type + '=' + str];
  if (obj.names) {
    for (var i = 0; i < obj.names.length; i += 1) {
      var n = obj.names[i];
      if (obj.name) {
        args.push(location[obj.name][n]);
      }
      else { // for mLine and push attributes
        args.push(location[obj.names[i]]);
      }
    }
  }
  else {
    args.push(location[obj.name]);
  }
  return format.apply(null, args);
};

// RFC specified order
// TODO: extend this with all the rest
var defaultOuterOrder = [
  'v', 'o', 's', 'i',
  'u', 'e', 'p', 'c',
  'b', 't', 'r', 'z', 'a'
];
var defaultInnerOrder = ['i', 'c', 'b', 'a'];


module.exports = function (session, opts) {
  opts = opts || {};
  // ensure certain properties exist
  if (session.version == null) {
    session.version = 0; // 'v=0' must be there (only defined version atm)
  }
  if (session.name == null) {
    session.name = ' '; // 's= ' must be there if no meaningful name set
  }
  session.media.forEach(function (mLine) {
    if (mLine.payloads == null) {
      mLine.payloads = '';
    }
  });

  var outerOrder = opts.outerOrder || defaultOuterOrder;
  var innerOrder = opts.innerOrder || defaultInnerOrder;
  var sdp = [];

  // loop through outerOrder for matching properties on session
  outerOrder.forEach(function (type) {
    grammar[type].forEach(function (obj) {
      if (obj.name in session && session[obj.name] != null) {
        sdp.push(makeLine(type, obj, session));
      }
      else if (obj.push in session && session[obj.push] != null) {
        session[obj.push].forEach(function (el) {
          sdp.push(makeLine(type, obj, el));
        });
      }
    });
  });

  // then for each media line, follow the innerOrder
  session.media.forEach(function (mLine) {
    sdp.push(makeLine('m', grammar.m[0], mLine));

    innerOrder.forEach(function (type) {
      grammar[type].forEach(function (obj) {
        if (obj.name in mLine && mLine[obj.name] != null) {
          sdp.push(makeLine(type, obj, mLine));
        }
        else if (obj.push in mLine && mLine[obj.push] != null) {
          mLine[obj.push].forEach(function (el) {
            sdp.push(makeLine(type, obj, el));
          });
        }
      });
    });
  });

  return sdp.join('\r\n') + '\r\n';
};


/***/ }),

/***/ "./node_modules/socket.io-client/dist/socket.io.slim.js":
/*!**************************************************************!*\
  !*** ./node_modules/socket.io-client/dist/socket.io.slim.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(Buffer) {/*!
 * Socket.IO v2.4.0
 * (c) 2014-2021 Guillermo Rauch
 * Released under the MIT License.
 */
!function(t,e){ true?module.exports=e():undefined}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";function n(t,e){"object"===("undefined"==typeof t?"undefined":o(t))&&(e=t,t=void 0),e=e||{};var r,n=i(t),s=n.source,p=n.id,h=n.path,u=c[p]&&h in c[p].nsps,f=e.forceNew||e["force new connection"]||!1===e.multiplex||u;return f?r=a(s,e):(c[p]||(c[p]=a(s,e)),r=c[p]),n.query&&!e.query&&(e.query=n.query),r.socket(n.path,e)}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=r(1),s=r(4),a=r(9);r(3)("socket.io-client");t.exports=e=n;var c=e.managers={};e.protocol=s.protocol,e.connect=n,e.Manager=r(9),e.Socket=r(34)},function(t,e,r){"use strict";function n(t,e){var r=t;e=e||"undefined"!=typeof location&&location,null==t&&(t=e.protocol+"//"+e.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?e.protocol+t:e.host+t),/^(https?|wss?):\/\//.test(t)||(t="undefined"!=typeof e?e.protocol+"//"+t:"https://"+t),r=o(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var n=r.host.indexOf(":")!==-1,i=n?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port,r.href=r.protocol+"://"+i+(e&&e.port===r.port?"":":"+r.port),r}var o=r(2);r(3)("socket.io-client:url");t.exports=n},function(t,e){function r(t,e){var r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return"/"!=e.substr(0,1)&&0!==e.length||n.splice(0,1),"/"==e.substr(e.length-1,1)&&n.splice(n.length-1,1),n}function n(t,e){var r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(t,e,n){e&&(r[e]=n)}),r}var o=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e=t,s=t.indexOf("["),a=t.indexOf("]");s!=-1&&a!=-1&&(t=t.substring(0,s)+t.substring(s,a).replace(/:/g,";")+t.substring(a,t.length));for(var c=o.exec(t||""),p={},h=14;h--;)p[i[h]]=c[h]||"";return s!=-1&&a!=-1&&(p.source=e,p.host=p.host.substring(1,p.host.length-1).replace(/;/g,":"),p.authority=p.authority.replace("[","").replace("]","").replace(/;/g,":"),p.ipv6uri=!0),p.pathNames=r(p,p.path),p.queryKey=n(p,p.query),p}},function(t,e){"use strict";t.exports=function(){return function(){}}},function(t,e,r){function n(){}function o(t){var r=""+t.type;if(e.BINARY_EVENT!==t.type&&e.BINARY_ACK!==t.type||(r+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(r+=t.nsp+","),null!=t.id&&(r+=t.id),null!=t.data){var n=i(t.data);if(n===!1)return m;r+=n}return r}function i(t){try{return JSON.stringify(t)}catch(t){return!1}}function s(t,e){function r(t){var r=l.deconstructPacket(t),n=o(r.packet),i=r.buffers;i.unshift(n),e(i)}l.removeBlobs(t,r)}function a(){this.reconstructor=null}function c(t){var r=0,n={type:Number(t.charAt(0))};if(null==e.types[n.type])return u("unknown packet type "+n.type);if(e.BINARY_EVENT===n.type||e.BINARY_ACK===n.type){for(var o="";"-"!==t.charAt(++r)&&(o+=t.charAt(r),r!=t.length););if(o!=Number(o)||"-"!==t.charAt(r))throw new Error("Illegal attachments");n.attachments=Number(o)}if("/"===t.charAt(r+1))for(n.nsp="";++r;){var i=t.charAt(r);if(","===i)break;if(n.nsp+=i,r===t.length)break}else n.nsp="/";var s=t.charAt(r+1);if(""!==s&&Number(s)==s){for(n.id="";++r;){var i=t.charAt(r);if(null==i||Number(i)!=i){--r;break}if(n.id+=t.charAt(r),r===t.length)break}n.id=Number(n.id)}if(t.charAt(++r)){var a=p(t.substr(r)),c=a!==!1&&(n.type===e.ERROR||d(a));if(!c)return u("invalid payload");n.data=a}return n}function p(t){try{return JSON.parse(t)}catch(t){return!1}}function h(t){this.reconPack=t,this.buffers=[]}function u(t){return{type:e.ERROR,data:"parser error: "+t}}var f=(r(3)("socket.io-parser"),r(5)),l=r(6),d=r(7),y=r(8);e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=n,e.Decoder=a;var m=e.ERROR+'"encode error"';n.prototype.encode=function(t,r){if(e.BINARY_EVENT===t.type||e.BINARY_ACK===t.type)s(t,r);else{var n=o(t);r([n])}},f(a.prototype),a.prototype.add=function(t){var r;if("string"==typeof t)r=c(t),e.BINARY_EVENT===r.type||e.BINARY_ACK===r.type?(this.reconstructor=new h(r),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",r)):this.emit("decoded",r);else{if(!y(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,this.emit("decoded",r))}},a.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},h.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=l.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},h.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(t,e,r){function n(t){if(t)return o(t)}function o(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},n.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var n,o=0;o<r.length;o++)if(n=r[o],n===e||n.fn===e){r.splice(o,1);break}return 0===r.length&&delete this._callbacks["$"+t],this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,o=r.length;n<o;++n)r[n].apply(this,e)}return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,r){function n(t,e){if(!t)return t;if(s(t)){var r={_placeholder:!0,num:e.length};return e.push(t),r}if(i(t)){for(var o=new Array(t.length),a=0;a<t.length;a++)o[a]=n(t[a],e);return o}if("object"==typeof t&&!(t instanceof Date)){var o={};for(var c in t)o[c]=n(t[c],e);return o}return t}function o(t,e){if(!t)return t;if(t&&t._placeholder)return e[t.num];if(i(t))for(var r=0;r<t.length;r++)t[r]=o(t[r],e);else if("object"==typeof t)for(var n in t)t[n]=o(t[n],e);return t}var i=r(7),s=r(8),a=Object.prototype.toString,c="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===a.call(Blob),p="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===a.call(File);e.deconstructPacket=function(t){var e=[],r=t.data,o=t;return o.data=n(r,e),o.attachments=e.length,{packet:o,buffers:e}},e.reconstructPacket=function(t,e){return t.data=o(t.data,e),t.attachments=void 0,t},e.removeBlobs=function(t,e){function r(t,a,h){if(!t)return t;if(c&&t instanceof Blob||p&&t instanceof File){n++;var u=new FileReader;u.onload=function(){h?h[a]=this.result:o=this.result,--n||e(o)},u.readAsArrayBuffer(t)}else if(i(t))for(var f=0;f<t.length;f++)r(t[f],f,t);else if("object"==typeof t&&!s(t))for(var l in t)r(t[l],l,t)}var n=0,o=t;r(o),n||e(o)}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e){function r(t){return n&&Buffer.isBuffer(t)||o&&(t instanceof ArrayBuffer||i(t))}t.exports=r;var n="function"==typeof Buffer&&"function"==typeof Buffer.isBuffer,o="function"==typeof ArrayBuffer,i=function(t){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer}},function(t,e,r){"use strict";function n(t,e){if(!(this instanceof n))return new n(t,e);t&&"object"===("undefined"==typeof t?"undefined":o(t))&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new f({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var r=e.parser||c;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this.autoConnect=e.autoConnect!==!1,this.autoConnect&&this.open()}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=r(10),s=r(34),a=r(5),c=r(4),p=r(36),h=r(37),u=(r(3)("socket.io-client:manager"),r(33)),f=r(38),l=Object.prototype.hasOwnProperty;t.exports=n,n.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var t in this.nsps)l.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},n.prototype.updateSocketIds=function(){for(var t in this.nsps)l.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},n.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},a(n.prototype),n.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},n.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},n.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},n.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},n.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},n.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},n.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},n.prototype.open=n.prototype.connect=function(t,e){if(~this.readyState.indexOf("open"))return this;this.engine=i(this.uri,this.opts);var r=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var o=p(r,"open",function(){n.onopen(),t&&t()}),s=p(r,"error",function(e){if(n.cleanup(),n.readyState="closed",n.emitAll("connect_error",e),t){var r=new Error("Connection error");r.data=e,t(r)}else n.maybeReconnectOnOpen()});if(!1!==this._timeout){var a=this._timeout;0===a&&o.destroy();var c=setTimeout(function(){o.destroy(),r.close(),r.emit("error","timeout"),n.emitAll("connect_timeout",a)},a);this.subs.push({destroy:function(){clearTimeout(c)}})}return this.subs.push(o),this.subs.push(s),this},n.prototype.onopen=function(){this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(p(t,"data",h(this,"ondata"))),this.subs.push(p(t,"ping",h(this,"onping"))),this.subs.push(p(t,"pong",h(this,"onpong"))),this.subs.push(p(t,"error",h(this,"onerror"))),this.subs.push(p(t,"close",h(this,"onclose"))),this.subs.push(p(this.decoder,"decoded",h(this,"ondecoded")))},n.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},n.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},n.prototype.ondata=function(t){this.decoder.add(t)},n.prototype.ondecoded=function(t){this.emit("packet",t)},n.prototype.onerror=function(t){this.emitAll("error",t)},n.prototype.socket=function(t,e){function r(){~u(o.connecting,n)||o.connecting.push(n)}var n=this.nsps[t];if(!n){n=new s(this,t,e),this.nsps[t]=n;var o=this;n.on("connecting",r),n.on("connect",function(){n.id=o.generateId(t)}),this.autoConnect&&r()}return n},n.prototype.destroy=function(t){var e=u(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},n.prototype.packet=function(t){var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(r){for(var n=0;n<r.length;n++)e.engine.write(r[n],t.options);e.encoding=!1,e.processPacketQueue()}))},n.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},n.prototype.cleanup=function(){for(var t=this.subs.length,e=0;e<t;e++){var r=this.subs.shift();r.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},n.prototype.close=n.prototype.disconnect=function(){this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},n.prototype.onclose=function(t){this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},n.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();this.reconnecting=!0;var r=setTimeout(function(){t.skipReconnect||(t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):t.onreconnect()}))},e);this.subs.push({destroy:function(){clearTimeout(r)}})}},n.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},function(t,e,r){t.exports=r(11),t.exports.parser=r(19)},function(t,e,r){function n(t,e){return this instanceof n?(e=e||{},t&&"object"==typeof t&&(e=t,t=null),t?(t=p(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=p(e.host).host),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.agent=e.agent||!1,this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=h.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.withCredentials=!1!==e.withCredentials,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.transportOptions=e.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.perMessageDeflate=!1!==e.perMessageDeflate&&(e.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=e.pfx||null,this.key=e.key||null,this.passphrase=e.passphrase||null,this.cert=e.cert||null,this.ca=e.ca||null,this.ciphers=e.ciphers||null,this.rejectUnauthorized=void 0===e.rejectUnauthorized||e.rejectUnauthorized,this.forceNode=!!e.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(e.extraHeaders&&Object.keys(e.extraHeaders).length>0&&(this.extraHeaders=e.extraHeaders),e.localAddress&&(this.localAddress=e.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,void this.open()):new n(t,e)}function o(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}var i=r(12),s=r(5),a=(r(3)("engine.io-client:socket"),r(33)),c=r(19),p=r(2),h=r(27);t.exports=n,n.priorWebsocketSuccess=!1,s(n.prototype),n.protocol=c.protocol,n.Socket=n,n.Transport=r(18),n.transports=r(12),n.parser=r(19),n.prototype.createTransport=function(t){var e=o(this.query);e.EIO=c.protocol,e.transport=t;var r=this.transportOptions[t]||{};this.id&&(e.sid=this.id);var n=new i[t]({query:e,socket:this,agent:r.agent||this.agent,hostname:r.hostname||this.hostname,port:r.port||this.port,secure:r.secure||this.secure,path:r.path||this.path,forceJSONP:r.forceJSONP||this.forceJSONP,jsonp:r.jsonp||this.jsonp,forceBase64:r.forceBase64||this.forceBase64,enablesXDR:r.enablesXDR||this.enablesXDR,withCredentials:r.withCredentials||this.withCredentials,timestampRequests:r.timestampRequests||this.timestampRequests,timestampParam:r.timestampParam||this.timestampParam,policyPort:r.policyPort||this.policyPort,pfx:r.pfx||this.pfx,key:r.key||this.key,passphrase:r.passphrase||this.passphrase,cert:r.cert||this.cert,ca:r.ca||this.ca,ciphers:r.ciphers||this.ciphers,rejectUnauthorized:r.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:r.perMessageDeflate||this.perMessageDeflate,extraHeaders:r.extraHeaders||this.extraHeaders,forceNode:r.forceNode||this.forceNode,localAddress:r.localAddress||this.localAddress,requestTimeout:r.requestTimeout||this.requestTimeout,protocols:r.protocols||void 0,isReactNative:this.isReactNative});return n},n.prototype.open=function(){var t;if(this.rememberUpgrade&&n.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},n.prototype.setTransport=function(t){var e=this;this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},n.prototype.probe=function(t){function e(){if(u.onlyBinaryUpgrades){var t=!this.supportsBinary&&u.transport.supportsBinary;h=h||t}h||(p.send([{type:"ping",data:"probe"}]),p.once("packet",function(t){if(!h)if("pong"===t.type&&"probe"===t.data){if(u.upgrading=!0,u.emit("upgrading",p),!p)return;n.priorWebsocketSuccess="websocket"===p.name,u.transport.pause(function(){h||"closed"!==u.readyState&&(c(),u.setTransport(p),p.send([{type:"upgrade"}]),u.emit("upgrade",p),p=null,u.upgrading=!1,u.flush())})}else{var e=new Error("probe error");e.transport=p.name,u.emit("upgradeError",e)}}))}function r(){h||(h=!0,c(),p.close(),p=null)}function o(t){var e=new Error("probe error: "+t);e.transport=p.name,r(),u.emit("upgradeError",e)}function i(){o("transport closed")}function s(){o("socket closed")}function a(t){p&&t.name!==p.name&&r()}function c(){p.removeListener("open",e),p.removeListener("error",o),p.removeListener("close",i),u.removeListener("close",s),u.removeListener("upgrading",a)}var p=this.createTransport(t,{probe:1}),h=!1,u=this;n.priorWebsocketSuccess=!1,p.once("open",e),p.once("error",o),p.once("close",i),this.once("close",s),this.once("upgrading",a),p.open()},n.prototype.onOpen=function(){if(this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause)for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])},n.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}},n.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},n.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!==e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},n.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},n.prototype.ping=function(){var t=this;this.sendPacket("ping",function(){t.emit("ping")})},n.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},n.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},n.prototype.write=n.prototype.send=function(t,e,r){return this.sendPacket("message",t,e,r),this},n.prototype.sendPacket=function(t,e,r,n){if("function"==typeof e&&(n=e,e=void 0),"function"==typeof r&&(n=r,r=null),"closing"!==this.readyState&&"closed"!==this.readyState){r=r||{},r.compress=!1!==r.compress;var o={type:t,data:e,options:r};this.emit("packetCreate",o),this.writeBuffer.push(o),n&&this.once("flush",n),this.flush()}},n.prototype.close=function(){function t(){n.onClose("forced close"),n.transport.close()}function e(){n.removeListener("upgrade",e),n.removeListener("upgradeError",e),t()}function r(){n.once("upgrade",e),n.once("upgradeError",e)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var n=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?r():t()}):this.upgrading?r():t()}return this},n.prototype.onError=function(t){n.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},n.prototype.onClose=function(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){var r=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),r.writeBuffer=[],r.prevBufferLen=0}},n.prototype.filterUpgrades=function(t){for(var e=[],r=0,n=t.length;r<n;r++)~a(this.transports,t[r])&&e.push(t[r]);return e}},function(t,e,r){function n(t){var e,r=!1,n=!1,a=!1!==t.jsonp;if("undefined"!=typeof location){var c="https:"===location.protocol,p=location.port;p||(p=c?443:80),r=t.hostname!==location.hostname||p!==t.port,n=t.secure!==c}if(t.xdomain=r,t.xscheme=n,e=new o(t),"open"in e&&!t.forceJSONP)return new i(t);if(!a)throw new Error("JSONP disabled");return new s(t)}var o=r(13),i=r(16),s=r(30),a=r(31);e.polling=n,e.websocket=a},function(t,e,r){var n=r(14),o=r(15);t.exports=function(t){var e=t.xdomain,r=t.xscheme,i=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||n))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!r&&i)return new XDomainRequest}catch(t){}if(!e)try{return new(o[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}},function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},function(t,e){t.exports=function(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")()}()},function(t,e,r){function n(){}function o(t){if(c.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,"undefined"!=typeof location){var e="https:"===location.protocol,r=location.port;r||(r=e?443:80),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||r!==t.port,this.xs=t.secure!==e}}function i(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.withCredentials=t.withCredentials,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function s(){for(var t in i.requests)i.requests.hasOwnProperty(t)&&i.requests[t].abort()}var a=r(13),c=r(17),p=r(5),h=r(28),u=(r(3)("engine.io-client:polling-xhr"),r(15));if(t.exports=o,t.exports.Request=i,h(o,c),o.prototype.supportsBinary=!0,o.prototype.request=function(t){return t=t||{},t.uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.withCredentials=this.withCredentials,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new i(t)},o.prototype.doWrite=function(t,e){var r="string"!=typeof t&&void 0!==t,n=this.request({method:"POST",data:t,isBinary:r}),o=this;n.on("success",e),n.on("error",function(t){o.onError("xhr post error",t)}),this.sendXhr=n},o.prototype.doPoll=function(){var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},p(i.prototype),i.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new a(t),r=this;try{e.open(this.method,this.uri,this.async);try{if(this.extraHeaders){e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0);for(var n in this.extraHeaders)this.extraHeaders.hasOwnProperty(n)&&e.setRequestHeader(n,this.extraHeaders[n])}}catch(t){}if("POST"===this.method)try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{e.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in e&&(e.withCredentials=this.withCredentials),this.requestTimeout&&(e.timeout=this.requestTimeout),this.hasXDR()?(e.onload=function(){r.onLoad()},e.onerror=function(){r.onError(e.responseText)}):e.onreadystatechange=function(){if(2===e.readyState)try{var t=e.getResponseHeader("Content-Type");(r.supportsBinary&&"application/octet-stream"===t||"application/octet-stream; charset=UTF-8"===t)&&(e.responseType="arraybuffer")}catch(t){}4===e.readyState&&(200===e.status||1223===e.status?r.onLoad():setTimeout(function(){r.onError("number"==typeof e.status?e.status:0)},0))},e.send(this.data)}catch(t){return void setTimeout(function(){r.onError(t)},0)}"undefined"!=typeof document&&(this.index=i.requestsCount++,i.requests[this.index]=this)},i.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},i.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},i.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},i.prototype.cleanup=function(t){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=n:this.xhr.onreadystatechange=n,t)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete i.requests[this.index],this.xhr=null}},i.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch(t){}t="application/octet-stream"===e||"application/octet-stream; charset=UTF-8"===e?this.xhr.response||this.xhr.responseText:this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},i.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},i.prototype.abort=function(){this.cleanup()},i.requestsCount=0,i.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",s);else if("function"==typeof addEventListener){var f="onpagehide"in u?"pagehide":"unload";addEventListener(f,s,!1)}},function(t,e,r){function n(t){var e=t&&t.forceBase64;p&&!e||(this.supportsBinary=!1),o.call(this,t)}var o=r(18),i=r(27),s=r(19),a=r(28),c=r(29);r(3)("engine.io-client:polling");t.exports=n;var p=function(){var t=r(13),e=new t({xdomain:!1});return null!=e.responseType}();a(n,o),n.prototype.name="polling",n.prototype.doOpen=function(){this.poll()},n.prototype.pause=function(t){function e(){r.readyState="paused",t()}var r=this;if(this.readyState="pausing",this.polling||!this.writable){var n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||e()})),this.writable||(n++,this.once("drain",function(){--n||e()}))}else e()},n.prototype.poll=function(){this.polling=!0,this.doPoll(),this.emit("poll")},n.prototype.onData=function(t){var e=this,r=function(t,r,n){return"opening"===e.readyState&&"open"===t.type&&e.onOpen(),"close"===t.type?(e.onClose(),!1):void e.onPacket(t)};s.decodePayload(t,this.socket.binaryType,r),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState&&this.poll())},n.prototype.doClose=function(){function t(){e.write([{type:"close"}])}var e=this;"open"===this.readyState?t():this.once("open",t)},n.prototype.write=function(t){var e=this;this.writable=!1;var r=function(){e.writable=!0,e.emit("drain")};s.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,r)})},n.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",r="";!1!==this.timestampRequests&&(t[this.timestampParam]=c()),this.supportsBinary||t.sid||(t.b64=1),t=i.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(r=":"+this.port),t.length&&(t="?"+t);var n=this.hostname.indexOf(":")!==-1;return e+"://"+(n?"["+this.hostname+"]":this.hostname)+r+this.path+t}},function(t,e,r){function n(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.withCredentials=t.withCredentials,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,
this.isReactNative=t.isReactNative,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}var o=r(19),i=r(5);t.exports=n,i(n.prototype),n.prototype.onError=function(t,e){var r=new Error(t);return r.type="TransportError",r.description=e,this.emit("error",r),this},n.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},n.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},n.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},n.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},n.prototype.onData=function(t){var e=o.decodePacket(t,this.socket.binaryType);this.onPacket(e)},n.prototype.onPacket=function(t){this.emit("packet",t)},n.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(t,e,r){function n(t,r){var n="b"+e.packets[t.type]+t.data.data;return r(n)}function o(t,r,n){if(!r)return e.encodeBase64Packet(t,n);var o=t.data,i=new Uint8Array(o),s=new Uint8Array(1+o.byteLength);s[0]=v[t.type];for(var a=0;a<i.length;a++)s[a+1]=i[a];return n(s.buffer)}function i(t,r,n){if(!r)return e.encodeBase64Packet(t,n);var o=new FileReader;return o.onload=function(){e.encodePacket({type:t.type,data:o.result},r,!0,n)},o.readAsArrayBuffer(t.data)}function s(t,r,n){if(!r)return e.encodeBase64Packet(t,n);if(g)return i(t,r,n);var o=new Uint8Array(1);o[0]=v[t.type];var s=new w([o.buffer,t.data]);return n(s)}function a(t){try{t=d.decode(t,{strict:!1})}catch(t){return!1}return t}function c(t,e,r){for(var n=new Array(t.length),o=l(t.length,r),i=function(t,r,o){e(r,function(e,r){n[t]=r,o(e,n)})},s=0;s<t.length;s++)i(s,t[s],o)}var p,h=r(20),u=r(21),f=r(22),l=r(23),d=r(24);"undefined"!=typeof ArrayBuffer&&(p=r(25));var y="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),m="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),g=y||m;e.protocol=3;var v=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},b=h(v),k={type:"error",data:"parser error"},w=r(26);e.encodePacket=function(t,e,r,i){"function"==typeof e&&(i=e,e=!1),"function"==typeof r&&(i=r,r=null);var a=void 0===t.data?void 0:t.data.buffer||t.data;if("undefined"!=typeof ArrayBuffer&&a instanceof ArrayBuffer)return o(t,e,i);if("undefined"!=typeof w&&a instanceof w)return s(t,e,i);if(a&&a.base64)return n(t,i);var c=v[t.type];return void 0!==t.data&&(c+=r?d.encode(String(t.data),{strict:!1}):String(t.data)),i(""+c)},e.encodeBase64Packet=function(t,r){var n="b"+e.packets[t.type];if("undefined"!=typeof w&&t.data instanceof w){var o=new FileReader;return o.onload=function(){var t=o.result.split(",")[1];r(n+t)},o.readAsDataURL(t.data)}var i;try{i=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(e){for(var s=new Uint8Array(t.data),a=new Array(s.length),c=0;c<s.length;c++)a[c]=s[c];i=String.fromCharCode.apply(null,a)}return n+=btoa(i),r(n)},e.decodePacket=function(t,r,n){if(void 0===t)return k;if("string"==typeof t){if("b"===t.charAt(0))return e.decodeBase64Packet(t.substr(1),r);if(n&&(t=a(t),t===!1))return k;var o=t.charAt(0);return Number(o)==o&&b[o]?t.length>1?{type:b[o],data:t.substring(1)}:{type:b[o]}:k}var i=new Uint8Array(t),o=i[0],s=f(t,1);return w&&"blob"===r&&(s=new w([s])),{type:b[o],data:s}},e.decodeBase64Packet=function(t,e){var r=b[t.charAt(0)];if(!p)return{type:r,data:{base64:!0,data:t.substr(1)}};var n=p.decode(t.substr(1));return"blob"===e&&w&&(n=new w([n])),{type:r,data:n}},e.encodePayload=function(t,r,n){function o(t){return t.length+":"+t}function i(t,n){e.encodePacket(t,!!s&&r,!1,function(t){n(null,o(t))})}"function"==typeof r&&(n=r,r=null);var s=u(t);return r&&s?w&&!g?e.encodePayloadAsBlob(t,n):e.encodePayloadAsArrayBuffer(t,n):t.length?void c(t,i,function(t,e){return n(e.join(""))}):n("0:")},e.decodePayload=function(t,r,n){if("string"!=typeof t)return e.decodePayloadAsBinary(t,r,n);"function"==typeof r&&(n=r,r=null);var o;if(""===t)return n(k,0,1);for(var i,s,a="",c=0,p=t.length;c<p;c++){var h=t.charAt(c);if(":"===h){if(""===a||a!=(i=Number(a)))return n(k,0,1);if(s=t.substr(c+1,i),a!=s.length)return n(k,0,1);if(s.length){if(o=e.decodePacket(s,r,!1),k.type===o.type&&k.data===o.data)return n(k,0,1);var u=n(o,c+i,p);if(!1===u)return}c+=i,a=""}else a+=h}return""!==a?n(k,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,r){function n(t,r){e.encodePacket(t,!0,!0,function(t){return r(null,t)})}return t.length?void c(t,n,function(t,e){var n=e.reduce(function(t,e){var r;return r="string"==typeof e?e.length:e.byteLength,t+r.toString().length+r+2},0),o=new Uint8Array(n),i=0;return e.forEach(function(t){var e="string"==typeof t,r=t;if(e){for(var n=new Uint8Array(t.length),s=0;s<t.length;s++)n[s]=t.charCodeAt(s);r=n.buffer}e?o[i++]=0:o[i++]=1;for(var a=r.byteLength.toString(),s=0;s<a.length;s++)o[i++]=parseInt(a[s]);o[i++]=255;for(var n=new Uint8Array(r),s=0;s<n.length;s++)o[i++]=n[s]}),r(o.buffer)}):r(new ArrayBuffer(0))},e.encodePayloadAsBlob=function(t,r){function n(t,r){e.encodePacket(t,!0,!0,function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var n=new Uint8Array(t.length),o=0;o<t.length;o++)n[o]=t.charCodeAt(o);t=n.buffer,e[0]=0}for(var i=t instanceof ArrayBuffer?t.byteLength:t.size,s=i.toString(),a=new Uint8Array(s.length+1),o=0;o<s.length;o++)a[o]=parseInt(s[o]);if(a[s.length]=255,w){var c=new w([e.buffer,a.buffer,t]);r(null,c)}})}c(t,n,function(t,e){return r(new w(e))})},e.decodePayloadAsBinary=function(t,r,n){"function"==typeof r&&(n=r,r=null);for(var o=t,i=[];o.byteLength>0;){for(var s=new Uint8Array(o),a=0===s[0],c="",p=1;255!==s[p];p++){if(c.length>310)return n(k,0,1);c+=s[p]}o=f(o,2+c.length),c=parseInt(c);var h=f(o,0,c);if(a)try{h=String.fromCharCode.apply(null,new Uint8Array(h))}catch(t){var u=new Uint8Array(h);h="";for(var p=0;p<u.length;p++)h+=String.fromCharCode(u[p])}i.push(h),o=f(o,c)}var l=i.length;i.forEach(function(t,o){n(e.decodePacket(t,r,!0),o,l)})}},function(t,e){t.exports=Object.keys||function(t){var e=[],r=Object.prototype.hasOwnProperty;for(var n in t)r.call(t,n)&&e.push(n);return e}},function(t,e,r){function n(t){if(!t||"object"!=typeof t)return!1;if(o(t)){for(var e=0,r=t.length;e<r;e++)if(n(t[e]))return!0;return!1}if("function"==typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(t)||"function"==typeof ArrayBuffer&&t instanceof ArrayBuffer||s&&t instanceof Blob||a&&t instanceof File)return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return n(t.toJSON(),!0);for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&n(t[i]))return!0;return!1}var o=r(7),i=Object.prototype.toString,s="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===i.call(Blob),a="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===i.call(File);t.exports=n},function(t,e){t.exports=function(t,e,r){var n=t.byteLength;if(e=e||0,r=r||n,t.slice)return t.slice(e,r);if(e<0&&(e+=n),r<0&&(r+=n),r>n&&(r=n),e>=n||e>=r||0===n)return new ArrayBuffer(0);for(var o=new Uint8Array(t),i=new Uint8Array(r-e),s=e,a=0;s<r;s++,a++)i[a]=o[s];return i.buffer}},function(t,e){function r(t,e,r){function o(t,n){if(o.count<=0)throw new Error("after called too many times");--o.count,t?(i=!0,e(t),e=r):0!==o.count||i||e(null,n)}var i=!1;return r=r||n,o.count=t,0===t?e():o}function n(){}t.exports=r},function(t,e){function r(t){for(var e,r,n=[],o=0,i=t.length;o<i;)e=t.charCodeAt(o++),e>=55296&&e<=56319&&o<i?(r=t.charCodeAt(o++),56320==(64512&r)?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),o--)):n.push(e);return n}function n(t){for(var e,r=t.length,n=-1,o="";++n<r;)e=t[n],e>65535&&(e-=65536,o+=d(e>>>10&1023|55296),e=56320|1023&e),o+=d(e);return o}function o(t,e){if(t>=55296&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function i(t,e){return d(t>>e&63|128)}function s(t,e){if(0==(4294967168&t))return d(t);var r="";return 0==(4294965248&t)?r=d(t>>6&31|192):0==(4294901760&t)?(o(t,e)||(t=65533),r=d(t>>12&15|224),r+=i(t,6)):0==(4292870144&t)&&(r=d(t>>18&7|240),r+=i(t,12),r+=i(t,6)),r+=d(63&t|128)}function a(t,e){e=e||{};for(var n,o=!1!==e.strict,i=r(t),a=i.length,c=-1,p="";++c<a;)n=i[c],p+=s(n,o);return p}function c(){if(l>=f)throw Error("Invalid byte index");var t=255&u[l];if(l++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function p(t){var e,r,n,i,s;if(l>f)throw Error("Invalid byte index");if(l==f)return!1;if(e=255&u[l],l++,0==(128&e))return e;if(192==(224&e)){if(r=c(),s=(31&e)<<6|r,s>=128)return s;throw Error("Invalid continuation byte")}if(224==(240&e)){if(r=c(),n=c(),s=(15&e)<<12|r<<6|n,s>=2048)return o(s,t)?s:65533;throw Error("Invalid continuation byte")}if(240==(248&e)&&(r=c(),n=c(),i=c(),s=(7&e)<<18|r<<12|n<<6|i,s>=65536&&s<=1114111))return s;throw Error("Invalid UTF-8 detected")}function h(t,e){e=e||{};var o=!1!==e.strict;u=r(t),f=u.length,l=0;for(var i,s=[];(i=p(o))!==!1;)s.push(i);return n(s)}/*! https://mths.be/utf8js v2.1.2 by @mathias */
var u,f,l,d=String.fromCharCode;t.exports={version:"2.1.2",encode:a,decode:h}},function(t,e){!function(t){"use strict";e.encode=function(e){var r,n=new Uint8Array(e),o=n.length,i="";for(r=0;r<o;r+=3)i+=t[n[r]>>2],i+=t[(3&n[r])<<4|n[r+1]>>4],i+=t[(15&n[r+1])<<2|n[r+2]>>6],i+=t[63&n[r+2]];return o%3===2?i=i.substring(0,i.length-1)+"=":o%3===1&&(i=i.substring(0,i.length-2)+"=="),i},e.decode=function(e){var r,n,o,i,s,a=.75*e.length,c=e.length,p=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var h=new ArrayBuffer(a),u=new Uint8Array(h);for(r=0;r<c;r+=4)n=t.indexOf(e[r]),o=t.indexOf(e[r+1]),i=t.indexOf(e[r+2]),s=t.indexOf(e[r+3]),u[p++]=n<<2|o>>4,u[p++]=(15&o)<<4|i>>2,u[p++]=(3&i)<<6|63&s;return h}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},function(t,e){function r(t){return t.map(function(t){if(t.buffer instanceof ArrayBuffer){var e=t.buffer;if(t.byteLength!==e.byteLength){var r=new Uint8Array(t.byteLength);r.set(new Uint8Array(e,t.byteOffset,t.byteLength)),e=r.buffer}return e}return t})}function n(t,e){e=e||{};var n=new i;return r(t).forEach(function(t){n.append(t)}),e.type?n.getBlob(e.type):n.getBlob()}function o(t,e){return new Blob(r(t),e||{})}var i="undefined"!=typeof i?i:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,s=function(){try{var t=new Blob(["hi"]);return 2===t.size}catch(t){return!1}}(),a=s&&function(){try{var t=new Blob([new Uint8Array([1,2])]);return 2===t.size}catch(t){return!1}}(),c=i&&i.prototype.append&&i.prototype.getBlob;"undefined"!=typeof Blob&&(n.prototype=Blob.prototype,o.prototype=Blob.prototype),t.exports=function(){return s?a?Blob:o:c?n:void 0}()},function(t,e){e.encode=function(t){var e="";for(var r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e},e.decode=function(t){for(var e={},r=t.split("&"),n=0,o=r.length;n<o;n++){var i=r[n].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}},function(t,e){t.exports=function(t,e){var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e){"use strict";function r(t){var e="";do e=s[t%a]+e,t=Math.floor(t/a);while(t>0);return e}function n(t){var e=0;for(h=0;h<t.length;h++)e=e*a+c[t.charAt(h)];return e}function o(){var t=r(+new Date);return t!==i?(p=0,i=t):t+"."+r(p++)}for(var i,s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),a=64,c={},p=0,h=0;h<a;h++)c[s[h]]=h;o.encode=r,o.decode=n,t.exports=o},function(t,e,r){function n(){}function o(t){i.call(this,t),this.query=this.query||{},c||(c=a.___eio=a.___eio||[]),this.index=c.length;var e=this;c.push(function(t){e.onData(t)}),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",function(){e.script&&(e.script.onerror=n)},!1)}var i=r(17),s=r(28),a=r(15);t.exports=o;var c,p=/\n/g,h=/\\n/g;s(o,i),o.prototype.supportsBinary=!1,o.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},o.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var r=document.getElementsByTagName("script")[0];r?r.parentNode.insertBefore(e,r):(document.head||document.body).appendChild(e),this.script=e;var n="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);n&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},o.prototype.doWrite=function(t,e){function r(){n(),e()}function n(){if(o.iframe)try{o.form.removeChild(o.iframe)}catch(t){o.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+o.iframeId+'">';i=document.createElement(t)}catch(t){i=document.createElement("iframe"),i.name=o.iframeId,i.src="javascript:0"}i.id=o.iframeId,o.form.appendChild(i),o.iframe=i}var o=this;if(!this.form){var i,s=document.createElement("form"),a=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;s.className="socketio",s.style.position="absolute",s.style.top="-1000px",s.style.left="-1000px",s.target=c,s.method="POST",s.setAttribute("accept-charset","utf-8"),a.name="d",s.appendChild(a),document.body.appendChild(s),this.form=s,this.area=a}this.form.action=this.uri(),n(),t=t.replace(h,"\\\n"),this.area.value=t.replace(p,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===o.iframe.readyState&&r()}:this.iframe.onload=r}},function(t,e,r){function n(t){var e=t&&t.forceBase64;e&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=o&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(u=i),s.call(this,t)}var o,i,s=r(18),a=r(19),c=r(27),p=r(28),h=r(29);r(3)("engine.io-client:websocket");if("undefined"!=typeof WebSocket?o=WebSocket:"undefined"!=typeof self&&(o=self.WebSocket||self.MozWebSocket),"undefined"==typeof window)try{i=r(32)}catch(t){}var u=o||i;t.exports=n,p(n,s),n.prototype.name="websocket",n.prototype.supportsBinary=!0,n.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,r={};this.isReactNative||(r.agent=this.agent,r.perMessageDeflate=this.perMessageDeflate,r.pfx=this.pfx,r.key=this.key,r.passphrase=this.passphrase,r.cert=this.cert,r.ca=this.ca,r.ciphers=this.ciphers,r.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(r.headers=this.extraHeaders),this.localAddress&&(r.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?e?new u(t,e):new u(t):new u(t,e,r)}catch(t){return this.emit("error",t)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},n.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},n.prototype.write=function(t){function e(){r.emit("flush"),setTimeout(function(){r.writable=!0,r.emit("drain")},0)}var r=this;this.writable=!1;for(var n=t.length,o=0,i=n;o<i;o++)!function(t){a.encodePacket(t,r.supportsBinary,function(o){if(!r.usingBrowserWebSocket){var i={};if(t.options&&(i.compress=t.options.compress),r.perMessageDeflate){var s="string"==typeof o?Buffer.byteLength(o):o.length;s<r.perMessageDeflate.threshold&&(i.compress=!1)}}try{r.usingBrowserWebSocket?r.ws.send(o):r.ws.send(o,i)}catch(t){}--n||e()})}(t[o])},n.prototype.onClose=function(){s.prototype.onClose.call(this)},n.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},n.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",r="";this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(r=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=h()),this.supportsBinary||(t.b64=1),t=c.encode(t),t.length&&(t="?"+t);var n=this.hostname.indexOf(":")!==-1;return e+"://"+(n?"["+this.hostname+"]":this.hostname)+r+this.path+t},n.prototype.check=function(){return!(!u||"__initialize"in u&&this.name===n.prototype.name)}},function(t,e){},function(t,e){var r=[].indexOf;t.exports=function(t,e){if(r)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}},function(t,e,r){"use strict";function n(t,e,r){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},r&&r.query&&(this.query=r.query),this.io.autoConnect&&this.open()}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=r(4),s=r(5),a=r(35),c=r(36),p=r(37),h=(r(3)("socket.io-client:socket"),r(27)),u=r(21);t.exports=e=n;var f={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},l=s.prototype.emit;s(n.prototype),n.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[c(t,"open",p(this,"onopen")),c(t,"packet",p(this,"onpacket")),c(t,"close",p(this,"onclose"))]}},n.prototype.open=n.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.reconnecting||this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},n.prototype.send=function(){var t=a(arguments);return t.unshift("message"),this.emit.apply(this,t),this},n.prototype.emit=function(t){if(f.hasOwnProperty(t))return l.apply(this,arguments),this;var e=a(arguments),r={type:(void 0!==this.flags.binary?this.flags.binary:u(e))?i.BINARY_EVENT:i.EVENT,data:e};return r.options={},r.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(this.acks[this.ids]=e.pop(),r.id=this.ids++),this.connected?this.packet(r):this.sendBuffer.push(r),this.flags={},this},n.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},n.prototype.onopen=function(){if("/"!==this.nsp)if(this.query){var t="object"===o(this.query)?h.encode(this.query):this.query;this.packet({type:i.CONNECT,query:t})}else this.packet({type:i.CONNECT})},n.prototype.onclose=function(t){this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},n.prototype.onpacket=function(t){var e=t.nsp===this.nsp,r=t.type===i.ERROR&&"/"===t.nsp;if(e||r)switch(t.type){case i.CONNECT:this.onconnect();break;case i.EVENT:this.onevent(t);break;case i.BINARY_EVENT:this.onevent(t);break;case i.ACK:this.onack(t);break;case i.BINARY_ACK:this.onack(t);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit("error",t.data)}},n.prototype.onevent=function(t){var e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?l.apply(this,e):this.receiveBuffer.push(e)},n.prototype.ack=function(t){var e=this,r=!1;return function(){if(!r){r=!0;var n=a(arguments);e.packet({type:u(n)?i.BINARY_ACK:i.ACK,id:t,data:n})}}},n.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e&&(e.apply(this,t.data),delete this.acks[t.id])},n.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},n.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)l.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},n.prototype.ondisconnect=function(){this.destroy(),this.onclose("io server disconnect")},n.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},n.prototype.close=n.prototype.disconnect=function(){return this.connected&&this.packet({type:i.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},n.prototype.compress=function(t){return this.flags.compress=t,this},n.prototype.binary=function(t){return this.flags.binary=t,this}},function(t,e){function r(t,e){var r=[];e=e||0;for(var n=e||0;n<t.length;n++)r[n-e]=t[n];return r}t.exports=r},function(t,e){"use strict";function r(t,e,r){return t.on(e,r),{destroy:function(){t.removeListener(e,r)}}}t.exports=r},function(t,e){var r=[].slice;t.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var n=r.call(arguments,2);return function(){return e.apply(t,n.concat(r.call(arguments)))}}},function(t,e){function r(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=r,r.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-r:t+r}return 0|Math.min(t,this.max)},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(t){this.ms=t},r.prototype.setMax=function(t){this.max=t},r.prototype.setJitter=function(t){this.jitter=t}}])});
//# sourceMappingURL=socket.io.slim.js.map

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../buffer/index.js */ "./node_modules/buffer/index.js").Buffer))

/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || new Function("return this")();
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),

/***/ "./src/OctopusRTC.ts":
/*!***************************!*\
  !*** ./src/OctopusRTC.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __values = (this && this.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
var eventemitter3_1 = __importDefault(__webpack_require__(/*! eventemitter3 */ "./node_modules/eventemitter3/umd/eventemitter3.min.js"));
var logger_1 = __webpack_require__(/*! ./web/log/logger */ "./src/web/log/logger.ts");
var config_1 = __webpack_require__(/*! ../config */ "./config.ts");
// OctopusRTC as OctopusClient, 
var OctopusRTC_Core_1 = __webpack_require__(/*! ./web/OctopusRTC-Core */ "./src/web/OctopusRTC-Core.ts");
var Statistics_1 = __webpack_require__(/*! ./web/device/handlers/stats/Statistics */ "./src/web/device/handlers/stats/Statistics.ts");
var MediaDeviceInfoCategory_1 = __importDefault(__webpack_require__(/*! ./web/device/MediaDeviceInfoCategory */ "./src/web/device/MediaDeviceInfoCategory.ts"));
var Record_1 = __webpack_require__(/*! ./web/media/Record */ "./src/web/media/Record.ts");
var OctopusRTC = /** @class */ (function (_super) {
    __extends(OctopusRTC, _super);
    /**
    * des-创建OctopusRTC实例-des
    * @param {string} appId - appId
    * @param {string} userId - 用户的userId
    * @param {string} [env=prod] - SDK环境选择
    * @param {string} [type=international] - 节点环境选择
    * @param {number} [logLevel] - 日志级别
    * @param {string} [userName] - 用户名称
    *
    */
    function OctopusRTC(options) {
        var _this = _super.call(this) || this;
        _this._roomId = '';
        _this._userId = '';
        _this._userName = '';
        _this._octopusConfig = null;
        _this._octopusClient = null;
        _this._appId = '';
        _this._env = 'prod';
        _this._type = null;
        _this._customEdgeUrl = '';
        _this._version = config_1.version;
        _this._logger = null;
        _this._record = null;
        _this._appPackageName = '';
        if (!options.appId) {
            throw new Error('appId can not be empty.');
        }
        if (!options.userId) {
            throw new Error('userId can not be empty.');
        }
        _this._userId = options.userId;
        _this._appId = options.appId;
        if (options !== void 0) {
            if (options.userName !== void 0) {
                _this._userName = options.userName;
            }
            if (options.env !== void 0) {
                _this._env = options.env;
            }
            ;
            if (options.type !== void 0) {
                _this._type = options.type;
            }
            ;
            if (options.edgeUrl !== void 0) {
                _this._customEdgeUrl = options.edgeUrl;
            }
            if (options.appPackageName !== void 0) {
                _this._appPackageName = options.appPackageName;
            }
        }
        logger_1.generateLoggerInstance({
            appId: _this._appId,
            userId: _this._userId
        });
        _this._logger = logger_1.logger.collect;
        return _this;
        // 调试阶段默认上传日志---测试
        // this._logger.enableLogUpload();
    }
    Object.defineProperty(OctopusRTC.prototype, "roomId", {
        get: function () {
            return this._roomId;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(OctopusRTC.prototype, "userId", {
        get: function () {
            return this._userId;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(OctopusRTC.prototype, "userName", {
        get: function () {
            return this._userName;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(OctopusRTC.prototype, "version", {
        get: function () {
            return this._version;
        },
        enumerable: false,
        configurable: true
    });
    /**
     * des-判断浏览器是否支持WebRTC-des
     * @return {boolean}
     */
    OctopusRTC.isSupported = function () {
        var rtconnection = window.RTCPeerConnection || window.webkitRTCPeerConnection;
        var media = navigator.getUserMedia || navigator.mediaDevices && navigator.mediaDevices.getUserMedia;
        var socket = window.WebSocket;
        return !!rtconnection && !!media && !!socket;
    };
    /**
     *
     * des-初始化SDK-des
     */
    OctopusRTC.prototype.init = function () {
        if (!config_1.projectName && !this._type) {
            throw new Error('type can not be empty.');
        }
        var project = config_1.projectName;
        if (this._type) {
            project = this._type == 'china' ? 'cm' : 'liveme';
        }
        this._octopusConfig = {
            appId: this._appId,
            env: this._env,
            projectName: project,
            userId: this._userId,
            userName: this._userName,
            customEdgeUrl: this._customEdgeUrl
        };
        this._octopusClient = new OctopusRTC_Core_1.OctopusClientTest(this._octopusConfig);
        this._logger.info('init params', this._octopusConfig);
        this.eventemitFunctions();
    };
    /**
     * des-登录房间-des
     * @param {string} roomId - 房间id
     * @param {(1 | 2)} role - 角色
     * @param {string} auth - 鉴权签名值
     * @param {string} expire - 过期时间戳
     * @return {Array | errMsg}  {(Promise<streamList[] | errMsg>)}
     * @memberof OctopusRTC
     */
    OctopusRTC.prototype.login = function (roomId, role, auth, expire) {
        return __awaiter(this, void 0, void 0, function () {
            var result, streamList, _a, _b, stream, reason_1;
            var e_1, _c;
            return __generator(this, function (_d) {
                switch (_d.label) {
                    case 0:
                        this._logger.info('login start', { roomId: roomId, role: role, auth: auth, expire: expire });
                        this._roomId = roomId;
                        if (!this._octopusClient) {
                            throw new Error('OctopusRTC is not a instance.');
                        }
                        result = [];
                        _d.label = 1;
                    case 1:
                        _d.trys.push([1, 3, , 4]);
                        return [4 /*yield*/, this._octopusClient.login(this._appPackageName, this._roomId, role, auth, expire)];
                    case 2:
                        streamList = _d.sent();
                        if (!('code' in streamList)) {
                            try {
                                for (_a = __values(streamList), _b = _a.next(); !_b.done; _b = _a.next()) {
                                    stream = _b.value;
                                    result.push({
                                        streamId: stream.streamId,
                                        userId: stream.userId,
                                        roomId: stream.roomId
                                    });
                                }
                            }
                            catch (e_1_1) { e_1 = { error: e_1_1 }; }
                            finally {
                                try {
                                    if (_b && !_b.done && (_c = _a.return)) _c.call(_a);
                                }
                                finally { if (e_1) throw e_1.error; }
                            }
                        }
                        this._logger.info('login success', result);
                        return [2 /*return*/, result];
                    case 3:
                        reason_1 = _d.sent();
                        this._logger.info('login failed', reason_1);
                        return [2 /*return*/, reason_1];
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    /**
     * des-登出房间-des
     *
     * @memberof OctopusRTC
     */
    OctopusRTC.prototype.logout = function () {
        if (!this._octopusClient) {
            throw new Error('OctopusRTC is not a instance.');
        }
        this.removeAllListeners();
        this._logger.disableLogUpload();
        this._octopusClient.logout();
    };
    /**
     * @typedef videoQuality
     * @type {1|2|3|4}
     * @property {number} 1 - 分辨率: 320 * 240, 帧率: 15, 码率: 300
     * @property {number} 2 - 分辨率: 640 * 480, 帧率: 15, 码率: 800
     * @property {number} 3 - 分辨率: 1280 * 720, 帧率: 20, 码率: 1500
     * @property {number} 4 - 分辨率: width * height, 帧率: frameRate, 码率: bitRate(k)
    */
    /**
     * @param {object} [source] - 视频源类型
     * @param {object} [source.camera] - 摄像头
     * @param {object} [source.screen] - 屏幕共享
     * @param {object} [source.custom] - 自定义流
     * @param {boolean} [source.camera.audio] - 是否开启音频
     * @param {boolean} [source.camera.video] - 是否开启视频
     * @param {string} [source.camera.audioInput] - 音频输入设备
     * @param {number} [source.camera.audioBitrate] - 音频码率
     * @param {string} [source.camera.videoInput] - 视频输入设备
     * @param {1|2|3|4} [source.camera.videoQuality] - 视频质量
     * @param {string} [source.camera.facingMode] - 切换摄像头（移动端）
     * @param {number} [source.camera.width] - 宽
     * @param {number} [source.camera.height] - 高
     * @param {number} [source.camera.frameRate] - 帧率
     * @param {number} [source.camera.bitrate] - 码率
     * @param {boolean} [source.camera.AGC] - 自动增益
     * @param {boolean} [source.camera.ANS] - 回声消除
     * @param {boolean} [source.camera.AEC] - 降噪
     * @param {boolean} [source.screen.audio] - (共享屏幕)是否开启音频
     * @param {1|2|3|4} [source.screen.videoQuality] - 视频质量设置
     * @param {number} [source.screen.frameRate] - 帧率
     * @param {number} [source.screen.bitrate] - 码率
     * @param {MediaStream} source.custom.source - 视频流
     * @param {number} [source.custom.bitrate] - 码率
     * @return {mediastream}  {Promise<MediaStream>}
     * des-创建流
     * @memberof OctopusRTC
     */
    OctopusRTC.prototype.createStream = function (source) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                this._logger.info('createStream params', source);
                return [2 /*return*/, this._octopusClient.createStream(source)];
            });
        });
    };
    /**
     * des-删除流-des
     *
     * @param {MediaStream} mediastream
     * @memberof OctopusRTC
     */
    OctopusRTC.prototype.destroyStream = function (mediastream) {
        if (!this._octopusClient) {
            throw new Error('OctopusRTC is not a instance.');
        }
        this._octopusClient.destroyStream(mediastream);
    };
    /**
     * des-开始推流-des
     *
     * @param {string} streamId - 流id
     * @param {MediaStream} mediaElement - 流
     * @return {void}  {Promise<void>}
     * @memberof OctopusRTC
     */
    OctopusRTC.prototype.startPublishingStream = function (streamId, mediaElement, extraInfo, publishOption) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this._logger.info('start publish stream', { streamId: streamId, mediaElement: mediaElement });
                        if (!this._octopusClient) return [3 /*break*/, 2];
                        return [4 /*yield*/, this._octopusClient.startPublishingStream(streamId, mediaElement, extraInfo, publishOption)];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2: return [2 /*return*/];
                }
            });
        });
    };
    /**
     * des-停止推流-des
     *
     * @param {string} streamId - 流id
     * @memberof OctopusRTC
     */
    OctopusRTC.prototype.stopPublishingStream = function (streamId) {
        this._logger.info('stop publish stream', streamId);
        if (this._octopusClient) {
            this._octopusClient.stopPublishingStream(streamId);
        }
    };
    /**
     * des-开始拉流-des
     *
     * @param {string} streamId - 流id
     * @return {void}  {(Promise<MediaStream | void>)}
     * @memberof OctopusRTC
     */
    OctopusRTC.prototype.startPlayingStream = function (streamId, audioOutput, playOption) {
        return __awaiter(this, void 0, void 0, function () {
            var stream;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this._logger.info('start play stream.', { pullstreamUserId: streamId });
                        if (!this._octopusClient) return [3 /*break*/, 2];
                        return [4 /*yield*/, this._octopusClient.startPlayingStream(streamId, audioOutput, playOption)];
                    case 1:
                        stream = _a.sent();
                        return [2 /*return*/, stream];
                    case 2: return [2 /*return*/];
                }
            });
        });
    };
    /**
     * des-停止拉流-des
     *
     * @param {string} streamId - 流id
     * @memberof OctopusRTC
     */
    OctopusRTC.prototype.stopPlayingStream = function (streamId) {
        this._logger.info('stop play stream', streamId);
        if (this._octopusClient) {
            this._octopusClient.stopPlayingStream(streamId);
        }
    };
    /**
     * des-混流-des
     *
     * @param {mixStreamConfig} mixStreamConfig
     * @return {*}  {Promise<void>}
     * @memberof OctopusRTC
     */
    OctopusRTC.prototype.updateMixStream = function (mixStreamConfig) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            if (_this._octopusClient) {
                _this._octopusClient.updateMixStream(mixStreamConfig, function (res) {
                    resolve(res);
                }, function (err) {
                    reject(err);
                });
            }
        });
    };
    /**
     * des-更改流track-des
     *
     * @param {MediaStream} currentStream
     * @param {MediaStreamTrack} track
     * @param {string} [streamId]
     * @memberof OctopusRTC
     */
    OctopusRTC.prototype.replaceTrack = function (currentStream, track, streamId) {
        if (!this._octopusClient) {
            throw new Error('OctopusRTC is not a instance.');
        }
        this._octopusClient.replaceTrack(currentStream, track, streamId);
    };
    /**
     * des-更改约束、设备-des
     *
     * @param {MediaStream} currentStream
     * @param {('audio' | 'video')} type
     * @param @type {(MediaTrackConstraints | sourceCamera)} constrains
     * @param {string} [streamId]
     * @return {Promise}  {(Promise<errMsg | void>)}
     * @memberof OctopusRTC
     */
    OctopusRTC.prototype.changeConstraints = function (currentStream, type, constrains, streamId) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!this._octopusClient) return [3 /*break*/, 2];
                        return [4 /*yield*/, this._octopusClient.changeConstraints(currentStream, type, constrains, streamId)];
                    case 1: return [2 /*return*/, _a.sent()];
                    case 2: return [2 /*return*/];
                }
            });
        });
    };
    /**
     * des-开启静音-des
     *
     * @param {string} streamId - 流id
     * @param {boolean} mute - 是否静音
     * @memberof OctopusRTC
     */
    OctopusRTC.prototype.muteSwitch = function (streamId, mute) {
        if (this._octopusClient) {
            this._octopusClient.muteSwitch(streamId, mute);
        }
    };
    /**
     * des-切换摄像头-des
     *
     * @param {string} streamId - 流id
     * @param {('close' | 'open')} state - 摄像头状态
     * @memberof OctopusRTC
     */
    OctopusRTC.prototype.cameraSwitch = function (streamId, state) {
        if (!this._octopusClient) {
            throw new Error('OctopusRTC is not a instance.');
        }
        this._octopusClient.cameraSwitch(streamId, state);
    };
    /**
     * des-获取本地音频统计数据-des
     *
     * @param {string} streamId
     * @return {LocalAudioTrackStats}
     * @memberof OctopusRTC
     */
    OctopusRTC.prototype.getLocalAudioStats = function (streamId) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!this._octopusClient) {
                            throw new Error('OctopusRTC is not a instance.');
                        }
                        return [4 /*yield*/, this._octopusClient.getMediaStreamTrackStats(streamId, Statistics_1.type.LocalAudio)];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    /**
     * des-获取本地视频统计数据-des
     *
     * @param {string} streamId
     * @return {LocalVideoTrackStats}
     * @memberof OctopusRTC
     */
    OctopusRTC.prototype.getLocalVideoStats = function (streamId) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!this._octopusClient) {
                            throw new Error('OctopusRTC is not a instance.');
                        }
                        return [4 /*yield*/, this._octopusClient.getMediaStreamTrackStats(streamId, Statistics_1.type.LocalVideo)];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    /**
     * des-获取远端音频统计数据-des
     *
     * @param {string} streamId
     * @return {RemoteAudioTrackStats}
     * @memberof OctopusRTC
     */
    OctopusRTC.prototype.getRemoteAudioStats = function (streamId) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!this._octopusClient) {
                            throw new Error('OctopusRTC is not a instance.');
                        }
                        return [4 /*yield*/, this._octopusClient.getMediaStreamTrackStats(streamId, Statistics_1.type.RemoteAudio)];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    /**
     *des-获取远端视频统计数据-des
     *
     * @param {string} streamId
     * @return {RemoteVideoTrackStats}
     * @memberof OctopusRTC
     */
    OctopusRTC.prototype.getRemoteVideoStats = function (streamId) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!this._octopusClient) {
                            throw new Error('OctopusRTC is not a instance.');
                        }
                        return [4 /*yield*/, this._octopusClient.getMediaStreamTrackStats(streamId, Statistics_1.type.RemoteVideo)];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    /**
     *des-录制本地视频-des
     * @param {mediastream} - 媒体流
     * @param {RecordMediastreamOptions} - 录制媒体参数
     * @returns {object} - record实例(调用startRecord()开始录制， stopRecord()结束录制，downRecord()下载录制)
     * @memberof OctopusRTC
     */
    OctopusRTC.prototype.initRecord = function (mediastream, _a) {
        var mimeType = _a.mimeType, codec = _a.codec;
        this._record = new Record_1.RecordMediastream(mediastream, {
            codec: codec,
            mimeType: mimeType
        });
        return this._record;
    };
    OctopusRTC.prototype.eventemitFunctions = function () {
        var _this = this;
        /**
         *
         * Throw a stream-update.
         *
         * @fires OctopusRTC#stream-update
         *
         *
         */
        if (this._octopusClient) {
            /**
             * @typedef stramStateResult
             * @property {number} code - 标识码 1: 推(拉)流成功; 11: 断网重连推(拉)流成功，用于通知业务端更改播放器状态等; 0: 推(拉)流失败
             * @property {string} streamId - 流Id
             * @property {string} state - PUBLISHING: 正在推流; PLAYING: 正在拉流; NO_PUBLISH: 推流失败; NO_PLAY: 拉流失败
            */
            this._octopusClient.on('@getpublishstate', function (result) {
                /**
                 * des-获取推流状态 event-des
                 *
                 * @since 2.0
                 * @event OctopusRTC#publish-state-update
                 * @returns {stramStateResult}
                 */
                _this.emit('publish-state-update', result);
            });
            this._octopusClient.on('@getplaystate', function (result) {
                /**
                 * des-获取拉流状态 event-des
                 *
                 * @since 2.0
                 * @event OctopusRTC#play-state-update
                 * @returns {stramStateResult}
                 */
                _this.emit('play-state-update', result);
            });
            this._octopusClient.on('@getstreamupdate', function (result) {
                /**
                 * @typedef stramUpdateResult
                 * @property {number} code - 标识码 1 为增加 0为减少
                 * @property {Array.<{streamId: string, userId: string, roomId: string}>} streamList - 流列表
                */
                /**
                 * des-流变化通知 event-des
                 *
                 * @since 2.0
                 * @event OctopusRTC#stream-update
                 * @returns {stramUpdateResult}
                 */
                _this.emit('stream-update', result);
            });
            this._octopusClient.on('@getdisconnect', function (result) {
                /**
                 * des-websocket 断开通知 event-des
                 *
                 * @since 2.0
                 * @event OctopusRTC#disconnect
                 * @returns {errMsg}
                 */
                _this.emit('disconnect', result);
            });
            this._octopusClient.on('@getkickout', function (result) {
                /**
                 * @typedef kickResult
                 * @property {string} userId - 用户Id
                 * @property {string} roomId - 房间Id
                 * @property {number} reason - 错误码
                */
                /**
                 * des-踢人通知 event-des
                 *
                 * @since 2.0
                 * @event OctopusRTC#kick-out
                 * @returns {kickResult}
                 */
                _this.emit('kick-out', result);
                _this.logout();
            });
        }
    };
    /**
     * des-设置日志等级-des
     * @param {(0 | 1 | 2 | 3 | 4)} level - 日志等级 0: debug 1: info 2: warning 3: error 4: none
     * @memberof OctopusRTC
     */
    OctopusRTC.prototype.setLogLevel = function (level) {
        this._logger.setLogLevel(level);
    };
    /**
     * des-设置开始上传日志-des
     *
     * @memberof OctopusRTC
     */
    OctopusRTC.prototype.enableLogUpload = function () {
        this._logger.enableLogUpload();
    };
    /**
     * des-设置停止上传日志-des
     *
     * @memberof OctopusRTC
     */
    OctopusRTC.prototype.disableLogUpload = function () {
        this._logger.disableLogUpload();
    };
    OctopusRTC.prototype.devicesList = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _a = MediaDeviceInfoCategory_1.default.bind;
                        return [4 /*yield*/, navigator.mediaDevices.enumerateDevices()];
                    case 1: return [2 /*return*/, new (_a.apply(MediaDeviceInfoCategory_1.default, [void 0, _b.sent()]))()];
                }
            });
        });
    };
    OctopusRTC.prototype.getCamerasList = function () {
        return __awaiter(this, void 0, void 0, function () {
            var cameras;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.devicesList()];
                    case 1:
                        cameras = (_a.sent()).cameras;
                        return [2 /*return*/, cameras];
                }
            });
        });
    };
    OctopusRTC.prototype.getMicrophonesList = function () {
        return __awaiter(this, void 0, void 0, function () {
            var microphones;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.devicesList()];
                    case 1:
                        microphones = (_a.sent()).microphones;
                        return [2 /*return*/, microphones];
                }
            });
        });
    };
    OctopusRTC.prototype.getSpeakersList = function () {
        return __awaiter(this, void 0, void 0, function () {
            var speakers;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.devicesList()];
                    case 1:
                        speakers = (_a.sent()).speakers;
                        return [2 /*return*/, speakers];
                }
            });
        });
    };
    return OctopusRTC;
}(eventemitter3_1.default));
/**
 * @global
 * @typedef {Object} errMsg
 * @alias errMsg
 * @property {number} code
 * @property {string} msg
 */
/**
 * @global
 * @typedef {Object} sourceCamera
 * @property {boolean} audio - 是否开启音频
 * @property {boolean} video - 是否开启视频
 * @property {string} audioInput - 音频输入设备
 * @property {string} videoInput - 视频输入设备
 * @property {number} videoQuality - 视频质量
 * @property {string} facingMode - 摄像头朝向，"user"表示前置摄像头，"environment"表示后置摄像头
 * @property {number} width - 宽
 * @property {number} height - 高
 * @property {number} frameRate - 帧率
 * @property {number} bitrate - 码率
 * @property {boolean} AGC - 自动增益
 * @property {boolean} ANS - 回声消除
 * @property {boolean} AEC - 降噪
 *
*/
/**
 * @global
 * @typedef {Object} LocalAudioTrackStats
 * @property {"opus" | "aac"} codecType 编码类型
 * @property {number} sendBitrate 音频发送码率
 * @property {number} sendBytes 音频字节
 * @property {number} sendPackets 音频发送包数
 * @property {number} sendPacketsLost 音频丢包数
 * @property {number}  sendVolumeLevel 声音级别
 */
/**
 * @global
 * @typedef {Object} LocalVideoTrackStats
 * @property {undefined | number} captureFrameRate 采集帧率
 * @property {number} captureResolutionHeight 采集分辨率高度
 * @property {number} captureResolutionWidth 采集分辨率宽度
 * @property {"H264" | "VP8" | "VP9"} codecType 视频编码类型
 * @property {undefined | number} encodeDelay 编码延迟
 * @property {number} sendBitrate 发送码率
 * @property {number} sendBytes 发送字节
 * @property {undefined | number} sendFrameRate 发送帧率
 * @property {number} sendPackets 发送包
 * @property {number} sendPacketsLost 丢包
 * @property {number} sendResolutionHeight 发送分辨率高度
 * @property {number} sendResolutionWidth 发送分辨率宽度
 * @property {number} targetSendBitrate 目标码率
 * @property {number} totalDuration 视频总时长，单位为秒
 * @property {number} totalFreezeTime 视频总卡顿时长，单位为秒
 */
/**
 * @global
 * @typedef {Object} RemoteAudioTrackStats
 * @property {"opus" | "aac"} codecType 编码类型
 * @property {number} freezeRate 卡顿率
 * @property {number} packetLossRate 丢包率
 * @property {number} publishDuration 发布时长
 * @property {number} receiveBitrate 接收码率
 * @property {number} receiveBytes 接收字节
 * @property {number} receiveDelay 接收延迟
 * @property {number} receiveDelay 音频级别
 * @property {number} receivePackets 音频包
 * @property {number} receivePacketsLost 接收丢包率
 * @property {number} totalDuration 接收时长
 * @property {number} totalFreezeTime 音频总卡顿时长
 * @property {number} transportDelay 传输延迟
 */
/**
 * @global
 * @typedef {Object} RemoteVideoTrackStats
 * @property {"opus" | "aac"} codecType 编码类型
 * @property {undefined | number} decodeFrameRate 解码帧率
 * @property {number} freezeRate 卡顿率
 * @property {number} packetLossRate 丢包率
 * @property {number} receiveBitrate 接收码率
 * @property {number} receiveBytes 接收字节数
 * @property {number} receiveDelay 接收延迟
 * @property {undefined | number} receiveFrameRate 接收帧率
 * @property {number} receivePackets 接收包
 * @property {number} receivePacketsLost 接收丢包
 * @property {number} receiveResolutionHeight 接收分辨率高度
 * @property {number} receiveResolutionWidth 接收分辨率高度
 * @property {number} renderFrameRate 渲染帧率
 * @property {number} totalDuration 接收的视频总时长，单位为秒。
 * @property {number} totalFreezeTime 接收的视频总卡顿时长，单位为秒。
 * @property {number} transportDelay 从远端发送视频到本地接收视频的延迟。
*/
/**
 * @global
 * @typedef {Object} RecordMediastreamOptions
 * @property {string} mimeType MIMETYPE
 * @property {string} codec 编码类型
*/
exports.default = OctopusRTC;


/***/ }),

/***/ "./src/common/defaultConfig.ts":
/*!*************************************!*\
  !*** ./src/common/defaultConfig.ts ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.constantConfig = exports.envConfig = void 0;
exports.envConfig = {
    liveme: {
        prod: {
            CENTERURL: 'https://rtc-stream-global-center.linkv.fun',
            LOGURL: 'wss://rtc-fs.linkv.fun',
        },
        test: {
            CENTERURL: 'https://qa-rtc-stream-global-center.linkv.fun',
            LOGURL: 'wss://rtc-fs.linkv.fun',
        },
        dev: {
            CENTERURL: 'https://qa-rtc-stream-global-center.linkv.fun',
            LOGURL: 'wss://rtc-fs.linkv.fun',
        }
    },
    cm: {
        prod: {
            CENTERURL: 'https://rtc-stream-cn-center.linkv.fun',
            LOGURL: 'wss://rtc-fs.linkv.fun',
        },
        test: {
            CENTERURL: 'https://qa-rtc-stream-cn-center.linkv.fun',
            LOGURL: 'wss://rtc-fs.linkv.fun',
        },
        dev: {
            CENTERURL: 'https://qa-rtc-stream-cn-center.linkv.fun',
            LOGURL: 'wss://rtc-fs.linkv.fun',
        }
    }
};
exports.constantConfig = {
    LOGREPORT: 'https://joyme-weblog.linkv.fun',
    STATSURL: 'https://linkv-old-collect.linkv.fun'
};


/***/ }),

/***/ "./src/common/errorCode.ts":
/*!*********************************!*\
  !*** ./src/common/errorCode.ts ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/**
 * 错误码长度为6位数字。
 * 1XXXXX device 异常
 * 4XXXXX http 异常
 * 5XXXXX signal 异常
 * 6XXXXX media 异常
 * 7XXXXX 缺省检查
*/
Object.defineProperty(exports, "__esModule", { value: true });
exports.errCode = exports.lackErrCode = void 0;
function lackErrCode(msg) {
    return {
        code: 700000,
        msg: "LACK OF " + msg.toUpperCase()
    };
}
exports.lackErrCode = lackErrCode;
exports.errCode = new Map([
    ['wsDisconnect', {
            code: 500000,
            msg: 'WS_DISCONNECT'
        }],
    ['kickOut', {
            code: 500001,
            msg: 'WS_KICK_OUT'
        }],
    ['constrainChangeSuccess', {
            code: 600000,
            msg: 'CONSTRAIN_CHANGE_SUCCESS'
        }],
    ['overConstrainedError', {
            code: 600001,
            msg: 'OVERCONSTRAINEDERROR'
        }],
    ['devicesSupportError', {
            code: 600002,
            msg: 'DEVICES_NOT_SUPPORTED'
        }],
    ['constrainChangeFailed', {
            code: 600003,
            msg: 'STREAM_NOT_EXIST'
        }],
    ['nullEdgeList', {
            code: 400000,
            msg: 'EDGE_LIST_NULL'
        }]
]);


/***/ }),

/***/ "./src/web/OctopusRTC-Core.ts":
/*!************************************!*\
  !*** ./src/web/OctopusRTC-Core.ts ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __values = (this && this.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
var __read = (this && this.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.OctopusClientTest = void 0;
var MediaDeviceController_1 = __importDefault(__webpack_require__(/*! ./media/MediaDeviceController */ "./src/web/media/MediaDeviceController.ts"));
var Index_1 = __importDefault(__webpack_require__(/*! ./signal/Index */ "./src/web/signal/Index.ts"));
var defaultMediaConfig_1 = __importDefault(__webpack_require__(/*! ./config/defaultMediaConfig */ "./src/web/config/defaultMediaConfig.ts"));
var logger_1 = __webpack_require__(/*! ./log/logger */ "./src/web/log/logger.ts");
var eventemitter3_1 = __importDefault(__webpack_require__(/*! eventemitter3 */ "./node_modules/eventemitter3/umd/eventemitter3.min.js"));
var Device_1 = __webpack_require__(/*! ./device/Device */ "./src/web/device/Device.ts");
var errorCode_1 = __webpack_require__(/*! ../common/errorCode */ "./src/common/errorCode.ts");
var serviceAPI_1 = __webpack_require__(/*! ./service/serviceAPI */ "./src/web/service/serviceAPI.ts");
var Statistics_1 = __webpack_require__(/*! ./device/handlers/stats/Statistics */ "./src/web/device/handlers/stats/Statistics.ts");
var OctopusClientTest = /** @class */ (function (_super) {
    __extends(OctopusClientTest, _super);
    function OctopusClientTest(options) {
        var _this = _super.call(this) || this;
        _this._roomId = '';
        _this._role = 1;
        _this._appId = '';
        _this._userId = "";
        _this._signal = null;
        _this._media = null;
        _this._logger = null;
        _this._mapStreamIdInfo = new Map();
        _this._audioCustomBitrate = 0;
        _this._videoCustomBitrate = 0;
        _this._customFramerate = 0;
        _this._env = 'prod';
        _this._projectName = 'liveme';
        _this._customEdgeUrl = '';
        _this._reportHandle = 0;
        _this._mapStreamIdhandler = new Map();
        _this._pullStreamList = new Map();
        _this.reconnectionFun = function (result) {
            var mediaStream = _this._mapStreamIdInfo.get(result.streamId);
            var currentHandler = _this._mapStreamIdhandler.get(result.streamId);
            if (!mediaStream || !currentHandler) {
                throw new Error('streamId is not exist.');
            }
            currentHandler.destroy();
            _this._mapStreamIdhandler.delete(result.streamId);
            clearTimeout(_this._reportHandle);
            if (result.userId == _this._userId) {
                _this.startPublishingStream(result.streamId, mediaStream.mediastream);
            }
            else {
                _this.startPlayingStream(result.streamId);
            }
        };
        _this._appId = options.appId;
        _this._userId = options.userId;
        if (options !== void 0) {
            if (options.customEdgeUrl !== void 0) {
                _this._customEdgeUrl = options.customEdgeUrl;
            }
            if (options.env !== void 0) {
                _this._env = options.env;
            }
            if (options.projectName !== void 0) {
                _this._projectName = options.projectName;
            }
        }
        _this._logger = logger_1.logger.collect;
        return _this;
    }
    OctopusClientTest.prototype.login = function (appPackageName, roomId, role, auth, expire) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) {
                        _this._signal = new Index_1.default({
                            appPackageName: appPackageName,
                            env: _this._env,
                            projectName: _this._projectName,
                            roomId: roomId,
                            appId: _this._appId,
                            userId: _this._userId,
                            customEdgeUrl: _this._customEdgeUrl
                        });
                        _this.getSignalState();
                        _this._signal.init({
                            auth: auth,
                            expire: expire,
                            role: role
                        });
                        _this._roomId = roomId;
                        _this._role = role;
                        _this._signal.on('@getjoinsucessresult', function (result) {
                            if (result.code == 200) {
                                resolve(result.msg);
                            }
                            else {
                                reject(result);
                            }
                        });
                    })];
            });
        });
    };
    OctopusClientTest.prototype.getSignalState = function () {
        var _this = this;
        if (!this._signal) {
            throw new Error('signal is not a instance.');
        }
        ;
        this._signal.on('@kickout', function (result) {
            _this.emit('@getkickout', result);
        });
        this._signal.on('@disconnect', function (result) {
            _this.emit('@getdisconnect', result);
        });
        this._signal.on('@streamupdate', function (result) {
            _this._logger.debug('streamupdate::::', result);
            _this.emit('@getstreamupdate', result);
        });
    };
    OctopusClientTest.prototype.logout = function () {
        if (this._signal) {
            clearTimeout(this._reportHandle);
            this.removeAllListeners();
            this._signal.logout();
        }
        else {
            return;
        }
    };
    OctopusClientTest.prototype.createStream = function (source) {
        return __awaiter(this, void 0, void 0, function () {
            var paramSource, handleConstraints, cameraParams, videoQualityConfig, screenParams, screenConstraints, screenQualityConfig;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        paramSource = source ? source : {};
                        handleConstraints = {
                            audio: true,
                            video: true
                        };
                        if (!this._media) {
                            this._media = new MediaDeviceController_1.default({
                                userId: this._userId
                            });
                        }
                        if (!paramSource.camera) return [3 /*break*/, 2];
                        cameraParams = paramSource.camera;
                        if (Object.keys(cameraParams).indexOf('audio') != -1) {
                            if (typeof cameraParams.audio == 'boolean') {
                                handleConstraints.audio = cameraParams.audio;
                                if (cameraParams.audio) {
                                    handleConstraints.audio = {};
                                    if (cameraParams.audioInput) {
                                        handleConstraints.audio.deviceId = cameraParams.audioInput;
                                    }
                                    if (cameraParams.AGC) {
                                        handleConstraints.audio.autoGainControl = cameraParams.AGC;
                                    }
                                    ;
                                    if (cameraParams.AEC) {
                                        handleConstraints.audio.echoCancellation = cameraParams.AEC;
                                    }
                                    if (cameraParams.ANS) {
                                        handleConstraints.audio.noiseSuppression = cameraParams.ANS;
                                    }
                                    if (cameraParams.sampleRate) {
                                        handleConstraints.audio.sampleRate = cameraParams.sampleRate;
                                    }
                                    if (cameraParams.channelCount) {
                                        handleConstraints.audio.channelCount = cameraParams.channelCount;
                                    }
                                    if (cameraParams.audioBitrate) {
                                        this._audioCustomBitrate = cameraParams.audioBitrate;
                                    }
                                    if (Object.keys(handleConstraints.audio).length === 0) {
                                        handleConstraints.audio = true;
                                    }
                                }
                            }
                            else {
                                throw new TypeError('audio must be boolean');
                            }
                        }
                        else {
                            handleConstraints.audio = true;
                        }
                        if (Object.keys(cameraParams).indexOf('video') != -1) {
                            if (typeof cameraParams.video == 'boolean') {
                                handleConstraints.video = cameraParams.video;
                                if (cameraParams.video) {
                                    handleConstraints.video = {};
                                    if (cameraParams.videoInput) {
                                        handleConstraints.video.deviceId = cameraParams.videoInput;
                                    }
                                    if (cameraParams.facingMode) {
                                        handleConstraints.video.facingMode = cameraParams.facingMode;
                                    }
                                    if (cameraParams.videoQuality) {
                                        if (cameraParams.videoQuality < 4) {
                                            videoQualityConfig = defaultMediaConfig_1.default.camera.videoQuality[cameraParams.videoQuality - 1];
                                            this._videoCustomBitrate = videoQualityConfig.bitRate;
                                            handleConstraints.video.width = videoQualityConfig.width;
                                            handleConstraints.video.height = videoQualityConfig.height;
                                            handleConstraints.video.frameRate = videoQualityConfig.frameRate;
                                        }
                                        else {
                                            if (cameraParams.width) {
                                                handleConstraints.video.width = cameraParams.width;
                                            }
                                            if (cameraParams.height) {
                                                handleConstraints.video.height = cameraParams.height;
                                            }
                                            if (cameraParams.frameRate) {
                                                handleConstraints.video.frameRate = cameraParams.frameRate;
                                            }
                                            if (cameraParams.bitrate) {
                                                this._videoCustomBitrate = cameraParams.bitrate;
                                            }
                                        }
                                        if (typeof handleConstraints.video.frameRate === 'number') {
                                            this._customFramerate = handleConstraints.video.frameRate;
                                        }
                                    }
                                    if (Object.keys(handleConstraints.video).length === 0) {
                                        handleConstraints.video = true;
                                    }
                                }
                            }
                            else {
                                throw new TypeError('video must be boolean');
                            }
                        }
                        else {
                            handleConstraints.video = true;
                        }
                        return [4 /*yield*/, this._media.getLocalMediaStream('camera', handleConstraints)];
                    case 1: return [2 /*return*/, _a.sent()];
                    case 2:
                        if (!paramSource.screen) return [3 /*break*/, 4];
                        screenParams = paramSource.screen;
                        screenConstraints = {
                            audio: false,
                            video: true
                        };
                        if (screenParams.audio) {
                            if (typeof screenParams.audio == 'boolean') {
                                screenConstraints.audio = screenParams.audio;
                            }
                            else {
                                throw new TypeError('audio must be boolean');
                            }
                        }
                        if (screenParams.videoQuality) {
                            screenConstraints.video = {};
                            if (screenParams.videoQuality < 4) {
                                screenQualityConfig = defaultMediaConfig_1.default.screen.videoQuality[screenParams.videoQuality - 1];
                                this._videoCustomBitrate = screenQualityConfig.bitRate;
                                screenConstraints.video.frameRate = screenQualityConfig.frameRate;
                            }
                            else {
                                if (screenParams.frameRate) {
                                    screenConstraints.video.frameRate = screenParams.frameRate;
                                }
                                if (screenParams.bitrate) {
                                    this._videoCustomBitrate = screenParams.bitrate;
                                }
                            }
                            if (typeof screenConstraints.video.frameRate === 'number') {
                                this._customFramerate = screenConstraints.video.frameRate;
                            }
                        }
                        return [4 /*yield*/, this._media.getLocalMediaStream('display', screenConstraints)];
                    case 3: return [2 /*return*/, _a.sent()];
                    case 4:
                        if (!paramSource.custom) return [3 /*break*/, 5];
                        return [2 /*return*/, paramSource.custom.source];
                    case 5: return [4 /*yield*/, this._media.getLocalMediaStream('camera', handleConstraints)];
                    case 6: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    OctopusClientTest.prototype.destroyStream = function (mediastream) {
        if (!this._media) {
            throw new Error('media is not a instance.');
        }
        this._media.destroyLocalMediaStream(mediastream);
    };
    OctopusClientTest.prototype.getMediaStreamTrackConstrains = function (mediastream) {
        var e_1, _a;
        try {
            for (var _b = __values(mediastream.getTracks()), _c = _b.next(); !_c.done; _c = _b.next()) {
                var track = _c.value;
                if (track.kind == 'video') {
                    try {
                        var videoConstrains = track.getSettings();
                        // 神策上报
                        serviceAPI_1.uploadSensorsStats({
                            app_id: this._appId,
                            capture_height: videoConstrains.height,
                            capture_width: videoConstrains.width,
                            connect_state: -1,
                            edge_url: "",
                            encode_height: videoConstrains.height,
                            encode_width: videoConstrains.width,
                            event_type: 3,
                            fps: videoConstrains.frameRate,
                            is_host: this._role == 1 ? 1 : 0,
                            join_room_cost: 0,
                            log_type: "liveme_video_rtc_room_event",
                            min_bitrate: this._videoCustomBitrate,
                            push_bitrate: this._videoCustomBitrate,
                            room_id: this._roomId,
                            self_user_id: this._userId,
                        });
                    }
                    catch (e) {
                        this._logger.debug('brower can not support getSettings');
                    }
                }
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
            }
            finally { if (e_1) throw e_1.error; }
        }
    };
    OctopusClientTest.prototype.startPublishingStream = function (streamId, mediastream, extraInfo, publishOption) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                // 上报神策
                serviceAPI_1.uploadSensorsStats({
                    app_id: this._appId,
                    event_type: 4,
                    log_type: "liveme_video_rtc_statistics",
                    room_id: this._roomId,
                    self_user_id: this._userId,
                    user_id: this._userId
                });
                // 上报神策 音视频参数
                this.getMediaStreamTrackConstrains(mediastream);
                if (!this._media) {
                    this._media = new MediaDeviceController_1.default({
                        userId: this._userId
                    });
                }
                // this._media.saveCurrentStream(streamId, mediastream);
                this._mapStreamIdInfo.set(streamId, {
                    mediastream: mediastream
                });
                this.transport(streamId, 'send');
                // 获取推流状态
                this.getStreamStateUpdate(streamId).then(function (result) {
                    // 上报神策
                    serviceAPI_1.uploadSensorsStats({
                        app_id: _this._appId,
                        event_type: 5,
                        isConnected: result.code,
                        log_type: "liveme_video_rtc_statistics",
                        room_id: _this._roomId,
                        self_user_id: _this._userId,
                        user_id: _this._userId
                    });
                    if (result.streamId == streamId) {
                        _this.emit('@getpublishstate', result);
                    }
                }, function (e) {
                    throw new Error(e);
                });
                return [2 /*return*/];
            });
        });
    };
    OctopusClientTest.prototype.startPlayingStream = function (streamId, audioOutput, playOption) {
        return __awaiter(this, void 0, void 0, function () {
            var _a, _b, _c, currentPlayInfo, currentPlayStream, _d, _e, item, _f, _g, cell, resultStreamInfo;
            var e_2, _h, e_3, _j;
            var _this = this;
            return __generator(this, function (_k) {
                switch (_k.label) {
                    case 0:
                        // 上报神策
                        serviceAPI_1.uploadSensorsStats({
                            app_id: this._appId,
                            event_type: 6,
                            log_type: "liveme_video_rtc_statistics",
                            room_id: this._roomId,
                            self_user_id: this._userId,
                            user_id: streamId
                        });
                        // NOTE: Stuff to play remote audios due to browsers' new autoplay policy.
                        // Just get access to the mic and DO NOT close the mic track for a while.
                        // Super hack!
                        // {
                        //     const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
                        //     const audioTrack = stream.getAudioTracks()[0];
                        //     audioTrack.enabled = false;
                        //     setTimeout(() => audioTrack.stop(), 120000);
                        // }
                        this.transport(streamId, 'recv');
                        _b = (_a = this._pullStreamList).set;
                        _c = [streamId];
                        return [4 /*yield*/, this._mapStreamIdhandler.get(streamId).getPlayStream()];
                    case 1:
                        _b.apply(_a, _c.concat([_k.sent()]));
                        currentPlayInfo = this._mapStreamIdInfo.get(streamId);
                        if (currentPlayInfo) {
                            // 上报神策
                            serviceAPI_1.uploadSensorsStats({
                                app_id: this._appId,
                                event_type: 7,
                                isConnected: 3,
                                log_type: "liveme_video_rtc_statistics",
                                room_id: this._roomId,
                                self_user_id: this._userId,
                                user_id: streamId
                            });
                            currentPlayStream = currentPlayInfo.mediastream;
                            try {
                                for (_d = __values(currentPlayStream.getTracks()), _e = _d.next(); !_e.done; _e = _d.next()) {
                                    item = _e.value;
                                    item.stop();
                                    currentPlayStream.removeTrack(item);
                                }
                            }
                            catch (e_2_1) { e_2 = { error: e_2_1 }; }
                            finally {
                                try {
                                    if (_e && !_e.done && (_h = _d.return)) _h.call(_d);
                                }
                                finally { if (e_2) throw e_2.error; }
                            }
                            try {
                                for (_f = __values(this._pullStreamList.get(streamId).getTracks()), _g = _f.next(); !_g.done; _g = _f.next()) {
                                    cell = _g.value;
                                    currentPlayStream.addTrack(cell);
                                }
                            }
                            catch (e_3_1) { e_3 = { error: e_3_1 }; }
                            finally {
                                try {
                                    if (_g && !_g.done && (_j = _f.return)) _j.call(_f);
                                }
                                finally { if (e_3) throw e_3.error; }
                            }
                            this.emit('@getplaystate', {
                                code: 11,
                                state: 'REPLAYING',
                                streamId: streamId
                            });
                        }
                        else {
                            this._mapStreamIdInfo.set(streamId, {
                                mediastream: this._pullStreamList.get(streamId)
                            });
                            // 获取拉流状态
                            this.getStreamStateUpdate(streamId).then(function (result) {
                                // 上报神策
                                serviceAPI_1.uploadSensorsStats({
                                    app_id: _this._appId,
                                    event_type: 7,
                                    isConnected: result.code,
                                    log_type: "liveme_video_rtc_statistics",
                                    room_id: _this._roomId,
                                    self_user_id: _this._userId,
                                    user_id: streamId
                                });
                                _this.emit('@getplaystate', result);
                            }, function (e) {
                                throw new Error(e);
                            });
                        }
                        resultStreamInfo = this._mapStreamIdInfo.get(streamId);
                        if (!resultStreamInfo) {
                            throw new Error('streamId is not exist.');
                        }
                        return [2 /*return*/, resultStreamInfo.mediastream];
                }
            });
        });
    };
    OctopusClientTest.prototype.transport = function (streamId, direction) {
        return __awaiter(this, void 0, void 0, function () {
            var options, streamInfo, mediastream, localOfferSdp, getCandidateCallback;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!this._signal) {
                            throw new Error('signal is not a instance.');
                        }
                        this._mapStreamIdhandler.set(streamId, new Device_1.Device());
                        this._mapStreamIdhandler.get(streamId).load({
                            streamId: streamId,
                            direction: direction
                        });
                        if (direction == 'send' && (this._videoCustomBitrate || this._audioCustomBitrate)) {
                            this._mapStreamIdhandler.get(streamId).setUserCustomParams({
                                videoCustomBitrate: this._videoCustomBitrate,
                                audioCustomBitrate: this._audioCustomBitrate,
                                customFramerate: this._customFramerate
                            });
                        }
                        streamInfo = this._mapStreamIdInfo.get(streamId);
                        if (streamInfo) {
                            mediastream = streamInfo.mediastream;
                            options = { mediastream: mediastream };
                        }
                        return [4 /*yield*/, this._mapStreamIdhandler.get(streamId).getLocalOfferSdp(options)];
                    case 1:
                        localOfferSdp = (_a.sent()).localOfferSdp;
                        this._signal.sendLocalOfferSdp({
                            sdp: localOfferSdp,
                            pullStreamId: streamId,
                            pullStreamRoomId: this._roomId // 暂时没有多房间
                        });
                        this._signal.getCandidateArray(streamId);
                        getCandidateCallback = function (candidateResult) { return __awaiter(_this, void 0, void 0, function () {
                            var getAnswerSdpResult, remoteAnswerSdp, peerId;
                            return __generator(this, function (_a) {
                                switch (_a.label) {
                                    case 0:
                                        if (!this._signal) {
                                            throw new Error('signal not a instance.');
                                        }
                                        return [4 /*yield*/, this._signal.receiveAnswerSdp(streamId)];
                                    case 1:
                                        getAnswerSdpResult = _a.sent();
                                        this._logger.report('get answersdp', getAnswerSdpResult);
                                        if ('remoteAnswerSdp' in getAnswerSdpResult) {
                                            remoteAnswerSdp = getAnswerSdpResult.remoteAnswerSdp, peerId = getAnswerSdpResult.peerId;
                                            this._mapStreamIdhandler.get(streamId).setRemoteAnswerSdp({ remoteAnswerSdp: remoteAnswerSdp });
                                        }
                                        this._logger.report('get candidateResult', candidateResult);
                                        this._mapStreamIdhandler.get(streamId).setIceCandidate(candidateResult);
                                        return [2 /*return*/];
                                }
                            });
                        }); };
                        this._signal.on("@getcandidate" + streamId, function (candidateResult) {
                            getCandidateCallback(candidateResult);
                            if (!_this._signal) {
                                throw new Error('signal not a instance.');
                            }
                            _this._signal.off("@getcandidate" + streamId);
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    OctopusClientTest.prototype.getStreamStateUpdate = function (streamId) {
        return __awaiter(this, void 0, void 0, function () {
            var currentHandlerDevices, result, e_4;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!this._signal) {
                            throw new Error('signal not a instance.');
                        }
                        currentHandlerDevices = this._mapStreamIdhandler.get(streamId);
                        if (!currentHandlerDevices) {
                            throw new Error('Device handler not load.');
                        }
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 3, , 4]);
                        this._signal.off('@reconnection', this.reconnectionFun);
                        return [4 /*yield*/, currentHandlerDevices.getConnectionStateUpdate()];
                    case 2:
                        result = _a.sent();
                        if (result.code == 1) {
                            // 上报数据
                            if (this._reportHandle == 0) {
                                // 取值过早会没有处理，做延迟1s处理
                                setTimeout(function () {
                                    _this.uploadRealtimeStreamData();
                                }, 1000);
                            }
                            // 断网重连
                            this.reconnectionListeners();
                        }
                        return [2 /*return*/, result];
                    case 3:
                        e_4 = _a.sent();
                        throw new Error(e_4);
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    OctopusClientTest.prototype.stopPublishingStream = function (streamId) {
        var currentHandlerDevices = this._mapStreamIdhandler.get(streamId);
        if (!currentHandlerDevices) {
            throw new Error('Device handler not load.');
        }
        currentHandlerDevices.stopTransceiver();
        currentHandlerDevices.destroy();
        this._mapStreamIdhandler.delete(streamId);
        if (!this._media) {
            throw new Error('media is not a instance');
        }
        // this._media.deleteCurrentStream(streamId);
        if (!this._signal) {
            throw new Error('signal not a instance.');
        }
        this._signal.stopPush(streamId);
        this._logger && this._logger.info('stop publish stream success.');
    };
    OctopusClientTest.prototype.stopPlayingStream = function (streamId) {
        var currentDevices = this._mapStreamIdhandler.get(streamId);
        if (!currentDevices) {
            throw new Error('Device handler not load.');
        }
        currentDevices.stopTransceiver();
        currentDevices.destroy();
        // clearTimeout(this._reportHandle);
        this._mapStreamIdhandler.delete(streamId);
        if (!this._signal) {
            throw new Error('signal is not a instance.');
        }
        this._signal.stopPlay(streamId);
        this._logger && this._logger.info('stop play stream success.');
    };
    OctopusClientTest.prototype.updateMixStream = function (mixStreamConfig, successCallback, failedCallback) {
        if (!this._signal) {
            return;
        }
        this._signal.updateMixStream(mixStreamConfig);
    };
    OctopusClientTest.prototype.muteSwitch = function (streamId, mute) {
        var currentStreamInfo = this._mapStreamIdInfo.get(streamId);
        if (currentStreamInfo) {
            var currentStream = currentStreamInfo.mediastream;
            if (mute) {
                currentStream.getAudioTracks()[0].enabled = false;
            }
            else {
                currentStream.getAudioTracks()[0].enabled = true;
            }
        }
        else {
            throw new Error('streamId is not exist.');
        }
    };
    OctopusClientTest.prototype.cameraSwitch = function (streamId, state) {
        var currentStreamInfo = this._mapStreamIdInfo.get(streamId);
        if (currentStreamInfo) {
            var currentStream = currentStreamInfo.mediastream;
            if (state == 'open') {
                currentStream.getVideoTracks()[0].enabled = true;
                ;
            }
            else {
                currentStream.getVideoTracks()[0].enabled = false;
            }
        }
        else {
            throw new Error('streamId is not exist.');
        }
    };
    OctopusClientTest.prototype.updateDevice = function (type, currentStream, deviceId, streamId) {
        return __awaiter(this, void 0, void 0, function () {
            var deviceConstraints, mediastream, mediastreamTrack, e_5;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (type == 'audio') {
                            deviceConstraints = {
                                audio: {
                                    deviceId: {
                                        exact: deviceId
                                    }
                                }
                            };
                        }
                        else if (type == 'video') {
                            deviceConstraints = {
                                video: {
                                    deviceId: {
                                        exact: deviceId
                                    }
                                }
                            };
                        }
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 3, , 4]);
                        return [4 /*yield*/, navigator.mediaDevices.getUserMedia(deviceConstraints)];
                    case 2:
                        mediastream = _a.sent();
                        mediastreamTrack = type == 'video' ? mediastream.getVideoTracks()[0] : mediastream.getAudioTracks()[0];
                        return [2 /*return*/, this.replaceTrack(currentStream, mediastreamTrack, streamId)];
                    case 3:
                        e_5 = _a.sent();
                        return [2 /*return*/, errorCode_1.errCode.get('devicesSupportError')];
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    OctopusClientTest.prototype.replaceTrack = function (currentStream, track, streamId) {
        if (streamId) {
            var currentHandler = this._mapStreamIdhandler.get(streamId);
            if (currentHandler) {
                currentHandler.replaceTrack(track);
            }
        }
        if (!this._media) {
            throw new Error('media is not a instance');
        }
        return this._media.replaceTrack(currentStream, track);
    };
    OctopusClientTest.prototype.changeConstraints = function (currentStream, type, constrains, streamId) {
        return __awaiter(this, void 0, void 0, function () {
            var e_6, videoConstrains, e_7;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!constrains.audioInput) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.updateDevice(type, currentStream, constrains.audioInput, streamId)];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2:
                        if (!constrains.videoInput) return [3 /*break*/, 4];
                        return [4 /*yield*/, this.updateDevice(type, currentStream, constrains.videoInput, streamId)];
                    case 3:
                        _a.sent();
                        _a.label = 4;
                    case 4:
                        if (!currentStream) {
                            return [2 /*return*/, __assign({}, errorCode_1.errCode.get('constrainChangeFailed'))];
                        }
                        if (!(type === 'audio')) return [3 /*break*/, 9];
                        _a.label = 5;
                    case 5:
                        _a.trys.push([5, 7, , 8]);
                        return [4 /*yield*/, currentStream.getAudioTracks()[0].applyConstraints(constrains)];
                    case 6:
                        _a.sent();
                        return [3 /*break*/, 8];
                    case 7:
                        e_6 = _a.sent();
                        throw new Error(e_6);
                    case 8: return [3 /*break*/, 13];
                    case 9:
                        if (!(type === 'video')) return [3 /*break*/, 13];
                        videoConstrains = constrains;
                        if (constrains.videoQuality) {
                            videoConstrains = __assign(__assign({}, constrains), defaultMediaConfig_1.default.camera.videoQuality[constrains.videoQuality - 1]);
                        }
                        _a.label = 10;
                    case 10:
                        _a.trys.push([10, 12, , 13]);
                        return [4 /*yield*/, currentStream.getVideoTracks()[0].applyConstraints(videoConstrains)];
                    case 11:
                        _a.sent();
                        return [3 /*break*/, 13];
                    case 12:
                        e_7 = _a.sent();
                        throw new Error(e_7);
                    case 13: return [2 /*return*/, __assign({}, errorCode_1.errCode.get('constrainChangeSuccess'))];
                }
            });
        });
    };
    OctopusClientTest.prototype.uploadRealtimeStreamData = function () {
        return __awaiter(this, void 0, void 0, function () {
            var result, _a, _b, _c, streamId, currentHandler, crystalBallData, e_8_1;
            var e_8, _d;
            return __generator(this, function (_e) {
                switch (_e.label) {
                    case 0:
                        result = {
                            crystalBall: [],
                            sensorData: []
                        };
                        _e.label = 1;
                    case 1:
                        _e.trys.push([1, 6, 7, 8]);
                        _a = __values(this._mapStreamIdhandler), _b = _a.next();
                        _e.label = 2;
                    case 2:
                        if (!!_b.done) return [3 /*break*/, 5];
                        _c = __read(_b.value, 2), streamId = _c[0], currentHandler = _c[1];
                        if (!currentHandler) {
                            throw new Error('streamId is not exist.');
                        }
                        return [4 /*yield*/, currentHandler.getStatsData(Statistics_1.type.Sensor)];
                    case 3:
                        crystalBallData = _e.sent();
                        if (crystalBallData.crystalBall != void 0) {
                            result.crystalBall.push(__assign({ room_id: this._roomId, user_id: streamId }, crystalBallData.crystalBall));
                            result.sensorData.push(__assign({ room_id: this._roomId, self_user_id: this._userId, stream_user_id: streamId }, crystalBallData.sensor));
                        }
                        _e.label = 4;
                    case 4:
                        _b = _a.next();
                        return [3 /*break*/, 2];
                    case 5: return [3 /*break*/, 8];
                    case 6:
                        e_8_1 = _e.sent();
                        e_8 = { error: e_8_1 };
                        return [3 /*break*/, 8];
                    case 7:
                        try {
                            if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
                        }
                        finally { if (e_8) throw e_8.error; }
                        return [7 /*endfinally*/];
                    case 8:
                        if (!this._signal) {
                            throw new Error('signal not a instance.');
                        }
                        if (result.crystalBall.length !== 0) {
                            this._signal.uploadStatsData(result);
                            result = {
                                crystalBall: [],
                                sensorData: []
                            };
                        }
                        this._reportHandle = setTimeout(this.uploadRealtimeStreamData.bind(this), 5000);
                        return [2 /*return*/];
                }
            });
        });
    };
    OctopusClientTest.prototype.reconnectionListeners = function () {
        if (!this._signal) {
            throw new Error('signal not a instance.');
        }
        this._signal.on('@reconnection', this.reconnectionFun);
    };
    OctopusClientTest.prototype.getMediaStreamTrackStats = function (streamId, type) {
        return __awaiter(this, void 0, void 0, function () {
            var currentHandler;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        currentHandler = this._mapStreamIdhandler.get(streamId);
                        if (!currentHandler) {
                            throw new Error('streamId is not exist.');
                        }
                        return [4 /*yield*/, currentHandler.getStatsData(type)];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    return OctopusClientTest;
}(eventemitter3_1.default));
exports.OctopusClientTest = OctopusClientTest;
;


/***/ }),

/***/ "./src/web/config/defaultMediaConfig.ts":
/*!**********************************************!*\
  !*** ./src/web/config/defaultMediaConfig.ts ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var __DEFAULT_MEDIA_CONFIG__ = {
    camera: {
        videoQuality: [
            {
                width: 320,
                height: 240,
                frameRate: 15,
                bitRate: 300
            },
            {
                width: 640,
                height: 480,
                frameRate: 15,
                bitRate: 800
            },
            {
                width: 1280,
                height: 720,
                frameRate: 20,
                bitRate: 1500
            }
        ]
    },
    screen: {
        videoQuality: [
            {
                frameRate: 20,
                bitRate: 800
            },
            {
                frameRate: 15,
                bitRate: 1500
            },
            {
                frameRate: 5,
                bitRate: 2000
            }
        ]
    },
    custom: {}
};
exports.default = __DEFAULT_MEDIA_CONFIG__;


/***/ }),

/***/ "./src/web/device/Device.ts":
/*!**********************************!*\
  !*** ./src/web/device/Device.ts ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.Device = exports.detectDevice = void 0;
var bowser = __importStar(__webpack_require__(/*! bowser */ "./node_modules/bowser/es5.js"));
var logger_1 = __webpack_require__(/*! ../log/logger */ "./src/web/log/logger.ts");
var eventemitter3_1 = __importDefault(__webpack_require__(/*! eventemitter3 */ "./node_modules/eventemitter3/umd/eventemitter3.min.js"));
var Chrome58_1 = __webpack_require__(/*! ./handlers/Chrome58 */ "./src/web/device/handlers/Chrome58.ts");
var Chrome68_1 = __webpack_require__(/*! ./handlers/Chrome68 */ "./src/web/device/handlers/Chrome68.ts");
var Chrome70_1 = __webpack_require__(/*! ./handlers/Chrome70 */ "./src/web/device/handlers/Chrome70.ts");
var Safari11_1 = __webpack_require__(/*! ./handlers/Safari11 */ "./src/web/device/handlers/Safari11.ts");
var Safari12_1 = __webpack_require__(/*! ./handlers/Safari12 */ "./src/web/device/handlers/Safari12.ts");
var Firefox60_1 = __webpack_require__(/*! ./handlers/Firefox60 */ "./src/web/device/handlers/Firefox60.ts");
var Edge80_1 = __webpack_require__(/*! ./handlers/Edge80 */ "./src/web/device/handlers/Edge80.ts");
var Opera56_1 = __webpack_require__(/*! ./handlers/Opera56 */ "./src/web/device/handlers/Opera56.ts");
var Opera52_1 = __webpack_require__(/*! ./handlers/Opera52 */ "./src/web/device/handlers/Opera52.ts");
var Opera45_1 = __webpack_require__(/*! ./handlers/Opera45 */ "./src/web/device/handlers/Opera45.ts");
var QQ_1 = __webpack_require__(/*! ./handlers/QQ */ "./src/web/device/handlers/QQ.ts");
var WeChat70_1 = __webpack_require__(/*! ./handlers/WeChat70 */ "./src/web/device/handlers/WeChat70.ts");
function detectDevice() {
    // Browser.
    if (typeof navigator === 'object' && typeof navigator.userAgent === 'string') {
        var ua = navigator.userAgent;
        var browser = bowser.getParser(ua);
        var engine = browser.getEngine();
        // Chrome and Chromium.
        if (browser.satisfies({ chrome: '>=70', chromium: '>=70' })) {
            return 'Chrome70';
        }
        else if (browser.satisfies({ chrome: '>=68', chromium: '>=68' })) {
            return 'Chrome68';
        }
        else if (browser.satisfies({ chrome: '>=58', chromium: '>=58' })) {
            return 'Chrome58';
        }
        // Firefox.
        else if (browser.satisfies({ firefox: '>=60' })) {
            return 'Firefox60';
        }
        // Safari with Unified-Plan support enabled.
        else if (browser.satisfies({ safari: '>=12.0' }) &&
            typeof RTCRtpTransceiver !== 'undefined') {
            return 'Safari12';
        }
        // Safari with Plab-B support.
        else if (browser.satisfies({ safari: '>=11' })) {
            return 'Safari11';
        }
        // Old Edge with ORTC support.
        else if (browser.satisfies({ 'microsoft edge': '>=11' })) {
            return 'Edge80';
        }
        //weChat
        else if (browser.satisfies({ WeChat: '>=7.0' })) {
            return 'WeChat70';
        }
        else if (browser.satisfies({ 'Opera': '>=59' })) {
            return 'Chrome70';
        }
        else if (browser.satisfies({ 'Opera': '>=56' })) {
            return 'Opera56';
        }
        else if (browser.satisfies({ 'Opera': '>=52' })) {
            return 'Opera52';
        }
        // Old opera support.
        else if (browser.satisfies({ 'Opera': '>=45' })) {
            return 'Opera45';
        }
        else if (browser.satisfies({ 'QQ Browser': '>=10.5' })) {
            return 'QQ';
        }
        // Best effort for Chromium based browsers.
        else if (engine.name && engine.name.toLowerCase() === 'blink') {
            var match = ua.match(/(?:(?:Chrome|Chromium))[ /](\w+)/i);
            if (match) {
                var version = Number(match[1]);
                if (version >= 70) {
                    return 'Chrome70';
                }
                else if (version >= 68) {
                    return 'Chrome68';
                }
                else {
                    return 'Chrome58';
                }
            }
            else {
                return 'Chrome70';
            }
        }
        // Unsupported browser.
        else {
            console.warn('this._detectDevice() | browser not supported [name:%s, version:%s]', browser.getBrowserName(), browser.getBrowserVersion());
            return undefined;
        }
    }
    // Unknown device.
    else {
        console.warn('this._detectDevice() | unknown device');
        return undefined;
    }
}
exports.detectDevice = detectDevice;
var Device = /** @class */ (function (_super) {
    __extends(Device, _super);
    function Device(_a) {
        var _b = _a === void 0 ? {} : _a, handlerName = _b.handlerName, handlerFactory = _b.handlerFactory, Handler = _b.Handler;
        var _this = _super.call(this) || this;
        _this._direction = 'send';
        _this._streamId = '';
        _this._logger = null;
        _this._logger = logger_1.logger.collect;
        // Handle deprecated option.
        if (Handler) {
            _this._logger.warn('constructor() | Handler option is DEPRECATED, use handlerName or handlerFactory instead');
            if (typeof Handler === 'string')
                handlerName = Handler;
            else
                throw new TypeError('non string Handler option no longer supported, use handlerFactory instead');
        }
        if (handlerName && handlerFactory) {
            throw new TypeError('just one of handlerName or handlerInterface can be given');
        }
        if (handlerFactory) {
            _this._handlerFactory = handlerFactory;
        }
        else {
            if (handlerName) {
                _this._logger.debug('constructor() | handler given: %s', handlerName);
            }
            else {
                handlerName = detectDevice();
                if (handlerName)
                    _this._logger.debug('constructor() | detected handler: %s', handlerName);
                else
                    throw new Error('device not supported');
            }
            switch (handlerName) {
                case 'Chrome70':
                    _this._handlerFactory = Chrome70_1.Chrome70.createFactory();
                    break;
                case 'Chrome68':
                    _this._handlerFactory = Chrome68_1.Chrome68.createFactory();
                    break;
                case 'Chrome58':
                    _this._handlerFactory = Chrome58_1.Chrome58.createFactory();
                    break;
                case 'Firefox60':
                    _this._handlerFactory = Firefox60_1.Firefox60.createFactory();
                    break;
                case 'Safari12':
                    _this._handlerFactory = Safari12_1.Safari12.createFactory();
                    break;
                case 'Safari11':
                    _this._handlerFactory = Safari11_1.Safari11.createFactory();
                    break;
                case 'Edge80':
                    _this._handlerFactory = Edge80_1.Edge80.createFactory();
                    break;
                case 'Opera56':
                    _this._handlerFactory = Opera56_1.Opera56.createFactory();
                    break;
                case 'Opera52':
                    _this._handlerFactory = Opera52_1.Opera52.createFactory();
                    break;
                case 'Opera45':
                    _this._handlerFactory = Opera45_1.Opera45.createFactory();
                    break;
                case 'QQ':
                    _this._handlerFactory = QQ_1.QQ.createFactory();
                    break;
                case 'WeChat70':
                    _this._handlerFactory = WeChat70_1.WeChat70.createFactory();
                    break;
                default:
                    throw new TypeError("unknown handlerName \"" + handlerName + "\"");
            }
        }
        // Create a temporal handler to get its name.
        _this._handler = _this._handlerFactory();
        _this._handlerName = _this._handler.name;
        _this._handler.close();
        return _this;
    }
    Object.defineProperty(Device.prototype, "handlerName", {
        /**
         * The RTC handler name.
         */
        get: function () {
            return this._handlerName;
        },
        enumerable: false,
        configurable: true
    });
    /**
     * Initialize the Device.
     */
    Device.prototype.load = function (_a) {
        var streamId = _a.streamId, direction = _a.direction, iceServers = _a.iceServers, iceTransportPolicy = _a.iceTransportPolicy;
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_b) {
                try {
                    this._logger.report('device init', { streamId: streamId, direction: direction });
                    this._streamId = streamId;
                    this._direction = direction;
                    this._handler.run({
                        streamId: streamId,
                        direction: direction
                    });
                }
                catch (error) {
                    if (this._handler) {
                        this._handler.close();
                    }
                    throw error;
                }
                return [2 /*return*/];
            });
        });
    };
    Device.prototype.destroy = function () {
        this._handler.close();
    };
    Device.prototype.getLocalOfferSdp = function (params) {
        return __awaiter(this, void 0, void 0, function () {
            var localOfferSdp;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this._logger.report('getLocalOfferSdp params', params);
                        this._handler.setLocalOfferSdp(params);
                        return [4 /*yield*/, this._handler.getLocalOfferSdp()];
                    case 1:
                        localOfferSdp = _a.sent();
                        return [2 /*return*/, localOfferSdp];
                }
            });
        });
    };
    Device.prototype.setRemoteAnswerSdp = function (_a) {
        var remoteAnswerSdp = _a.remoteAnswerSdp;
        return this._handler.setRemoteAnswerSdp({ remoteAnswerSdp: remoteAnswerSdp });
    };
    Device.prototype.setIceCandidate = function (candidate) {
        this._handler.setIceCandidate(candidate);
    };
    Device.prototype.stopTransceiver = function () {
        this._handler.stopTransceiver();
    };
    Device.prototype.getConnectionStateUpdate = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _a, state, code;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0: return [4 /*yield*/, this._handler.getICEConnectionState()];
                    case 1:
                        _a = _b.sent(), state = _a.state, code = _a.code;
                        return [2 /*return*/, {
                                state: state,
                                code: code,
                                streamId: this._streamId
                            }];
                }
            });
        });
    };
    Device.prototype.getPlayStream = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this._handler.getTrack()];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    Device.prototype.setUserCustomParams = function (customParams) {
        this._logger.info('setCustom params', customParams);
        this._handler.setCustomerValue(customParams);
    };
    Device.prototype.replaceTrack = function (track) {
        this._handler.replaceTrack(track);
    };
    Device.prototype.getStatsData = function (type) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this._handler.transportStats(type)];
                    case 1: 
                    // return await this._handler.transportStats();
                    return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    return Device;
}(eventemitter3_1.default));
exports.Device = Device;


/***/ }),

/***/ "./src/web/device/MediaDeviceInfoCategory.ts":
/*!***************************************************!*\
  !*** ./src/web/device/MediaDeviceInfoCategory.ts ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __values = (this && this.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
Object.defineProperty(exports, "__esModule", { value: true });
var MediaDeviceInfoCategory = /** @class */ (function () {
    function MediaDeviceInfoCategory(deviceInfos) {
        var e_1, _a;
        this._cameras = [];
        this._microphones = [];
        this._speakers = [];
        try {
            for (var deviceInfos_1 = __values(deviceInfos), deviceInfos_1_1 = deviceInfos_1.next(); !deviceInfos_1_1.done; deviceInfos_1_1 = deviceInfos_1.next()) {
                var deviceInfo = deviceInfos_1_1.value;
                this.append(deviceInfo);
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (deviceInfos_1_1 && !deviceInfos_1_1.done && (_a = deviceInfos_1.return)) _a.call(deviceInfos_1);
            }
            finally { if (e_1) throw e_1.error; }
        }
    }
    Object.defineProperty(MediaDeviceInfoCategory.prototype, "cameras", {
        get: function () {
            return this._cameras;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(MediaDeviceInfoCategory.prototype, "microphones", {
        get: function () {
            return this._microphones;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(MediaDeviceInfoCategory.prototype, "speakers", {
        get: function () {
            return this._speakers;
        },
        enumerable: false,
        configurable: true
    });
    MediaDeviceInfoCategory.prototype.append = function (deviceInfo) {
        switch (deviceInfo.kind) {
            case "videoinput" /* CAMERA */:
                this._cameras.push(deviceInfo);
                break;
            case "audioinput" /* MICROPHONE */:
                this._microphones.push(deviceInfo);
                break;
            case "audiooutput" /* SPEAKER */:
                this._speakers.push(deviceInfo);
                break;
            default: break;
        }
    };
    return MediaDeviceInfoCategory;
}());
exports.default = MediaDeviceInfoCategory;


/***/ }),

/***/ "./src/web/device/handlers/Chrome58.ts":
/*!*********************************************!*\
  !*** ./src/web/device/handlers/Chrome58.ts ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.Chrome58 = void 0;
var Chrome68_1 = __webpack_require__(/*! ./Chrome68 */ "./src/web/device/handlers/Chrome68.ts");
var Chrome58 = /** @class */ (function (_super) {
    __extends(Chrome58, _super);
    function Chrome58() {
        return _super.call(this) || this;
    }
    // private _currentStream: MediaStream | null = null;
    Chrome58.createFactory = function () {
        return function () { return new Chrome58(); };
    };
    Object.defineProperty(Chrome58.prototype, "name", {
        get: function () {
            return 'Chrome58';
        },
        enumerable: false,
        configurable: true
    });
    Chrome58.prototype.run = function (_a) {
        var _this = this;
        var direction = _a.direction, iceServers = _a.iceServers, iceTransportPolicy = _a.iceTransportPolicy;
        this._direction = direction;
        this._pc = new RTCPeerConnection({
            iceServers: iceServers || [],
            iceTransportPolicy: iceTransportPolicy || 'all',
            bundlePolicy: 'max-bundle',
            rtcpMuxPolicy: 'require',
            sdpSemantics: 'unified-plan',
        });
        this._pc.onicecandidate = function (e) {
            _this._logger.debug('onicecandidate event:::', e);
        };
        this._pc.onicegatheringstatechange = function (e) {
            _this._logger.debug('onicegatheringstatechange:::', e);
        };
        this._pc.onsignalingstatechange = function (e) {
            _this._logger.debug('onsignalingstatechange:::', e);
        };
        this._pc.onconnectionstatechange = function (e) {
            _this._logger.debug('onconnectionstatechange:::', e);
        };
    };
    Chrome58.prototype.setLocalOfferSdp = function (params) {
        return __awaiter(this, void 0, void 0, function () {
            var mediastream, encodings;
            return __generator(this, function (_a) {
                if (this._direction === 'recv') {
                    this._pc.addStream(this._sendStream);
                }
                else if (this._direction === 'send') {
                    if (params === void 0) {
                        throw new Error('mediastream must be not exist.');
                    }
                    mediastream = params.mediastream, encodings = params.encodings;
                    if (mediastream === void 0) {
                        throw new Error('mediastream must be not exist.');
                    }
                    this._pc.addStream(mediastream);
                    this._currentStream = mediastream;
                }
                return [2 /*return*/];
            });
        });
    };
    // stopTransceiver() {
    // 	if (!this._currentStream) {
    // 		throw new Error('mediastream not found');
    // 	}
    // 	for (let item of this._currentStream.getTracks()) {
    // 		this._pc.removeTrack(item);
    // 		item.stop();
    // 	}
    // 	this.close();
    // }
    Chrome58.prototype.getTrack = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            _this._pc.onaddstream = function (e) {
                if (_this._hasTrack) {
                    return;
                }
                _this._hasTrack = true;
                _this._logger.debug('ontrack', e);
                if (e.stream) {
                    if (_this._direction == 'recv') {
                        _this._currentStream = e.stream;
                    }
                    resolve(e.stream);
                }
            };
        });
    };
    return Chrome58;
}(Chrome68_1.Chrome68));
exports.Chrome58 = Chrome58;


/***/ }),

/***/ "./src/web/device/handlers/Chrome68.ts":
/*!*********************************************!*\
  !*** ./src/web/device/handlers/Chrome68.ts ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __values = (this && this.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.Chrome68 = void 0;
var handler_1 = __webpack_require__(/*! ./handler */ "./src/web/device/handlers/handler.ts");
var Chrome68 = /** @class */ (function (_super) {
    __extends(Chrome68, _super);
    function Chrome68() {
        return _super.call(this) || this;
    }
    // private readonly _mapUserIdStream: Map<string, MediaStream> = new Map();
    Chrome68.createFactory = function () {
        return function () { return new Chrome68(); };
    };
    Object.defineProperty(Chrome68.prototype, "name", {
        get: function () {
            return 'Chrome68';
        },
        enumerable: false,
        configurable: true
    });
    Chrome68.prototype.setLocalOfferSdp = function (params) {
        return __awaiter(this, void 0, void 0, function () {
            var mediastream, encodings, _a, _b, track;
            var e_1, _c;
            return __generator(this, function (_d) {
                if (this._direction === 'send') {
                    if (params === void 0) {
                        throw new Error('mediastream must be not exist.');
                    }
                    mediastream = params.mediastream, encodings = params.encodings;
                    if (mediastream === void 0) {
                        throw new Error('mediastream must be not exist.');
                    }
                    try {
                        for (_a = __values(mediastream.getTracks()), _b = _a.next(); !_b.done; _b = _a.next()) {
                            track = _b.value;
                            this._pc.addTrack(track, this._sendStream);
                        }
                    }
                    catch (e_1_1) { e_1 = { error: e_1_1 }; }
                    finally {
                        try {
                            if (_b && !_b.done && (_c = _a.return)) _c.call(_a);
                        }
                        finally { if (e_1) throw e_1.error; }
                    }
                    this._currentStream = mediastream;
                }
                return [2 /*return*/];
            });
        });
    };
    // stopTransceiver() {
    // 	if (!this._currentStream) {
    // 		throw new Error('associated stream not found');
    // 	}
    // 	for (let item of this._currentStream.getTracks()) {
    // 		item.stop();
    // 	}
    // 	this.close();
    // }
    Chrome68.prototype.getLocalOfferSdp = function () {
        return __awaiter(this, void 0, void 0, function () {
            var createOfferOptions, offer, sdp, e_2;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 3, , 4]);
                        createOfferOptions = {
                            offerToReceiveAudio: false,
                            offerToReceiveVideo: false
                        };
                        if (this._direction === 'recv') {
                            createOfferOptions = {
                                offerToReceiveAudio: true,
                                offerToReceiveVideo: true
                            };
                        }
                        return [4 /*yield*/, this._pc.createOffer(createOfferOptions)];
                    case 1:
                        offer = _a.sent();
                        sdp = void 0;
                        if (this._videoCustomBitrate !== 0 || this._audioCustomBitrate !== 0) {
                            sdp = this.setSdpCustomBitrate(offer.sdp);
                        }
                        else {
                            sdp = offer.sdp;
                        }
                        // await this._pc.setLocalDescription(offer);
                        return [4 /*yield*/, this._pc.setLocalDescription({
                                type: 'offer',
                                sdp: sdp
                            })];
                    case 2:
                        // await this._pc.setLocalDescription(offer);
                        _a.sent();
                        return [2 /*return*/, {
                                localOfferSdp: offer.sdp
                            }];
                    case 3:
                        e_2 = _a.sent();
                        throw new Error('set local offer sdp error');
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    return Chrome68;
}(handler_1.Handler));
exports.Chrome68 = Chrome68;


/***/ }),

/***/ "./src/web/device/handlers/Chrome70.ts":
/*!*********************************************!*\
  !*** ./src/web/device/handlers/Chrome70.ts ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
exports.Chrome70 = void 0;
var handler_1 = __webpack_require__(/*! ./handler */ "./src/web/device/handlers/handler.ts");
var Chrome70 = /** @class */ (function (_super) {
    __extends(Chrome70, _super);
    function Chrome70() {
        return _super.call(this) || this;
    }
    Chrome70.createFactory = function () {
        return function () { return new Chrome70(); };
    };
    Object.defineProperty(Chrome70.prototype, "name", {
        get: function () {
            return 'Chrome70';
        },
        enumerable: false,
        configurable: true
    });
    return Chrome70;
}(handler_1.Handler));
exports.Chrome70 = Chrome70;


/***/ }),

/***/ "./src/web/device/handlers/Edge80.ts":
/*!*******************************************!*\
  !*** ./src/web/device/handlers/Edge80.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
exports.Edge80 = void 0;
var handler_1 = __webpack_require__(/*! ./handler */ "./src/web/device/handlers/handler.ts");
var Edge80 = /** @class */ (function (_super) {
    __extends(Edge80, _super);
    function Edge80() {
        return _super.call(this) || this;
    }
    Edge80.createFactory = function () {
        return function () { return new Edge80(); };
    };
    Object.defineProperty(Edge80.prototype, "name", {
        get: function () {
            return 'Edge80';
        },
        enumerable: false,
        configurable: true
    });
    return Edge80;
}(handler_1.Handler));
exports.Edge80 = Edge80;


/***/ }),

/***/ "./src/web/device/handlers/Firefox60.ts":
/*!**********************************************!*\
  !*** ./src/web/device/handlers/Firefox60.ts ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
exports.Firefox60 = void 0;
var handler_1 = __webpack_require__(/*! ./handler */ "./src/web/device/handlers/handler.ts");
var Firefox60 = /** @class */ (function (_super) {
    __extends(Firefox60, _super);
    function Firefox60() {
        return _super.call(this) || this;
    }
    Firefox60.createFactory = function () {
        return function () { return new Firefox60(); };
    };
    Object.defineProperty(Firefox60.prototype, "name", {
        get: function () {
            return 'Firefox60';
        },
        enumerable: false,
        configurable: true
    });
    return Firefox60;
}(handler_1.Handler));
exports.Firefox60 = Firefox60;


/***/ }),

/***/ "./src/web/device/handlers/HandlerInterface.ts":
/*!*****************************************************!*\
  !*** ./src/web/device/handlers/HandlerInterface.ts ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.HandlerInterface = void 0;
var eventemitter3_1 = __importDefault(__webpack_require__(/*! eventemitter3 */ "./node_modules/eventemitter3/umd/eventemitter3.min.js"));
var HandlerInterface = /** @class */ (function (_super) {
    __extends(HandlerInterface, _super);
    function HandlerInterface() {
        return _super.call(this) || this;
    }
    return HandlerInterface;
}(eventemitter3_1.default));
exports.HandlerInterface = HandlerInterface;


/***/ }),

/***/ "./src/web/device/handlers/Opera45.ts":
/*!********************************************!*\
  !*** ./src/web/device/handlers/Opera45.ts ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.Opera45 = void 0;
var handler_1 = __webpack_require__(/*! ./handler */ "./src/web/device/handlers/handler.ts");
var Opera45 = /** @class */ (function (_super) {
    __extends(Opera45, _super);
    function Opera45() {
        return _super.call(this) || this;
    }
    // private _currentStream: MediaStream | null = null;
    Opera45.createFactory = function () {
        return function () { return new Opera45(); };
    };
    Object.defineProperty(Opera45.prototype, "name", {
        get: function () {
            return 'Opera45';
        },
        enumerable: false,
        configurable: true
    });
    Opera45.prototype.run = function (_a) {
        var _this = this;
        var direction = _a.direction, iceServers = _a.iceServers, iceTransportPolicy = _a.iceTransportPolicy;
        this._direction = direction;
        this._pc = new RTCPeerConnection({
            iceServers: iceServers || [],
            iceTransportPolicy: iceTransportPolicy || 'all',
            bundlePolicy: 'max-bundle',
            rtcpMuxPolicy: 'require',
            sdpSemantics: 'unified-plan',
        });
        this._pc.onicecandidate = function (e) {
            _this._logger.debug('onicecandidate event:::', e);
        };
        this._pc.onicegatheringstatechange = function (e) {
            _this._logger.debug('onicegatheringstatechange:::', e);
        };
        this._pc.onsignalingstatechange = function (e) {
            _this._logger.debug('onsignalingstatechange:::', e);
        };
        this._pc.onconnectionstatechange = function (e) {
            _this._logger.debug('onconnectionstatechange:::', e);
        };
    };
    Opera45.prototype.setLocalOfferSdp = function (params) {
        return __awaiter(this, void 0, void 0, function () {
            var mediastream, encodings;
            return __generator(this, function (_a) {
                if (this._direction === 'recv') {
                    this._pc.addStream(this._sendStream);
                }
                else if (this._direction === 'send') {
                    if (params === void 0) {
                        throw new Error('mediastream must be not exist.');
                    }
                    mediastream = params.mediastream, encodings = params.encodings;
                    if (mediastream === void 0) {
                        throw new Error('mediastream must be not exist.');
                    }
                    this._pc.addStream(mediastream);
                    this._currentStream = mediastream;
                }
                return [2 /*return*/];
            });
        });
    };
    // stopTransceiver() {
    // 	if (!this._currentStream) {
    // 		throw new Error('mediastream not found');
    // 	}
    // 	for (let item of this._currentStream.getTracks()) {
    // 		// this._pc.removeTrack(item);
    // 		item.stop();
    // 	}
    // 	this.close();
    // }
    Opera45.prototype.getLocalOfferSdp = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) {
                        _this._pc.onnegotiationneeded = function (e) { return __awaiter(_this, void 0, void 0, function () {
                            var createOfferOptions, offer, sdp, e_1;
                            return __generator(this, function (_a) {
                                switch (_a.label) {
                                    case 0:
                                        if (this._isNegotiating) {
                                            return [2 /*return*/];
                                        }
                                        this._isNegotiating = true;
                                        _a.label = 1;
                                    case 1:
                                        _a.trys.push([1, 4, , 5]);
                                        createOfferOptions = {
                                            offerToReceiveAudio: false,
                                            offerToReceiveVideo: false
                                        };
                                        if (this._direction === 'recv') {
                                            createOfferOptions = {
                                                offerToReceiveAudio: true,
                                                offerToReceiveVideo: true
                                            };
                                        }
                                        return [4 /*yield*/, this._pc.createOffer(createOfferOptions)];
                                    case 2:
                                        offer = _a.sent();
                                        sdp = void 0;
                                        if (this._videoCustomBitrate !== 0 || this._audioCustomBitrate !== 0) {
                                            sdp = this.setSdpCustomBitrate(offer.sdp);
                                        }
                                        else {
                                            sdp = offer.sdp;
                                        }
                                        // await this._pc.setLocalDescription(offer);
                                        return [4 /*yield*/, this._pc.setLocalDescription({
                                                type: 'offer',
                                                sdp: sdp
                                            })];
                                    case 3:
                                        // await this._pc.setLocalDescription(offer);
                                        _a.sent();
                                        resolve({
                                            localOfferSdp: offer.sdp
                                        });
                                        return [3 /*break*/, 5];
                                    case 4:
                                        e_1 = _a.sent();
                                        throw new Error('set local offer sdp error');
                                    case 5: return [2 /*return*/];
                                }
                            });
                        }); };
                    })];
            });
        });
    };
    Opera45.prototype.getTrack = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            _this._pc.onaddstream = function (e) {
                if (_this._hasTrack) {
                    return;
                }
                _this._hasTrack = true;
                _this._logger.debug('ontrack:::', e);
                if (e.stream) {
                    if (_this._direction == 'recv') {
                        _this._currentStream = e.stream;
                    }
                    resolve(e.stream);
                }
            };
        });
    };
    return Opera45;
}(handler_1.Handler));
exports.Opera45 = Opera45;


/***/ }),

/***/ "./src/web/device/handlers/Opera52.ts":
/*!********************************************!*\
  !*** ./src/web/device/handlers/Opera52.ts ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.Opera52 = void 0;
var handler_1 = __webpack_require__(/*! ./handler */ "./src/web/device/handlers/handler.ts");
var Opera52 = /** @class */ (function (_super) {
    __extends(Opera52, _super);
    function Opera52() {
        return _super.call(this) || this;
    }
    Opera52.createFactory = function () {
        return function () { return new Opera52(); };
    };
    Object.defineProperty(Opera52.prototype, "name", {
        get: function () {
            return 'Opera52';
        },
        enumerable: false,
        configurable: true
    });
    Opera52.prototype.run = function (_a) {
        var _this = this;
        var direction = _a.direction, iceServers = _a.iceServers, iceTransportPolicy = _a.iceTransportPolicy;
        this._direction = direction;
        this._pc = new RTCPeerConnection({
            iceServers: iceServers || [],
            iceTransportPolicy: iceTransportPolicy || 'all',
            bundlePolicy: 'max-bundle',
            rtcpMuxPolicy: 'require',
            sdpSemantics: 'unified-plan',
        });
        this._pc.onicecandidate = function (e) {
            _this._logger.debug('onicecandidate event:::', e);
        };
        this._pc.onicegatheringstatechange = function (e) {
            _this._logger.debug('onicegatheringstatechange:::', e);
        };
        this._pc.onsignalingstatechange = function (e) {
            _this._logger.debug('onsignalingstatechange:::', e);
        };
        this._pc.onconnectionstatechange = function (e) {
            _this._logger.debug('onconnectionstatechange:::', e);
        };
        this._pc.onaddstream = function (e) {
            _this._logger.debug('ontrack:::', e);
        };
    };
    Opera52.prototype.setLocalOfferSdp = function (params) {
        return __awaiter(this, void 0, void 0, function () {
            var mediastream, encodings;
            return __generator(this, function (_a) {
                if (this._direction === 'recv') {
                    // this._pc.addStream(this._sendStream);
                    // this.sendLocalOfferSdp();
                }
                else if (this._direction === 'send') {
                    if (params === void 0) {
                        throw new Error('mediastream must be not exist.');
                    }
                    mediastream = params.mediastream, encodings = params.encodings;
                    if (mediastream === void 0) {
                        throw new Error('mediastream must be not exist.');
                    }
                    this._pc.addStream(mediastream);
                    this._currentStream = mediastream;
                }
                return [2 /*return*/];
            });
        });
    };
    Opera52.prototype.getLocalOfferSdp = function () {
        return __awaiter(this, void 0, void 0, function () {
            var createOfferOptions, offer, sdp, e_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 3, , 4]);
                        createOfferOptions = {
                            offerToReceiveAudio: false,
                            offerToReceiveVideo: false
                        };
                        if (this._direction === 'recv') {
                            createOfferOptions = {
                                offerToReceiveAudio: true,
                                offerToReceiveVideo: true
                            };
                        }
                        return [4 /*yield*/, this._pc.createOffer(createOfferOptions)];
                    case 1:
                        offer = _a.sent();
                        sdp = void 0;
                        if (this._videoCustomBitrate !== 0 || this._audioCustomBitrate !== 0) {
                            sdp = this.setSdpCustomBitrate(offer.sdp);
                        }
                        else {
                            sdp = offer.sdp;
                        }
                        return [4 /*yield*/, this._pc.setLocalDescription({
                                type: 'offer',
                                sdp: sdp
                            })];
                    case 2:
                        _a.sent();
                        return [2 /*return*/, {
                                localOfferSdp: offer.sdp
                            }];
                    case 3:
                        e_1 = _a.sent();
                        throw new Error('set local offer sdp error');
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    ;
    return Opera52;
}(handler_1.Handler));
exports.Opera52 = Opera52;


/***/ }),

/***/ "./src/web/device/handlers/Opera56.ts":
/*!********************************************!*\
  !*** ./src/web/device/handlers/Opera56.ts ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.Opera56 = void 0;
var handler_1 = __webpack_require__(/*! ./handler */ "./src/web/device/handlers/handler.ts");
var Opera56 = /** @class */ (function (_super) {
    __extends(Opera56, _super);
    function Opera56() {
        return _super.call(this) || this;
    }
    // private _currentStream: MediaStream | null = null;
    Opera56.createFactory = function () {
        return function () { return new Opera56(); };
    };
    Object.defineProperty(Opera56.prototype, "name", {
        get: function () {
            return 'Opera56';
        },
        enumerable: false,
        configurable: true
    });
    Opera56.prototype.run = function (_a) {
        var _this = this;
        var direction = _a.direction, iceServers = _a.iceServers, iceTransportPolicy = _a.iceTransportPolicy;
        this._direction = direction;
        this._pc = new RTCPeerConnection({
            iceServers: iceServers || [],
            iceTransportPolicy: iceTransportPolicy || 'all',
            bundlePolicy: 'max-bundle',
            rtcpMuxPolicy: 'require',
            sdpSemantics: 'unified-plan',
        });
        this._pc.onicecandidate = function (e) {
            _this._logger.debug('onicecandidate event:::', e);
        };
        this._pc.onicegatheringstatechange = function (e) {
            _this._logger.debug('onicegatheringstatechange:::', e);
        };
        this._pc.onsignalingstatechange = function (e) {
            _this._logger.debug('onsignalingstatechange:::', e);
        };
        this._pc.onconnectionstatechange = function (e) {
            _this._logger.debug('onconnectionstatechange:::', e);
        };
        // this._pc.onaddstream = (e: Event) => {
        // 	this._logger.debug('onaddstream:::', e);
        // }
    };
    Opera56.prototype.setLocalOfferSdp = function (params) {
        return __awaiter(this, void 0, void 0, function () {
            var mediastream, encodings;
            return __generator(this, function (_a) {
                if (this._direction === 'recv') {
                    // this._pc.addStream(this._sendStream);
                    this._transceiverArr.push(this._pc.addTransceiver('audio', { direction: 'recvonly' }));
                    this._transceiverArr.push(this._pc.addTransceiver('video', { direction: 'recvonly' }));
                }
                else if (this._direction === 'send') {
                    if (params === void 0) {
                        throw new Error('mediastream must be not exist.');
                    }
                    mediastream = params.mediastream, encodings = params.encodings;
                    if (mediastream === void 0) {
                        throw new Error('mediastream must be not exist.');
                    }
                    this._pc.addStream(mediastream);
                    this._currentStream = mediastream;
                }
                return [2 /*return*/];
            });
        });
    };
    Opera56.prototype.getLocalOfferSdp = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) {
                        _this._pc.onnegotiationneeded = function (e) { return __awaiter(_this, void 0, void 0, function () {
                            var createOfferOptions, offer, sdp, e_1;
                            return __generator(this, function (_a) {
                                switch (_a.label) {
                                    case 0:
                                        if (this._isNegotiating) {
                                            return [2 /*return*/];
                                        }
                                        this._isNegotiating = true;
                                        _a.label = 1;
                                    case 1:
                                        _a.trys.push([1, 4, , 5]);
                                        createOfferOptions = {
                                            offerToReceiveAudio: false,
                                            offerToReceiveVideo: false
                                        };
                                        if (this._direction === 'recv') {
                                            createOfferOptions = {
                                                offerToReceiveAudio: true,
                                                offerToReceiveVideo: true
                                            };
                                        }
                                        return [4 /*yield*/, this._pc.createOffer(createOfferOptions)];
                                    case 2:
                                        offer = _a.sent();
                                        sdp = void 0;
                                        if (this._videoCustomBitrate !== 0 || this._audioCustomBitrate !== 0) {
                                            sdp = this.setSdpCustomBitrate(offer.sdp);
                                        }
                                        else {
                                            sdp = offer.sdp;
                                        }
                                        // await this._pc.setLocalDescription(offer);
                                        return [4 /*yield*/, this._pc.setLocalDescription({
                                                type: 'offer',
                                                sdp: sdp
                                            })];
                                    case 3:
                                        // await this._pc.setLocalDescription(offer);
                                        _a.sent();
                                        resolve({
                                            localOfferSdp: offer.sdp
                                        });
                                        return [3 /*break*/, 5];
                                    case 4:
                                        e_1 = _a.sent();
                                        throw new Error('set local offer sdp error');
                                    case 5: return [2 /*return*/];
                                }
                            });
                        }); };
                    })];
            });
        });
    };
    return Opera56;
}(handler_1.Handler));
exports.Opera56 = Opera56;


/***/ }),

/***/ "./src/web/device/handlers/QQ.ts":
/*!***************************************!*\
  !*** ./src/web/device/handlers/QQ.ts ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __values = (this && this.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.QQ = void 0;
var handler_1 = __webpack_require__(/*! ./handler */ "./src/web/device/handlers/handler.ts");
var QQ = /** @class */ (function (_super) {
    __extends(QQ, _super);
    function QQ() {
        return _super.call(this) || this;
    }
    QQ.createFactory = function () {
        return function () { return new QQ(); };
    };
    Object.defineProperty(QQ.prototype, "name", {
        get: function () {
            return 'QQ';
        },
        enumerable: false,
        configurable: true
    });
    QQ.prototype.setLocalOfferSdp = function (params) {
        return __awaiter(this, void 0, void 0, function () {
            var mediastream, encodings, _a, _b, track;
            var e_1, _c;
            return __generator(this, function (_d) {
                if (this._direction === 'send') {
                    if (params === void 0) {
                        throw new Error('mediastream must be not exist.');
                    }
                    mediastream = params.mediastream, encodings = params.encodings;
                    if (mediastream === void 0) {
                        throw new Error('mediastream must be not exist.');
                    }
                    try {
                        for (_a = __values(mediastream.getTracks()), _b = _a.next(); !_b.done; _b = _a.next()) {
                            track = _b.value;
                            this._pc.addTrack(track, this._sendStream);
                        }
                    }
                    catch (e_1_1) { e_1 = { error: e_1_1 }; }
                    finally {
                        try {
                            if (_b && !_b.done && (_c = _a.return)) _c.call(_a);
                        }
                        finally { if (e_1) throw e_1.error; }
                    }
                }
                else if (this._direction === 'recv') {
                    // for (let track of (this._sendStream as MediaStream).getTracks()) {
                    // 	this._pc.addTrack(track, this._sendStream); 
                    // }
                    this._transceiverArr.push(this._pc.addTransceiver('audio', { direction: 'recvonly' }));
                    this._transceiverArr.push(this._pc.addTransceiver('video', { direction: 'recvonly' }));
                }
                return [2 /*return*/];
            });
        });
    };
    return QQ;
}(handler_1.Handler));
exports.QQ = QQ;


/***/ }),

/***/ "./src/web/device/handlers/Safari11.ts":
/*!*********************************************!*\
  !*** ./src/web/device/handlers/Safari11.ts ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __values = (this && this.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.Safari11 = void 0;
var handler_1 = __webpack_require__(/*! ./handler */ "./src/web/device/handlers/handler.ts");
var Safari11 = /** @class */ (function (_super) {
    __extends(Safari11, _super);
    function Safari11() {
        return _super.call(this) || this;
    }
    // private _currentStream: MediaStream | null = null;
    Safari11.createFactory = function () {
        return function () { return new Safari11(); };
    };
    Object.defineProperty(Safari11.prototype, "name", {
        get: function () {
            return 'Safari11';
        },
        enumerable: false,
        configurable: true
    });
    Safari11.prototype.setLocalOfferSdp = function (params) {
        return __awaiter(this, void 0, void 0, function () {
            var mediastream, encodings, _a, _b, track, _c, _d, track;
            var e_1, _e, e_2, _f;
            return __generator(this, function (_g) {
                if (this._direction === 'send') {
                    if (params === void 0) {
                        throw new Error('mediastream must be not exist.');
                    }
                    mediastream = params.mediastream, encodings = params.encodings;
                    if (mediastream === void 0) {
                        throw new Error('mediastream must be not exist.');
                    }
                    try {
                        for (_a = __values(mediastream.getTracks()), _b = _a.next(); !_b.done; _b = _a.next()) {
                            track = _b.value;
                            this._pc.addTrack(track, this._sendStream);
                        }
                    }
                    catch (e_1_1) { e_1 = { error: e_1_1 }; }
                    finally {
                        try {
                            if (_b && !_b.done && (_e = _a.return)) _e.call(_a);
                        }
                        finally { if (e_1) throw e_1.error; }
                    }
                    this._currentStream = mediastream;
                }
                else if (this._direction === 'recv') {
                    try {
                        for (_c = __values(this._sendStream.getTracks()), _d = _c.next(); !_d.done; _d = _c.next()) {
                            track = _d.value;
                            this._pc.addTrack(track, this._sendStream);
                        }
                    }
                    catch (e_2_1) { e_2 = { error: e_2_1 }; }
                    finally {
                        try {
                            if (_d && !_d.done && (_f = _c.return)) _f.call(_c);
                        }
                        finally { if (e_2) throw e_2.error; }
                    }
                }
                return [2 /*return*/];
            });
        });
    };
    return Safari11;
}(handler_1.Handler));
exports.Safari11 = Safari11;


/***/ }),

/***/ "./src/web/device/handlers/Safari12.ts":
/*!*********************************************!*\
  !*** ./src/web/device/handlers/Safari12.ts ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
exports.Safari12 = void 0;
var handler_1 = __webpack_require__(/*! ./handler */ "./src/web/device/handlers/handler.ts");
var Safari12 = /** @class */ (function (_super) {
    __extends(Safari12, _super);
    function Safari12() {
        return _super.call(this) || this;
    }
    Safari12.createFactory = function () {
        return function () { return new Safari12(); };
    };
    Object.defineProperty(Safari12.prototype, "name", {
        get: function () {
            return 'Safari12';
        },
        enumerable: false,
        configurable: true
    });
    return Safari12;
}(handler_1.Handler));
exports.Safari12 = Safari12;


/***/ }),

/***/ "./src/web/device/handlers/WeChat70.ts":
/*!*********************************************!*\
  !*** ./src/web/device/handlers/WeChat70.ts ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __values = (this && this.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.WeChat70 = void 0;
var handler_1 = __webpack_require__(/*! ./handler */ "./src/web/device/handlers/handler.ts");
var WeChat70 = /** @class */ (function (_super) {
    __extends(WeChat70, _super);
    function WeChat70() {
        return _super.call(this) || this;
    }
    // private _currentStream: MediaStream | null = null;
    WeChat70.createFactory = function () {
        return function () { return new WeChat70(); };
    };
    Object.defineProperty(WeChat70.prototype, "name", {
        get: function () {
            return 'WeChat70';
        },
        enumerable: false,
        configurable: true
    });
    WeChat70.prototype.run = function (_a) {
        var _this = this;
        var direction = _a.direction, iceServers = _a.iceServers, iceTransportPolicy = _a.iceTransportPolicy;
        this._direction = direction;
        this._pc = new RTCPeerConnection({
            iceServers: iceServers || [],
            iceTransportPolicy: iceTransportPolicy || 'all',
            bundlePolicy: 'max-bundle',
            rtcpMuxPolicy: 'require',
            sdpSemantics: 'unified-plan',
        });
        this._pc.onicecandidate = function (e) {
            _this._logger.debug('onicecandidate event:::', e);
        };
        this._pc.onicegatheringstatechange = function (e) {
            _this._logger.debug('onicegatheringstatechange:::', e);
        };
        this._pc.onsignalingstatechange = function (e) {
            _this._logger.debug('onsignalingstatechange:::', e);
        };
        this._pc.onconnectionstatechange = function (e) {
            _this._logger.debug('onconnectionstatechange:::', e);
        };
        // this._pc.onaddstream = (e: Event) => {
        // 	console.log('ontrack:::', e);
        // }
    };
    WeChat70.prototype.setLocalOfferSdp = function (params) {
        return __awaiter(this, void 0, void 0, function () {
            var mediastream, encodings, _a, _b, track;
            var e_1, _c;
            return __generator(this, function (_d) {
                if (this._direction === 'send') {
                    if (params === void 0) {
                        throw new Error('mediastream must be not exist.');
                    }
                    mediastream = params.mediastream, encodings = params.encodings;
                    if (!mediastream) {
                        throw new Error('mediastream must be not exist.');
                    }
                    try {
                        for (_a = __values(mediastream.getTracks()), _b = _a.next(); !_b.done; _b = _a.next()) {
                            track = _b.value;
                            this._transceiverArr.push(this._pc.addTransceiver(track, {
                                direction: 'sendonly',
                                streams: [this._sendStream],
                                sendEncodings: encodings
                            }));
                        }
                    }
                    catch (e_1_1) { e_1 = { error: e_1_1 }; }
                    finally {
                        try {
                            if (_b && !_b.done && (_c = _a.return)) _c.call(_a);
                        }
                        finally { if (e_1) throw e_1.error; }
                    }
                }
                return [2 /*return*/];
            });
        });
    };
    WeChat70.prototype.getLocalOfferSdp = function () {
        return __awaiter(this, void 0, void 0, function () {
            var createOfferOptions, offer, sdp, e_2;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 3, , 4]);
                        createOfferOptions = {
                            offerToReceiveAudio: false,
                            offerToReceiveVideo: false
                        };
                        if (this._direction === 'recv') {
                            createOfferOptions = {
                                offerToReceiveAudio: true,
                                offerToReceiveVideo: true
                            };
                        }
                        return [4 /*yield*/, this._pc.createOffer(createOfferOptions)];
                    case 1:
                        offer = _a.sent();
                        sdp = void 0;
                        if (this._videoCustomBitrate !== 0 || this._audioCustomBitrate !== 0) {
                            sdp = this.setSdpCustomBitrate(offer.sdp);
                        }
                        else {
                            sdp = offer.sdp;
                        }
                        return [4 /*yield*/, this._pc.setLocalDescription({
                                type: 'offer',
                                sdp: sdp
                            })];
                    case 2:
                        _a.sent();
                        return [2 /*return*/, {
                                localOfferSdp: offer.sdp
                            }];
                    case 3:
                        e_2 = _a.sent();
                        throw new Error('set local offer sdp error');
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    ;
    return WeChat70;
}(handler_1.Handler));
exports.WeChat70 = WeChat70;


/***/ }),

/***/ "./src/web/device/handlers/handler.ts":
/*!********************************************!*\
  !*** ./src/web/device/handlers/handler.ts ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __values = (this && this.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.Handler = void 0;
var sdpTransform = __importStar(__webpack_require__(/*! sdp-transform */ "./node_modules/sdp-transform/lib/index.js"));
var logger_1 = __webpack_require__(/*! ../../log/logger */ "./src/web/log/logger.ts");
var Statistics_1 = __webpack_require__(/*! ./stats/Statistics */ "./src/web/device/handlers/stats/Statistics.ts");
var HandlerInterface_1 = __webpack_require__(/*! ./HandlerInterface */ "./src/web/device/handlers/HandlerInterface.ts");
var Handler = /** @class */ (function (_super) {
    __extends(Handler, _super);
    function Handler() {
        var _this = _super.call(this) || this;
        _this._logger = null;
        _this._statistics = null;
        _this._sensorstats = null;
        _this._streamId = '';
        _this._direction = 'send';
        _this._sendStream = new MediaStream();
        _this._videoCustomBitrate = 0;
        _this._audioCustomBitrate = 0;
        _this._customFramerate = 0;
        _this._hasTrack = false;
        _this._isNegotiating = false;
        _this._transceiverArr = new Array();
        _this._currentStream = null;
        _this._pcStats = null;
        _this._logger = logger_1.logger.collect;
        return _this;
    }
    Handler.createFactory = function () {
        return function () { return new Handler(); };
    };
    Object.defineProperty(Handler.prototype, "name", {
        get: function () {
            return 'Handler';
        },
        enumerable: false,
        configurable: true
    });
    Handler.prototype.close = function () {
        if (this._pc) {
            try {
                if (this._statistics) {
                    this._statistics.stopInterval();
                    this._statistics = null;
                }
                if (this._sensorstats) {
                    this._sensorstats = null;
                }
                this.removeAllListeners();
                this._pc.close();
                this._pc.onicecandidate = null;
                this._pc.oniceconnectionstatechange = null;
                this._pc.onicegatheringstatechange = null;
                this._pc.onsignalingstatechange = null;
                this._pc.onnegotiationneeded = null;
                this._pc.onconnectionstatechange = null;
                this._pc.ontrack = null;
                this._isNegotiating = false;
                this._hasTrack = false;
            }
            catch (error) { }
        }
    };
    Handler.prototype.run = function (_a) {
        var _this = this;
        var streamId = _a.streamId, direction = _a.direction, iceServers = _a.iceServers, iceTransportPolicy = _a.iceTransportPolicy;
        this._streamId = streamId;
        this._direction = direction;
        try {
            this._pc = new RTCPeerConnection({
                iceServers: iceServers || [],
                iceTransportPolicy: iceTransportPolicy || 'all',
                bundlePolicy: 'max-bundle',
                rtcpMuxPolicy: 'require',
                sdpSemantics: 'unified-plan',
            });
        }
        catch (e) {
            throw new Error(e);
        }
        this._pc.onicecandidate = function (e) {
            // console.log('onicecandidate event:::', e);
        };
        this._pc.onicegatheringstatechange = function (e) {
            _this._logger.debug(streamId + "onicegatheringstatechange:::", _this._pc.iceGatheringState);
        };
        this._pc.onsignalingstatechange = function (e) {
            _this._logger.debug(streamId + "onsignalingstatechange:::", _this._pc.signalingState);
        };
        this._pc.onconnectionstatechange = function (e) {
            _this._logger.debug('onconnectionstatechange:::', e.currentTarget.connectionState);
        };
    };
    Handler.prototype.setLocalOfferSdp = function (params) {
        return __awaiter(this, void 0, void 0, function () {
            var transceiverArr, mediastream, encodings, _a, _b, track;
            var e_1, _c;
            return __generator(this, function (_d) {
                transceiverArr = new Array();
                if (this._direction == 'recv') {
                    transceiverArr.push(this._pc.addTransceiver('audio', { direction: 'recvonly' }));
                    transceiverArr.push(this._pc.addTransceiver('video', { direction: 'recvonly' }));
                }
                else {
                    if (params === void 0) {
                        throw new Error('mediastream must be not exist.');
                    }
                    mediastream = params.mediastream, encodings = params.encodings;
                    if (!mediastream) {
                        throw new Error('mediastream must be not exist.');
                    }
                    this._currentStream = mediastream;
                    try {
                        for (_a = __values(mediastream.getTracks()), _b = _a.next(); !_b.done; _b = _a.next()) {
                            track = _b.value;
                            transceiverArr.push(this._pc.addTransceiver(track, {
                                direction: 'sendonly',
                                streams: [this._sendStream],
                                sendEncodings: encodings
                            }));
                        }
                    }
                    catch (e_1_1) { e_1 = { error: e_1_1 }; }
                    finally {
                        try {
                            if (_b && !_b.done && (_c = _a.return)) _c.call(_a);
                        }
                        finally { if (e_1) throw e_1.error; }
                    }
                }
                this._transceiverArr = transceiverArr;
                return [2 /*return*/];
            });
        });
    };
    Handler.prototype.setRemoteAnswerSdp = function (_a) {
        var remoteAnswerSdp = _a.remoteAnswerSdp;
        return __awaiter(this, void 0, void 0, function () {
            var sdp, remoteOffer, e_2;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        if (this._videoCustomBitrate !== 0 || this._audioCustomBitrate !== 0) {
                            sdp = this.setSdpCustomBitrate(remoteAnswerSdp);
                        }
                        else {
                            sdp = remoteAnswerSdp;
                        }
                        remoteOffer = { type: 'answer', sdp: sdp };
                        _b.label = 1;
                    case 1:
                        _b.trys.push([1, 3, , 4]);
                        this._logger.report('remote answersdp', remoteOffer);
                        return [4 /*yield*/, this._pc.setRemoteDescription(remoteOffer)];
                    case 2:
                        _b.sent();
                        return [3 /*break*/, 4];
                    case 3:
                        e_2 = _b.sent();
                        this._logger.report('set remote answersdp error', { streamId: this._streamId, reason: e_2 });
                        this._logger.error('set remote answersdp error.');
                        return [3 /*break*/, 4];
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    Handler.prototype.setIceCandidate = function (candidateArray) {
        var _this = this;
        for (var i = 0; i < candidateArray.length; i += 1) {
            var candidate = new RTCIceCandidate(candidateArray[i]);
            this._pc.addIceCandidate(candidate).catch(function (e) {
                _this._logger.error('addIceCandidate', e);
            });
        }
    };
    Handler.prototype.stopTransceiver = function () {
        var e_3, _a, e_4, _b;
        var transceiver = this._transceiverArr;
        if (!transceiver) {
            throw new Error('associated RTCRtpTransceiver not found');
        }
        if (this._pc.signalingState !== 'closed') {
            try {
                for (var transceiver_1 = __values(transceiver), transceiver_1_1 = transceiver_1.next(); !transceiver_1_1.done; transceiver_1_1 = transceiver_1.next()) {
                    var item = transceiver_1_1.value;
                    item.sender.replaceTrack(null);
                    this._pc.removeTrack(item.sender);
                }
            }
            catch (e_3_1) { e_3 = { error: e_3_1 }; }
            finally {
                try {
                    if (transceiver_1_1 && !transceiver_1_1.done && (_a = transceiver_1.return)) _a.call(transceiver_1);
                }
                finally { if (e_3) throw e_3.error; }
            }
        }
        if (this._currentStream != void 0) {
            try {
                for (var _c = __values(this._currentStream.getTracks()), _d = _c.next(); !_d.done; _d = _c.next()) {
                    var item = _d.value;
                    item.stop();
                }
            }
            catch (e_4_1) { e_4 = { error: e_4_1 }; }
            finally {
                try {
                    if (_d && !_d.done && (_b = _c.return)) _b.call(_c);
                }
                finally { if (e_4) throw e_4.error; }
            }
        }
        this.close();
    };
    Handler.prototype.getLocalOfferSdp = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) {
                        _this._pc.onnegotiationneeded = function (e) { return __awaiter(_this, void 0, void 0, function () {
                            var offer, sdp, e_5, e_6;
                            return __generator(this, function (_a) {
                                switch (_a.label) {
                                    case 0:
                                        if (this._isNegotiating) {
                                            return [2 /*return*/];
                                        }
                                        this._isNegotiating = true;
                                        _a.label = 1;
                                    case 1:
                                        _a.trys.push([1, 7, , 8]);
                                        return [4 /*yield*/, this._pc.createOffer()];
                                    case 2:
                                        offer = _a.sent();
                                        sdp = void 0;
                                        if (this._videoCustomBitrate !== 0 || this._audioCustomBitrate !== 0) {
                                            sdp = this.setSdpCustomBitrate(offer.sdp);
                                        }
                                        else {
                                            sdp = offer.sdp;
                                        }
                                        this._logger.report('local offer sdp', sdp);
                                        _a.label = 3;
                                    case 3:
                                        _a.trys.push([3, 5, , 6]);
                                        return [4 /*yield*/, this._pc.setLocalDescription({
                                                type: 'offer',
                                                sdp: sdp
                                            })];
                                    case 4:
                                        _a.sent();
                                        return [3 /*break*/, 6];
                                    case 5:
                                        e_5 = _a.sent();
                                        throw new Error('set local offer sdp error');
                                    case 6:
                                        // 目前服务端不兼容,目前暂时不做处理
                                        resolve({
                                            localOfferSdp: offer.sdp
                                        });
                                        return [3 /*break*/, 8];
                                    case 7:
                                        e_6 = _a.sent();
                                        throw new Error('create local offer sdp error');
                                    case 8: return [2 /*return*/];
                                }
                            });
                        }); };
                    })];
            });
        });
    };
    Handler.prototype.getICEConnectionState = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            _this._pc.oniceconnectionstatechange = function (e) {
                _this._logger.report(_this._streamId + "get connectionstatechange state:::", _this._pc.iceConnectionState);
                switch (_this._pc.iceConnectionState) {
                    case 'checking':
                        // this.emit('@connectionstatechange', 'checking');
                        break;
                    case 'connected':
                    case 'completed':
                        // 结果返回
                        var successState = _this._direction == 'send' ? 'PUBLISHING' : 'PLAYING';
                        _this._logger.info("stream " + successState + " success.");
                        resolve({
                            state: successState,
                            code: 1
                        });
                        break;
                    case 'failed':
                        var failedState = _this._direction == 'send' ? 'NO_PUBLISH' : 'NO_PLAY';
                        _this._logger.info("stream " + failedState);
                        resolve({
                            state: failedState,
                            code: 0
                        });
                        break;
                    case 'disconnected':
                        // this.emit('@connectionstatechange', 'disconnected');
                        break;
                    case 'closed':
                        // this.emit('@connectionstatechange', 'closed');
                        break;
                }
            };
        });
    };
    Handler.prototype.getTrack = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            _this._pc.ontrack = function (e) {
                var e_7, _a;
                if (_this._hasTrack) {
                    return;
                }
                _this._hasTrack = true;
                _this._logger.debug(_this._streamId + "gettrack:::", e.streams.length);
                if (e.streams.length !== 0) {
                    try {
                        for (var _b = __values(e.streams[0].getTracks()), _c = _b.next(); !_c.done; _c = _b.next()) {
                            var track = _c.value;
                            _this._logger.debug(_this._streamId + "gettrack kind:::", track);
                        }
                    }
                    catch (e_7_1) { e_7 = { error: e_7_1 }; }
                    finally {
                        try {
                            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                        }
                        finally { if (e_7) throw e_7.error; }
                    }
                    ;
                    _this._currentStream = e.streams[0];
                    resolve(e.streams[0]);
                }
            };
        });
    };
    Handler.prototype.setCustomerValue = function (customParams) {
        this._videoCustomBitrate = customParams.videoCustomBitrate;
        this._audioCustomBitrate = customParams.audioCustomBitrate;
        this._customFramerate = customParams.customFramerate;
    };
    Handler.prototype.setSdpCustomBitrate = function (sdp) {
        var e_8, _a, e_9, _b;
        if (this._videoCustomBitrate !== 0 || this._audioCustomBitrate !== 0) {
            var sdpObj = sdpTransform.parse(sdp);
            var mediaArr = sdpObj.media;
            try {
                for (var mediaArr_1 = __values(mediaArr), mediaArr_1_1 = mediaArr_1.next(); !mediaArr_1_1.done; mediaArr_1_1 = mediaArr_1.next()) {
                    var item = mediaArr_1_1.value;
                    var fmtpArr = item.fmtp;
                    try {
                        for (var fmtpArr_1 = (e_9 = void 0, __values(fmtpArr)), fmtpArr_1_1 = fmtpArr_1.next(); !fmtpArr_1_1.done; fmtpArr_1_1 = fmtpArr_1.next()) {
                            var value = fmtpArr_1_1.value;
                            if (item.type === 'video' && this._videoCustomBitrate !== 0) {
                                var fmtpConfig = sdpTransform.parseParams(value.config);
                                if (fmtpConfig['profile-level-id']) {
                                    value.config += ";x-google-max-bitrate=" + this._videoCustomBitrate + ";x-google-min-bitrate=" + this._videoCustomBitrate + ";x-google-start-bitrate=" + this._videoCustomBitrate;
                                }
                            }
                            else if (item.type === 'audio' && this._audioCustomBitrate !== 0) {
                                value.config += ";maxaveragebitrate=" + this._audioCustomBitrate;
                            }
                        }
                    }
                    catch (e_9_1) { e_9 = { error: e_9_1 }; }
                    finally {
                        try {
                            if (fmtpArr_1_1 && !fmtpArr_1_1.done && (_b = fmtpArr_1.return)) _b.call(fmtpArr_1);
                        }
                        finally { if (e_9) throw e_9.error; }
                    }
                }
            }
            catch (e_8_1) { e_8 = { error: e_8_1 }; }
            finally {
                try {
                    if (mediaArr_1_1 && !mediaArr_1_1.done && (_a = mediaArr_1.return)) _a.call(mediaArr_1);
                }
                finally { if (e_8) throw e_8.error; }
            }
            return sdpTransform.write(sdpObj);
        }
        else {
            throw new RangeError('customBitRate value not invalid');
        }
    };
    Handler.prototype.replaceTrack = function (track) {
        return __awaiter(this, void 0, void 0, function () {
            var sender, e_10;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        sender = this._pc.getSenders().find(function (s) {
                            if (!s.track) {
                                throw new Error('mediastreamTrack is not exist.');
                            }
                            return s.track.kind == track.kind;
                        });
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 3, , 4]);
                        return [4 /*yield*/, sender.replaceTrack(track)];
                    case 2:
                        _a.sent();
                        return [3 /*break*/, 4];
                    case 3:
                        e_10 = _a.sent();
                        throw new Error(e_10);
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    // async transportStats(): Promise<any> {
    // 	if (this._statistics == void 0) {
    // 		this._statistics = new Statistics({
    // 			framerate: this._customFramerate,
    // 			bitrate: this._videoCustomBitrate
    // 		});
    // 	}
    // 	if (this._sensorstats == void 0) {
    // 		this._sensorstats = new SensorStats({
    // 			framerate: this._customFramerate,
    // 			bitrate: this._videoCustomBitrate
    // 		})
    // 	}
    // 	const statsData = await this._pc.getStats();
    // 	const crystalBallStatsData = this._statistics.startInterval(statsData);
    // 	const sensorStatsData = this._sensorstats.collectRTCStatsReport(statsData);
    // 	// this._logger.debug('statsData::', {
    // 	// 	crystalBall: crystalBallStatsData,
    // 	// 	sensor: sensorStatsData
    // 	// })
    // 	return {
    // 		crystalBall: crystalBallStatsData,
    // 		sensor: sensorStatsData
    // 	};
    // }
    Handler.prototype.transportStats = function (typeData) {
        return __awaiter(this, void 0, void 0, function () {
            var statsData;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (this._pcStats == void 0) {
                            this._pcStats = new Statistics_1.pcStats({
                                framerate: this._customFramerate,
                                bitrate: this._videoCustomBitrate,
                                direction: this._direction
                            });
                        }
                        return [4 /*yield*/, this._pc.getStats()];
                    case 1:
                        statsData = _a.sent();
                        this._pcStats.collectRTCStatsReport(statsData);
                        switch (typeData) {
                            case Statistics_1.type.LocalAudio:
                                return [2 /*return*/, this._pcStats.getLocalAudioStats()];
                            case Statistics_1.type.LocalVideo:
                                return [2 /*return*/, this._pcStats.getLocalVideoStats()];
                            case Statistics_1.type.RemoteAudio:
                                return [2 /*return*/, this._pcStats.getRemoteAudioStats()];
                            case Statistics_1.type.RemoteVideo:
                                return [2 /*return*/, this._pcStats.getRemoteVideoStats()];
                            case Statistics_1.type.Sensor:
                            case Statistics_1.type.Crystalball:
                                return [2 /*return*/, {
                                        crystalBall: this._pcStats.getCrystalballStats(),
                                        sensor: this._pcStats.getSensorStats()
                                    }];
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    // async statsDataInterval() {
    // 	if (this._pcStats == void 0) {
    // 		throw new Error('peer connection is not exist.')
    // 	}
    // 	const statsData = await this._pc.getStats();
    // 	this._pcStats.collectRTCStatsReport(statsData);
    // 	setTimeout(this.statsDataInterval, standard.getDataInterval);
    // }
    Handler.prototype._assertSendDirection = function () {
        if (this._direction !== 'send') {
            throw new Error('method can just be called for handlers with "send" direction');
        }
    };
    Handler.prototype._assertRecvDirection = function () {
        if (this._direction !== 'recv') {
            throw new Error('method can just be called for handlers with "recv" direction');
        }
    };
    return Handler;
}(HandlerInterface_1.HandlerInterface));
exports.Handler = Handler;


/***/ }),

/***/ "./src/web/device/handlers/stats/Statistics.ts":
/*!*****************************************************!*\
  !*** ./src/web/device/handlers/stats/Statistics.ts ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.pcStats = exports.standard = exports.type = void 0;
var type;
(function (type) {
    type[type["LocalAudio"] = 0] = "LocalAudio";
    type[type["LocalVideo"] = 1] = "LocalVideo";
    type[type["RemoteAudio"] = 2] = "RemoteAudio";
    type[type["RemoteVideo"] = 3] = "RemoteVideo";
    type[type["Crystalball"] = 4] = "Crystalball";
    type[type["Sensor"] = 5] = "Sensor";
})(type = exports.type || (exports.type = {}));
var standard;
(function (standard) {
    standard[standard["freezeFrameRate"] = 8] = "freezeFrameRate";
    standard[standard["audioFreezeRate"] = 0.04] = "audioFreezeRate";
})(standard = exports.standard || (exports.standard = {}));
var pcStats = /** @class */ (function () {
    function pcStats(targetParams) {
        this._direction = 'send';
        this._interval = 1000; // 默认1s起始
        this._mapCodecId = new Map();
        this._targetFramerate = 0;
        // 帧率少于8帧默认为卡顿
        this._audioCodecId = '';
        this._videoCodecId = '';
        this._sendCountFreezeTimes = 0;
        this._recvCountFreezeTimes = 0;
        this._startTime = 0;
        this._endTime = 0;
        this._totalAudioFreezeTimes = 0;
        this._totalAudioRecvTimes = 0;
        this._currentRoundTripTime = 0;
        this._totalRenderFrame = 0;
        this._totalDecodeFrame = 0;
        this._audioJitterDelay = 0;
        this._videoJitterDelay = 0;
        this._totalRecvFrameRate = 0;
        this._totalfreezeFrame = 0;
        this._audioSendCodecType = 'aac';
        this._audioSendBitrate = 0; // bps
        this._audioSendBytes = 0; //bytes
        this._audioSendPackets = 0;
        this._andioSendPacketsLost = 0;
        this._sendVolumeLevel = 0;
        this._captureFrameRate = 0; // undefine
        this._captureResolutionHeight = 0;
        this._captureResolutionWidth = 0;
        this._videoSendCodecType = 'H264';
        this._encodeDelay = 0;
        this._videoSendBitrate = 0;
        this._videoSendBytes = 0;
        this._videoSendPackets = 0;
        this._videoSendPacketsLost = 0;
        this._sendResolutionHeight = 0;
        this._sendResolutionWidth = 0;
        this._targetSendBitrate = 0;
        this._sendTotalDuration = 0; //视频总时长，单位为秒
        this._sendTotalFreezeTime = 0; //视频总卡顿时长，单位为秒
        this._audioRecvCodecType = 'aac';
        this._audioEnd2EndDelay = 0;
        this._audioFreezeRate = 0;
        this._audioPacketLossRate = 0;
        this._audioPublishDuration = 0;
        this._audioReceiveBitrate = 0;
        this._audioReceiveBytes = 0;
        this._audioReceiveDelay = 0;
        this._receiveLevel = 0;
        this._audioReceivePackets = 0;
        this._audioReceivePacketsLost = 0;
        this._recvAudioTotalDuration = 0; ///////???
        this._recvAudioTotalFreezeTime = 0; //////???
        this._audioTransportDelay = 0;
        this._videoRecvCodecType = 'H264';
        this._decodeFrameRate = 0;
        this._videoEnd2EndDelay = 0;
        this._videoFreezeRate = 0;
        this._videoPacketLossRate = 0;
        this._videoPublishDuration = 0; /// ???
        this._videoReceiveBitrate = 0;
        this._videoReceiveBytes = 0;
        this._videoReceiveDelay = 0;
        this._receiveFrameRate = 0;
        this._videoReceivePackets = 0;
        this._videoReceivePacketsLost = 0;
        this._receiveResolutionHeight = 0;
        this._receiveResolutionWidth = 0;
        this._recvVideoTotalDuration = 0; // 接收的视频总时长，单位为秒。
        this._recvVideoTotalFreezeTime = 0; // 接收的视频总卡顿时长，单位为秒。
        this._videoTransportDelay = 0; // 从远端发送视频到本地接收视频的延迟。
        // sensor
        this._sendFramesEncoded = 0;
        this._sendFramesSent = 0;
        this._sendNackCount = 0;
        this._sendPliCount = 0;
        this._totalDecodeTime = 0;
        this._firCount = 0;
        this._recvNackCount = 0;
        this._recvPliCount = 0;
        // crystalball
        this._sendBandwidth = 0;
        this._direction = targetParams.direction;
        if (targetParams !== void 0) {
            if (targetParams.framerate !== void 0) {
                this._targetFramerate = targetParams.framerate;
            }
            ;
            if (targetParams.bitrate !== void 0) {
                this._targetSendBitrate = targetParams.bitrate;
            }
            ;
        }
    }
    pcStats.prototype.getLocalAudioStats = function () {
        this._calculateTotalIndex();
        return {
            codecType: this._audioSendCodecType,
            sendBitrate: this._audioSendBitrate,
            sendBytes: this._audioSendBytes,
            sendPackets: this._audioSendPackets,
            sendPacketsLost: this._andioSendPacketsLost,
            sendVolumeLevel: this._sendVolumeLevel
        };
    };
    pcStats.prototype.getLocalVideoStats = function () {
        this._calculateTotalIndex();
        return {
            captureFrameRate: this._captureFrameRate,
            captureResolutionHeight: this._captureResolutionHeight,
            captureResolutionWidth: this._captureResolutionWidth,
            codecType: this._videoSendCodecType,
            encodeDelay: this._encodeDelay,
            sendBitrate: this._videoSendBitrate,
            sendBytes: this._videoSendBytes,
            sendFrameRate: this._sendFrameRate,
            sendPackets: this._videoSendPackets,
            sendPacketsLost: this._videoSendPacketsLost,
            sendResolutionHeight: this._sendResolutionHeight,
            sendResolutionWidth: this._sendResolutionWidth,
            targetSendBitrate: this._targetSendBitrate,
            totalDuration: this._sendTotalDuration,
            totalFreezeTime: this._sendTotalFreezeTime //视频总卡顿时长，单位为秒
        };
    };
    pcStats.prototype.getRemoteAudioStats = function () {
        this._calculateTotalIndex();
        return {
            codecType: this._audioRecvCodecType,
            // end2EndDelay:  /////////????
            freezeRate: this._audioFreezeRate,
            packetLossRate: this._audioPacketLossRate,
            publishDuration: this._audioPublishDuration,
            receiveBitrate: this._audioReceiveBitrate,
            receiveBytes: this._audioReceiveBytes,
            receiveDelay: this._audioReceiveDelay,
            receiveLevel: this._receiveLevel,
            receivePackets: this._audioReceivePackets,
            receivePacketsLost: this._audioReceivePacketsLost,
            totalDuration: this._recvAudioTotalDuration,
            totalFreezeTime: this._recvAudioTotalFreezeTime,
            transportDelay: this._audioTransportDelay
        };
    };
    pcStats.prototype.getRemoteVideoStats = function () {
        this._calculateTotalIndex();
        return {
            codecType: this._videoRecvCodecType,
            decodeFrameRate: this._decodeFrameRate,
            // end2EndDelay: 
            freezeRate: this._videoFreezeRate,
            packetLossRate: this._videoPacketLossRate,
            // publishDuration: 
            receiveBitrate: this._videoReceiveBitrate,
            receiveBytes: this._videoReceiveBytes,
            receiveDelay: this._videoReceiveDelay,
            receiveFrameRate: this._receiveFrameRate,
            receivePackets: this._videoReceivePackets,
            receivePacketsLost: this._videoReceivePacketsLost,
            receiveResolutionHeight: this._receiveResolutionHeight,
            receiveResolutionWidth: this._receiveResolutionWidth,
            renderFrameRate: this._renderFrameRate,
            totalDuration: this._recvVideoTotalDuration,
            totalFreezeTime: this._recvVideoTotalFreezeTime,
            transportDelay: this._videoTransportDelay // 从远端发送视频到本地接收视频的延迟。
        };
    };
    pcStats.prototype.getSensorStats = function () {
        this._calculateTotalIndex();
        var sendData = {
            a_send_bitrate: this._audioSendBitrate,
            is_send: 1,
            v_actual_bitrate: this._videoSendBitrate,
            v_encode_cost: this._encodeDelay,
            v_frame_encode: this._sendFramesEncoded,
            v_frame_sent: this._sendFramesSent,
            v_input_frame_rate: this._targetFramerate,
            v_nack_pli: this._sendNackCount,
            v_send_frame_rate: this._sendFrameRate,
            v_send_packets: this._videoSendPackets,
            v_send_pli: this._sendPliCount,
            v_target_bitrate: this._targetSendBitrate
        };
        var recvData = {
            is_send: 0,
            a_recv_bitrate: this._audioReceiveBitrate,
            a_recv_packets: this._audioReceivePackets,
            a_lost_packets: this._audioReceivePacketsLost,
            v_recv_bitrate: this._videoReceiveBitrate,
            v_decode_cost: this._totalDecodeTime,
            v_lost_packets: this._videoReceivePacketsLost,
            v_recv_firs: this._firCount,
            v_recv_frame_rate: this._receiveFrameRate,
            v_recv_nack: this._recvNackCount,
            v_recv_plis: this._recvPliCount
        };
        if (this._direction === 'send') {
            return sendData;
        }
        else {
            return recvData;
        }
    };
    /*
    * 由于水晶球数据类型转换问题，目前水晶球rtt、encodeCost、decodeCost单位均使用ms
    */
    pcStats.prototype.getCrystalballStats = function () {
        this._calculateTotalIndex();
        var result = {};
        if (this._direction === 'send') {
            var encodeCost = this._encodeDelay ? this._encodeDelay * 1000 : 0;
            var sendData = {
                VSendBitrate1: this._videoSendBitrate,
                ASendBitrate: this._audioSendBitrate,
                SendBandwidth: this._sendBandwidth,
                SendRTT: this._currentRoundTripTime * 1000,
                EncodeCost: encodeCost,
                VFrameRate1: this._sendFrameRate,
                VFrameRate2: this._targetFramerate,
                VSendFrameRate1: this._sendFrameRate,
                VSendLostPercent: this._videoPacketLossRate,
                ASendLostPercent: this._audioPacketLossRate,
                nack_receive_times: this._sendNackCount,
                pli_receive_times: this._sendPliCount, // pli接收次数
            };
            for (var item in sendData) {
                if (sendData.hasOwnProperty(item)) {
                    if (sendData[item]) {
                        result[item] = Math.round(sendData[item]);
                    }
                }
            }
        }
        else if (this._direction === 'recv') {
            var recvData = {
                VRecvBitrate: this._videoReceiveBitrate,
                ARecvBitrate: this._audioReceiveBitrate,
                RecvRTT: this._currentRoundTripTime * 1000,
                DecodeCost: this._totalDecodeTime * 1000,
                VFrameRate: this._receiveFrameRate,
                VRecvLostPercent: this._videoReceivePacketsLost,
                ARecvLostPercent: this._audioReceivePacketsLost
            };
            for (var item in recvData) {
                if (recvData.hasOwnProperty(item)) {
                    if (recvData[item]) {
                        result[item] = Math.round(recvData[item]);
                    }
                }
            }
        }
        return result;
    };
    pcStats.prototype.collectRTCStatsReport = function (statsData) {
        this._analysisRTCStatsReport(statsData);
    };
    // RTCStatsReport
    pcStats.prototype._analysisRTCStatsReport = function (currentRTCStatsReport) {
        var _this = this;
        currentRTCStatsReport.forEach(function (report) {
            // console.log('report item:::', report);
            if (!_this._startTime) {
                _this._startTime = report.timestamp;
            }
            _this._endTime = report.timestamp;
            _this._interval = (_this._endTime - _this._startTime) + 1000;
            var id = report.id;
            var type = report.type;
            var kind = report.kind || report.mediaType;
            if (type === 'codec') {
                _this._mapCodecId.set(id, report.mimeType);
            }
            else if (type === 'candidate-pair') {
                _this._currentRoundTripTime = report.currentRoundTripTime;
                _this._sendBandwidth = report.availableOutgoingBitrate;
            }
            else if (type === 'track') {
                if (kind === 'audio') {
                    _this._audioJitterDelay = report.jitterBufferDelay / report.jitterBufferEmittedCount;
                }
                else if (kind === 'video') {
                    _this._videoJitterDelay = report.jitterBufferDelay / report.jitterBufferEmittedCount;
                }
            }
            else if (type === 'media-source') {
                if (kind === 'audio') {
                    _this._sendVolumeLevel = report.audioLevel; // *1000
                }
                else if (kind === 'video') {
                    _this._captureFrameRate = report.framesPerSecond;
                    _this._captureResolutionWidth = report.width;
                    _this._captureResolutionHeight = report.height;
                }
            }
            else if (type === 'remote-inbound-rtp') {
                if (kind === 'audio') {
                    _this._andioSendPacketsLost = report.packetsLost;
                }
                else if (kind === 'video') {
                    _this._videoSendPacketsLost = report.packetsLost;
                }
            }
            else if (type === 'outbound-rtp') {
                if (kind === 'audio') {
                    _this._audioCodecId = report.codecId;
                    _this._audioSendBitrate = _this._calculateKBitsPerSecond(report.bytesSent);
                    _this._audioSendBytes = report.bytesSent;
                    _this._audioSendPackets = report.packetsSent;
                }
                else if (kind === 'video') {
                    _this._videoCodecId = report.codecId;
                    _this._encodeDelay = report.totalEncodeTime;
                    _this._videoSendBitrate = _this._calculateKBitsPerSecond(report.bytesSent);
                    _this._videoSendBytes = report.bytesSent;
                    _this._sendFrameRate = report.framesPerSecond;
                    _this._videoSendPackets = report.packetsSent;
                    _this._sendResolutionHeight = report.frameHeight;
                    _this._sendResolutionWidth = report.frameWidth;
                    _this._sendFramesEncoded = report.framesEncoded;
                    _this._sendFramesSent = report.framesSent;
                    _this._sendNackCount = report.nackCount;
                    _this._sendPliCount = report.pliCount;
                    if (report.framesPerSecond <= standard.freezeFrameRate) {
                        _this._sendCountFreezeTimes += 1;
                    }
                }
            }
            else if (type === 'inbound-rtp') {
                if (kind === 'audio') {
                    _this._audioCodecId = report.codecId;
                    _this._audioPublishDuration = report.totalSamplesDuration;
                    _this._audioReceiveBitrate = _this._calculateKBitsPerSecond(report.bytesReceived);
                    _this._audioReceiveBytes = report.bytesReceived;
                    _this._receiveLevel = report.audioLevel;
                    _this._audioReceivePackets = report.packetsReceived;
                    _this._audioReceivePacketsLost = report.packetsLost;
                    _this._audioPacketLossRate = _this._calcuatePacketsLostRatio(report.packetsLost, report.packetsReceived);
                    // 当前丢包率大于4%的即为卡顿
                    if (_this._audioReceivePacketsLost / (_this._audioReceivePackets + _this._audioReceivePacketsLost) >= standard.audioFreezeRate) {
                        _this._totalAudioFreezeTimes += 1;
                    }
                    _this._totalAudioRecvTimes += 1;
                }
                else if (kind === 'video') {
                    _this._videoCodecId = report.codecId;
                    _this._videoReceiveBitrate = _this._calculateKBitsPerSecond(report.bytesReceived);
                    _this._videoReceiveBytes = report.bytesReceived;
                    _this._receiveFrameRate = report.framesPerSecond || 0;
                    _this._videoReceivePackets = report.packetsReceived;
                    _this._videoReceivePacketsLost = report.packetsLost;
                    _this._receiveResolutionHeight = report.frameHeight;
                    _this._receiveResolutionWidth = report.frameWidth;
                    _this._videoPacketLossRate = _this._calcuatePacketsLostRatio(report.packetsLost, report.packetsReceived);
                    _this._totalRenderFrame = report.framesDecoded - report.framesDropped;
                    _this._totalDecodeFrame = report.framesDecoded;
                    _this._totalRecvFrameRate += report.framesPerSecond || 0;
                    _this._totalDecodeTime = report.totalDecodeTime;
                    _this._recvNackCount = report.nackCount;
                    _this._recvPliCount = report.pliCount;
                    if (report.framesPerSecond <= standard.freezeFrameRate) {
                        _this._recvCountFreezeTimes += 1;
                        _this._totalfreezeFrame += report.framesPerSecond;
                    }
                }
            }
        });
        var audioMimeType = this._mapCodecId.get(this._audioCodecId);
        var videoMimeType = this._mapCodecId.get(this._videoCodecId);
        if (this._direction === 'send') {
            this._audioSendCodecType = audioMimeType === null || audioMimeType === void 0 ? void 0 : audioMimeType.split('/')[1];
            this._videoSendCodecType = videoMimeType === null || videoMimeType === void 0 ? void 0 : videoMimeType.split('/')[1];
        }
        else {
            this._audioRecvCodecType = audioMimeType === null || audioMimeType === void 0 ? void 0 : audioMimeType.split('/')[1];
            this._videoRecvCodecType = videoMimeType === null || videoMimeType === void 0 ? void 0 : videoMimeType.split('/')[1];
            this._audioTransportDelay = this._currentRoundTripTime / 2; //rtt/2
            this._videoTransportDelay = this._currentRoundTripTime / 2;
            this._audioReceiveDelay = (this._audioTransportDelay + this._audioJitterDelay); // ms  // rtt/2 + jitter
            this._videoReceiveDelay = (this._videoTransportDelay + this._videoJitterDelay); // ms
        }
    };
    pcStats.prototype._calculateTotalIndex = function () {
        if (this._direction === 'send') {
            this._sendTotalDuration = (this._endTime - this._startTime) * 0.001;
            this._sendTotalFreezeTime = this._sendCountFreezeTimes * this._interval / 1000;
        }
        else {
            this._recvVideoTotalDuration = (this._endTime - this._startTime) * 0.001;
            this._audioFreezeRate = this._totalAudioFreezeTimes / this._totalAudioRecvTimes;
            this._renderFrameRate = this._totalRenderFrame / (this._interval * 0.001);
            this._decodeFrameRate = this._totalDecodeFrame / (this._interval * 0.001); //framesDecoded
            this._recvAudioTotalFreezeTime = this._totalAudioFreezeTimes * this._interval * 0.001;
            this._recvVideoTotalFreezeTime = this._recvCountFreezeTimes * this._interval * 0.001;
            this._videoFreezeRate = this._totalfreezeFrame / this._totalRecvFrameRate;
        }
    };
    pcStats.prototype._calculateKBitsPerSecond = function (bytes) {
        // (byte * 8 / 1000 ) / (interval(ms) / 1000)
        return Math.round((bytes * 0.008) / (this._interval * 0.001)); // 单位：kbp/s
    };
    pcStats.prototype._calcuatePacketsLostRatio = function (packetsLost, packetsReceived) {
        if (packetsLost === 0 && packetsReceived === 0) {
            return 0;
        }
        return packetsLost / (packetsLost + packetsReceived); // 范围：[0-1]
    };
    pcStats.prototype._calculatePacketsPerSecond = function (packets, interval) {
        return (packets) / (interval * 0.001); // 单位：packet/s
    };
    pcStats.prototype._calcuateFramesPerSecond = function (frames, interval) {
        return Math.round((frames) / (interval * 0.001)); // 单位：frame/s
    };
    return pcStats;
}());
exports.pcStats = pcStats;


/***/ }),

/***/ "./src/web/log/Log.ts":
/*!****************************!*\
  !*** ./src/web/log/Log.ts ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __read = (this && this.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spreadArray = (this && this.__spreadArray) || function (to, from) {
    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)
        to[j] = from[i];
    return to;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.Log = void 0;
/**
 * 日志针对不同环境打印不同格式 dev: 不做格式转换; test 和 prod 需要做格式转换
 * 日志等级 0: debug 1: info 2: warning 3: error 4: none
 * 上报日志格式 this._logger.report(key<string>, value<string|object|array>)
 * 是否开始上传日志: enableLogUpload / disableLogUpload
 * @class Log
 */
var config_1 = __webpack_require__(/*! ../../../config */ "./config.ts");
var serviceAPI_1 = __webpack_require__(/*! ../service/serviceAPI */ "./src/web/service/serviceAPI.ts");
var Log = /** @class */ (function () {
    function Log(options) {
        this._logLevel = 0;
        this._LOGLEVELARR = ['debug', 'info', 'warn', 'error', 'report'];
        this._appId = '';
        this._userId = '';
        this._uploadMsgArr = [];
        this._reportTime = 5000;
        this._reportHandler = 0;
        this.debug = null;
        this.info = null;
        this.warn = null;
        this.error = null;
        this.report = null;
        this._appId = options.appId;
        this._userId = options.userId;
        this.debug = this.proxyConsole.bind(this, 'debug');
        this.info = this.proxyConsole.bind(this, 'info');
        this.warn = this.proxyConsole.bind(this, 'warn');
        this.error = this.proxyConsole.bind(this, 'error');
        this.report = this.proxyConsole.bind(this, 'report');
    }
    Log.prototype.setLogLevel = function (level) {
        this._logLevel = level;
    };
    Log.prototype.enableLogUpload = function () {
        // 测试阶段
        // if (ENV != 'development') {
        this.startIntervalUploadLog();
        // }
    };
    Log.prototype.disableLogUpload = function () {
        if (this._reportHandler) {
            clearTimeout(this._reportHandler);
        }
    };
    // private recursiveArgs(args: any) {
    // 	let content: any = [];
    // 	if (typeof args == 'string') {
    // 		content.push(args);
    // 	} else if (isMap(args)) {
    // 		content.push([...args]);
    // 	} else if (isArray(args)) {
    // 		for (const item of args) {
    // 			if (!isArray(item) && typeof item == 'object') {
    // 				content.push(this.recursiveArgs(item));
    // 			} else {
    // 				content.push(item);
    // 			}
    // 		}
    // 	} else if (typeof args == 'object') {
    // 		for (const prop in args) {
    // 			if (args.hasOwnProperty(prop)) {
    // 				if (typeof args[prop] == 'object') {
    // 					content.push(`{${prop}: ${this.recursiveArgs(args[prop])}}`);
    // 				} else {
    // 					content.push(`{${prop}: ${args[prop]}}`);
    // 				}
    // 			}
    // 		}
    // 	}
    // 	return content;
    // }
    /*
    * 针对特定格式转换 [time, string, [string|array|object]]
    */
    Log.prototype.formatArgs = function (args, type) {
        var msgObj = {
            time: args[0]
        };
        if (typeof args[1] !== 'string') {
            throw new Error('lack of keyword.');
        }
        var reportKey = args[1];
        var data = args[2];
        if (data) {
            if (typeof data === 'string') {
                msgObj[reportKey] = data;
            }
            else if (typeof data === 'object') {
                msgObj[reportKey] = data;
            }
        }
        else {
            msgObj.msg = reportKey;
        }
        if (type == 'report') {
            this._uploadMsgArr.push(JSON.stringify(msgObj));
        }
        return msgObj;
    };
    Log.prototype.startIntervalUploadLog = function () {
        var _this = this;
        // console.log('uploadLog interval');
        if (this._uploadMsgArr.length !== 0) {
            serviceAPI_1.uploadLog({
                appId: this._appId,
                userId: this._userId,
                message: this._uploadMsgArr
            }).then(function (result) {
                if (result.code === 0) {
                    _this._uploadMsgArr = [];
                }
                else {
                    throw new Error('report log error.');
                }
            }, function (reason) {
                throw new Error('report log error.');
            });
        }
        this._reportHandler = setTimeout(this.startIntervalUploadLog.bind(this), this._reportTime);
    };
    Log.prototype.proxyConsole = function (type) {
        var args = Array.prototype.slice.call(arguments);
        args.shift();
        args.unshift(this.dateFormat());
        // dev 环境不做转义，增加可读性
        if (config_1.ENV == 'development') {
            this._LOGLEVELARR.push('log');
        }
        var printLogLevel = this._LOGLEVELARR.slice(this._logLevel);
        if (this._logLevel == 4) {
            printLogLevel = ['report', 'info'];
        }
        if (printLogLevel.indexOf(type) != -1) {
            switch (type) {
                case 'report':
                    this.formatArgs(args, 'report');
                    break;
                case 'log':
                    console.log.apply(null, __spreadArray([''], __read(args)));
                    break;
                case 'debug':
                    console.info.call(null, JSON.stringify(this.formatArgs(args)));
                    break;
                case 'info':
                    if (this._logLevel == 4) {
                        this.formatArgs(args, 'report');
                    }
                    else {
                        console.info.call(null, "%c" + JSON.stringify(this.formatArgs(args, 'report')), 'color: #311078');
                    }
                    break;
                case 'warn':
                    console.warn.apply(null, __spreadArray([''], __read(args)));
                    break;
                case 'error':
                    console.error.apply(null, __spreadArray([''], __read(args)));
                    break;
            }
        }
    };
    Log.prototype.dateFormat = function () {
        var date = new Date();
        var o = {
            "y": date.getFullYear(),
            "M": date.getMonth() + 1,
            "d": date.getDate(),
            "h": date.getHours(),
            "m": date.getMinutes(),
            "s": date.getSeconds(),
            "S": date.getMilliseconds()
        };
        return o.y + "-" + o.M + "-" + o.d + " " + o.h + ":" + o.m + ":" + o.s + "." + o.S;
    };
    return Log;
}());
exports.Log = Log;


/***/ }),

/***/ "./src/web/log/logger.ts":
/*!*******************************!*\
  !*** ./src/web/log/logger.ts ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.generateLoggerInstance = exports.logger = void 0;
var Log_1 = __webpack_require__(/*! ./Log */ "./src/web/log/Log.ts");
exports.logger = {};
function generateLoggerInstance(params) {
    var instance = new Log_1.Log(params);
    Object.defineProperty(exports.logger, 'collect', {
        value: instance,
        writable: false,
        enumerable: false,
        configurable: true
    });
}
exports.generateLoggerInstance = generateLoggerInstance;


/***/ }),

/***/ "./src/web/media/MediaDeviceController.ts":
/*!************************************************!*\
  !*** ./src/web/media/MediaDeviceController.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __values = (this && this.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
Object.defineProperty(exports, "__esModule", { value: true });
var logger_1 = __webpack_require__(/*! ../log/logger */ "./src/web/log/logger.ts");
var MediaDeviceKind;
(function (MediaDeviceKind) {
    MediaDeviceKind["MICROPHONE"] = "audioinput";
    MediaDeviceKind["SPEAKER"] = "audiooutput";
    MediaDeviceKind["CAMERA"] = "videoinput";
})(MediaDeviceKind || (MediaDeviceKind = {}));
var MediaController = /** @class */ (function () {
    function MediaController(options) {
        this._currentStream = {};
        this._userId = '';
        this._mapStreamIdMediastream = new Map();
        this._logger = null;
        this._userId = options.userId;
        this._logger = logger_1.logger.collect;
    }
    MediaController.enumerateDevices = function (onSuccess, onFailed) {
        return __awaiter(this, void 0, void 0, function () {
            var devices, microphones, speakers, cameras, devices_1, devices_1_1, device, e_1;
            var e_2, _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _b.trys.push([0, 2, , 3]);
                        return [4 /*yield*/, navigator.mediaDevices.enumerateDevices()];
                    case 1:
                        devices = _b.sent();
                        microphones = [];
                        speakers = [];
                        cameras = [];
                        try {
                            for (devices_1 = __values(devices), devices_1_1 = devices_1.next(); !devices_1_1.done; devices_1_1 = devices_1.next()) {
                                device = devices_1_1.value;
                                switch (device.kind) {
                                    case MediaDeviceKind.MICROPHONE:
                                        microphones.push(device);
                                        break;
                                    case MediaDeviceKind.SPEAKER:
                                        speakers.push(device);
                                        break;
                                    case MediaDeviceKind.CAMERA:
                                        cameras.push(device);
                                        break;
                                    default: break;
                                }
                            }
                        }
                        catch (e_2_1) { e_2 = { error: e_2_1 }; }
                        finally {
                            try {
                                if (devices_1_1 && !devices_1_1.done && (_a = devices_1.return)) _a.call(devices_1);
                            }
                            finally { if (e_2) throw e_2.error; }
                        }
                        if (typeof onSuccess === "function") {
                            onSuccess({ microphones: microphones, speakers: speakers, cameras: cameras });
                        }
                        return [2 /*return*/, Promise.resolve({ microphones: microphones, speakers: speakers, cameras: cameras })];
                    case 2:
                        e_1 = _b.sent();
                        if (typeof onFailed === "function") {
                            onFailed(e_1);
                        }
                        return [2 /*return*/, Promise.reject(e_1)];
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    MediaController.prototype.getLocalMediaStream = function (type, constraints) {
        return __awaiter(this, void 0, void 0, function () {
            var mediaDevices, displayStream, cameraStream, systemAudioTrack, _a, _b, track, _c, _d, e_3, stream;
            var e_4, _e;
            return __generator(this, function (_f) {
                switch (_f.label) {
                    case 0:
                        this._logger.debug('local mediastream constraints', constraints);
                        _f.label = 1;
                    case 1:
                        _f.trys.push([1, 7, , 11]);
                        if (!(type == 'display')) return [3 /*break*/, 4];
                        mediaDevices = navigator.mediaDevices;
                        return [4 /*yield*/, mediaDevices.getDisplayMedia(constraints)];
                    case 2:
                        displayStream = _f.sent();
                        return [4 /*yield*/, navigator.mediaDevices.getUserMedia({ audio: true })];
                    case 3:
                        cameraStream = _f.sent();
                        systemAudioTrack = cameraStream.getAudioTracks()[0];
                        if (constraints && !constraints.audio) {
                            systemAudioTrack.enabled = false; // 兼容现服务端获取candidate错误
                        }
                        try {
                            // 部分浏览器display可自采集声音轨
                            for (_a = __values(displayStream.getTracks()), _b = _a.next(); !_b.done; _b = _a.next()) {
                                track = _b.value;
                                this._logger.report('displayStream has audio track', track);
                                if (track.kind == 'audio') {
                                    track.stop();
                                    displayStream.removeTrack(track);
                                }
                            }
                        }
                        catch (e_4_1) { e_4 = { error: e_4_1 }; }
                        finally {
                            try {
                                if (_b && !_b.done && (_e = _a.return)) _e.call(_a);
                            }
                            finally { if (e_4) throw e_4.error; }
                        }
                        ;
                        displayStream.addTrack(systemAudioTrack);
                        return [2 /*return*/, Promise.resolve(displayStream)];
                    case 4:
                        _d = (_c = Promise).resolve;
                        return [4 /*yield*/, navigator.mediaDevices.getUserMedia(constraints)];
                    case 5: return [2 /*return*/, _d.apply(_c, [_f.sent()])];
                    case 6: return [3 /*break*/, 11];
                    case 7:
                        e_3 = _f.sent();
                        if (!(e_3.constraint && type == 'camera')) return [3 /*break*/, 9];
                        this._logger.report('getUserMedia error', e_3);
                        return [4 /*yield*/, navigator.mediaDevices.getUserMedia({ audio: true, video: true })];
                    case 8:
                        stream = _f.sent();
                        return [2 /*return*/, Promise.resolve(stream)];
                    case 9: return [2 /*return*/, Promise.reject(e_3)];
                    case 10: return [3 /*break*/, 11];
                    case 11: return [2 /*return*/];
                }
            });
        });
    };
    MediaController.prototype.destroyLocalMediaStream = function (mediastream) {
        var e_5, _a;
        try {
            for (var _b = __values(mediastream.getTracks()), _c = _b.next(); !_c.done; _c = _b.next()) {
                var track = _c.value;
                track.stop();
                mediastream.removeTrack(track);
            }
        }
        catch (e_5_1) { e_5 = { error: e_5_1 }; }
        finally {
            try {
                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
            }
            finally { if (e_5) throw e_5.error; }
        }
        ;
    };
    MediaController.prototype.replaceTrack = function (mediastream, track) {
        var e_6, _a;
        try {
            for (var _b = __values(mediastream.getTracks()), _c = _b.next(); !_c.done; _c = _b.next()) {
                var item = _c.value;
                if (item.kind == track.kind) {
                    item.stop();
                    mediastream.removeTrack(item);
                }
            }
        }
        catch (e_6_1) { e_6 = { error: e_6_1 }; }
        finally {
            try {
                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
            }
            finally { if (e_6) throw e_6.error; }
        }
        mediastream.addTrack(track);
        return mediastream;
    };
    // public saveCurrentStream(streamId: string, mediastream: MediaStream) {
    //     this._mapStreamIdMediastream.set(streamId, mediastream);
    // }
    // public deleteCurrentStream(streamId: string) {
    //     this._mapStreamIdMediastream.delete(streamId);
    // }
    MediaController.prototype.enumerateDevices = function (onSuccess, onFailed) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                return [2 /*return*/, MediaController.enumerateDevices(onSuccess, onFailed)];
            });
        });
    };
    return MediaController;
}());
exports.default = MediaController;


/***/ }),

/***/ "./src/web/media/Record.ts":
/*!*********************************!*\
  !*** ./src/web/media/Record.ts ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.RecordMediastream = void 0;
var RecordMediastream = /** @class */ (function () {
    function RecordMediastream(mediastream, options) {
        var _this = this;
        this._mimeType = '';
        this._currentMediaStream = null;
        this._mediaRecordInstance = null;
        this._recordedBlobs = [];
        this.handleDataAvailable = function (event) {
            if (event.data && event.data.size > 0) {
                _this._recordedBlobs.push(event.data);
            }
        };
        this._currentMediaStream = mediastream;
        this._mimeType = options.mimeType + ";" + options.codec;
        this._mediaRecordInstance = new MediaRecorder(this._currentMediaStream, {
            mimeType: this._mimeType
        });
        this._mediaRecordInstance.ondataavailable = this.handleDataAvailable;
    }
    RecordMediastream.prototype.isSupport = function () {
        if (!MediaRecorder.isTypeSupported(this._mimeType)) {
            console.error(this._mimeType + " is not supported");
            return false;
        }
        else {
            return true;
        }
    };
    RecordMediastream.prototype.start = function () {
        if (!this._mediaRecordInstance) {
            throw new Error('mediaRecorder is not supported.');
        }
        this._mediaRecordInstance.start();
    };
    RecordMediastream.prototype.stop = function () {
        if (!this._mediaRecordInstance) {
            throw new Error('mediaRecorder is not supported.');
        }
        this._mediaRecordInstance.stop();
    };
    RecordMediastream.prototype.download = function () {
        return new Blob(this._recordedBlobs, { type: this._mimeType });
    };
    return RecordMediastream;
}());
exports.RecordMediastream = RecordMediastream;


/***/ }),

/***/ "./src/web/service/serviceAPI.ts":
/*!***************************************!*\
  !*** ./src/web/service/serviceAPI.ts ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.uploadLog = exports.getAuthEdgeList = exports.getEdgeList = exports.getUserSource = exports.uploadSensorsStats = exports.numberVersion = void 0;
var bowser = __importStar(__webpack_require__(/*! bowser */ "./node_modules/bowser/es5.js"));
var defaultConfig_1 = __webpack_require__(/*! ../../common/defaultConfig */ "./src/common/defaultConfig.ts");
var config_1 = __webpack_require__(/*! ../../../config */ "./config.ts");
var ipInfo = null;
var currentAppId = '';
var currentUserId = '';
function fetchData(params) {
    return __awaiter(this, void 0, void 0, function () {
        var fetchOptions, result, e_1;
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    if (!params.method) {
                        params.method = 'GET';
                    }
                    if (!params.data) {
                        fetchOptions = {
                            method: params.method
                        };
                    }
                    else {
                        if (typeof params.data !== 'object') {
                            throw new Error('data must be an object.');
                        }
                        if (params.data.headers) {
                            fetchOptions = {
                                body: JSON.stringify(params.data),
                                method: params.method,
                                headers: params.data.headers
                            };
                        }
                        else {
                            fetchOptions = {
                                body: JSON.stringify(params.data),
                                method: params.method
                            };
                        }
                    }
                    _a.label = 1;
                case 1:
                    _a.trys.push([1, 4, , 5]);
                    return [4 /*yield*/, fetch(params.url, fetchOptions)];
                case 2:
                    result = _a.sent();
                    return [4 /*yield*/, result.json()];
                case 3: return [2 /*return*/, _a.sent()];
                case 4:
                    e_1 = _a.sent();
                    throw new Error(e_1);
                case 5: return [2 /*return*/];
            }
        });
    });
}
function numberVersion() {
    var versionArr = [];
    config_1.version.split('.').forEach(function (value) {
        if (value.length <= 1) {
            value = value + '0';
        }
        versionArr.push(value);
    });
    return parseInt(versionArr.join('') + '0');
}
exports.numberVersion = numberVersion;
function getSensorCommonData() {
    var sdkVersion = numberVersion();
    var netType = 0;
    if (navigator.connection || navigator.mozConnection || navigator.webkitConnection) {
        var connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
        var type = connection.type;
        netType = type == 'wifi' ? 1 : type == '2g' ? 2 : type == '3g' ? 3 : type == '4g' ? 4 : type == '5g' ? 5 : 0;
    }
    var _a = bowser.parse(window.navigator.userAgent), browser = _a.browser, engine = _a.engine, os = _a.os, platform = _a.platform;
    // console.log('getBrowser info::', browser, engine, os, platform);
    return {
        os_type: platform.type,
        brand: platform.vendor,
        model: "" + browser.name + browser.version,
        system_version: os.version,
        system_name: os.name,
        system_versionName: os.versionName,
        app_version: browser.version,
        app_engine: engine.name,
        sdk_version: config_1.version,
        sdk_version_int: sdkVersion,
        net_type: netType
    };
}
function uploadSensorsStats(customData) {
    return __awaiter(this, void 0, void 0, function () {
        var commonData, result;
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    commonData = getSensorCommonData();
                    return [4 /*yield*/, fetchData({
                            url: defaultConfig_1.constantConfig.STATSURL + "/data_collect",
                            method: 'POST',
                            data: __assign(__assign(__assign({}, commonData), customData), { event_time: Math.round(new Date().getTime() / 1000), time: new Date().getTime() })
                        })];
                case 1:
                    result = _a.sent();
                    if (result.status !== 200) {
                        throw new Error('sensors stats error.');
                    }
                    return [2 /*return*/];
            }
        });
    });
}
exports.uploadSensorsStats = uploadSensorsStats;
function getUserSource() {
    var platform = bowser.parse(window.navigator.userAgent).platform;
    return platform.type;
}
exports.getUserSource = getUserSource;
function getEdgeList(params) {
    return __awaiter(this, void 0, void 0, function () {
        var currentConfig, result;
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    currentConfig = defaultConfig_1.envConfig[params.projectName][params.env];
                    if (!(ipInfo == void 0)) return [3 /*break*/, 2];
                    return [4 /*yield*/, getClientIp()];
                case 1:
                    ipInfo = _a.sent();
                    _a.label = 2;
                case 2: return [4 /*yield*/, fetchData({
                        url: currentConfig.CENTERURL + "/api/v1/join",
                        method: 'POST',
                        data: {
                            app_id: params.appId,
                            user_id: params.userId,
                            client_ip: ipInfo && ipInfo.client_ip,
                            proto: 'https',
                            role: '',
                            room_id: params.roomId,
                            user_source: 'pc_center',
                        },
                        headers: {
                            'Content-Type': 'application/json'
                        }
                    })];
                case 3:
                    result = _a.sent();
                    if (result.code !== 200) {
                        throw new Error('get EdgeList failed.');
                    }
                    return [2 /*return*/, result.data.edge_urls];
            }
        });
    });
}
exports.getEdgeList = getEdgeList;
function createNonce() {
    var s = [];
    var hexDigits = "0123456789abcdef";
    for (var i = 0; i < 36; i++) {
        s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);
    }
    s[14] = "4";
    s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1);
    s[8] = s[13] = s[18] = s[23] = "-";
    var uuid = s.join("");
    return uuid;
}
function getClientIp() {
    return __awaiter(this, void 0, void 0, function () {
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0: return [4 /*yield*/, fetchData({
                        url: 'https://geoip.linkv.fun/ip_geo',
                        method: 'GET'
                    })];
                case 1: return [2 /*return*/, _a.sent()];
            }
        });
    });
}
function getAuthEdgeList(_a) {
    var appId = _a.appId, auth = _a.auth, expire = _a.expire, projectName = _a.projectName, env = _a.env;
    return __awaiter(this, void 0, void 0, function () {
        var currentConfig, result;
        return __generator(this, function (_b) {
            switch (_b.label) {
                case 0:
                    currentConfig = defaultConfig_1.envConfig[projectName][env];
                    if (!(ipInfo == void 0)) return [3 /*break*/, 2];
                    return [4 /*yield*/, getClientIp()];
                case 1:
                    ipInfo = _b.sent();
                    _b.label = 2;
                case 2: return [4 /*yield*/, fetchData({
                        url: currentConfig.CENTERURL + "/api/v1/auth",
                        method: 'POST',
                        data: __assign({ app_id: appId, auth: auth, timestamp: "" + Math.round((new Date().getTime() / 1000)), expire_ts: expire, user_source: 'pc_center', nonce: createNonce() }, ipInfo)
                    })];
                case 3:
                    result = _b.sent();
                    if (result.code !== 200) {
                        throw new Error('get EdgeList failed.');
                    }
                    return [2 /*return*/, result.data.edge_urls];
            }
        });
    });
}
exports.getAuthEdgeList = getAuthEdgeList;
/*
* 上传日志https接口
*/
function uploadLog(_a) {
    var appId = _a.appId, userId = _a.userId, message = _a.message;
    return __awaiter(this, void 0, void 0, function () {
        return __generator(this, function (_b) {
            switch (_b.label) {
                case 0:
                    if (!(ipInfo == void 0)) return [3 /*break*/, 2];
                    return [4 /*yield*/, getClientIp()];
                case 1:
                    ipInfo = _b.sent();
                    _b.label = 2;
                case 2:
                    if (!appId) {
                        if (!currentAppId) {
                            throw new Error('appId can not be empty.');
                        }
                    }
                    else {
                        currentAppId = appId;
                    }
                    if (!userId) {
                        if (!currentUserId) {
                            throw new Error('userId can not be empty.');
                        }
                    }
                    else {
                        currentUserId = userId;
                    }
                    return [4 /*yield*/, fetchData({
                            url: defaultConfig_1.constantConfig.LOGREPORT + "/v1/log/report",
                            method: 'POST',
                            data: {
                                appid: currentAppId,
                                userid: currentUserId,
                                country: ipInfo && ipInfo.country_code,
                                message: message,
                                timestamp: Math.round(new Date().getTime() / 1000)
                            }
                        })];
                case 3: return [2 /*return*/, _b.sent()];
            }
        });
    });
}
exports.uploadLog = uploadLog;


/***/ }),

/***/ "./src/web/signal/Index.ts":
/*!*********************************!*\
  !*** ./src/web/signal/Index.ts ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
var SignalHandling_1 = __importDefault(__webpack_require__(/*! ./SignalHandling */ "./src/web/signal/SignalHandling.ts"));
var Singal = /** @class */ (function (_super) {
    __extends(Singal, _super);
    function Singal(options) {
        return _super.call(this, options) || this;
    }
    return Singal;
}(SignalHandling_1.default));
exports.default = Singal;


/***/ }),

/***/ "./src/web/signal/SignalHandling.ts":
/*!******************************************!*\
  !*** ./src/web/signal/SignalHandling.ts ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __values = (this && this.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
var __read = (this && this.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spreadArray = (this && this.__spreadArray) || function (to, from) {
    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)
        to[j] = from[i];
    return to;
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
var signalConnect_1 = __importDefault(__webpack_require__(/*! ./signalConnect */ "./src/web/signal/signalConnect.ts"));
var errorCode_1 = __webpack_require__(/*! ../../common/errorCode */ "./src/common/errorCode.ts");
var utils_1 = __webpack_require__(/*! ../utils/utils */ "./src/web/utils/utils.ts");
var serviceAPI_1 = __webpack_require__(/*! ../service/serviceAPI */ "./src/web/service/serviceAPI.ts");
var SignalHandling = /** @class */ (function (_super) {
    __extends(SignalHandling, _super);
    function SignalHandling(options) {
        var _this = _super.call(this, options) || this;
        _this._timer = null;
        _this._timeouter = null;
        _this.signalTimeout = 90;
        _this._initJoinRoomParams = null;
        _this._isKick = false;
        _this._succeed = false;
        _this._roomOnlineList = [];
        _this._offerPeerId = 0;
        _this._connectState = 0;
        _this._role = 0;
        _this._joinRoomStartTime = 0;
        _this._portCandidateObj = {};
        _this._MapStreamIdCandidatePort = new Map();
        _this._MapStreamIdAnswerSdp = new Map();
        _this._iceConnectionStreamIdMap = new Map();
        _this._isExecAnswersdp = new Map();
        _this.onJoinSuccess = function (message) {
            var e_1, _a, e_2, _b;
            _this._logger.info('receive joinSuccess msg', message);
            // 上报数据
            serviceAPI_1.uploadSensorsStats({
                app_id: _this._appId,
                code: message.code,
                event_type: 13,
                is_host: _this._role == 1 ? 1 : 0,
                log_type: "liveme_video_rtc_statistics",
                room_id: _this._roomId,
                self_user_id: _this._userId
            });
            if (!message || message.code == 500) {
                _this.leaveRoom();
                _this.emit('@disconnect', errorCode_1.errCode.get('wsDisconnect'));
                return;
            }
            else if (message.code !== 200) {
                _this.resetSignalState('joinSuccess'); //重连
            }
            else {
                var result = utils_1.formatKeyToHump(message);
                // 上报
                serviceAPI_1.uploadSensorsStats({
                    app_id: _this._appId,
                    connect_state: result.connectState,
                    edge_url: _this._currentEdgeUrl,
                    event_type: 1,
                    is_host: _this._role == 1 ? 1 : 0,
                    join_room_cost: new Date().getTime() - _this._joinRoomStartTime,
                    log_type: "liveme_video_rtc_room_event",
                    room_id: _this._roomId,
                    self_user_id: _this._userId,
                });
                _this._succeed = true;
                var connectState = result.connectState;
                // 判断重连
                if (connectState == 1) {
                    return;
                }
                if (result.participants && result.participants.length !== 0) {
                    _this._roomOnlineList = result.participants;
                }
                else {
                    _this.emit('@getjoinsucessresult', {
                        code: 200,
                        msg: []
                    });
                }
                var joinSuccessResult = [];
                var currentUserIdArr = [];
                try {
                    for (var _c = __values(_this._roomOnlineList), _d = _c.next(); !_d.done; _d = _c.next()) {
                        var item = _d.value;
                        currentUserIdArr.push(item.userId);
                        if (item.userId != _this._userId) {
                            joinSuccessResult.push({
                                streamId: item.userId,
                                userId: item.userId,
                                roomId: item.roomId
                            });
                        }
                        if (item.userId !== _this._userId &&
                            !_this._iceConnectionStreamIdMap.get(item.userId) &&
                            (connectState == 2 || connectState == 3)) {
                            _this.emit('@streamupdate', {
                                code: 1,
                                streamList: [item]
                            });
                        }
                    }
                }
                catch (e_1_1) { e_1 = { error: e_1_1 }; }
                finally {
                    try {
                        if (_d && !_d.done && (_a = _c.return)) _a.call(_c);
                    }
                    finally { if (e_1) throw e_1.error; }
                }
                if (connectState == 2 || connectState == 3) {
                    try {
                        for (var _e = __values(_this._iceConnectionStreamIdMap), _f = _e.next(); !_f.done; _f = _e.next()) {
                            var _g = __read(_f.value, 2), key = _g[0], value = _g[1];
                            if (key !== _this._userId && currentUserIdArr.indexOf(key) == -1) {
                                _this.emit('@streamupdate', {
                                    code: 0,
                                    streamList: [{
                                            streamId: key,
                                            userId: key,
                                            roomId: _this._roomId
                                        }]
                                });
                            }
                            else {
                                _this.reconnection(key);
                            }
                        }
                    }
                    catch (e_2_1) { e_2 = { error: e_2_1 }; }
                    finally {
                        try {
                            if (_f && !_f.done && (_b = _e.return)) _b.call(_e);
                        }
                        finally { if (e_2) throw e_2.error; }
                    }
                }
                _this.emit('@getjoinsucessresult', {
                    code: 200,
                    msg: joinSuccessResult
                });
                _this._logger.info('login result', joinSuccessResult);
            }
        };
        _this.onAddParticipants = function (message) {
            var e_3, _a;
            var result = utils_1.formatKeyToHump(message);
            var responseMsg = [];
            result.participants.forEach(function (value, key) {
                value.streamId = value.userId;
                responseMsg.push(value);
                // responseMsg[key] = value;
                // responseMsg[key].streamId = value.userId
            });
            var tempArr = _this._roomOnlineList.concat(responseMsg);
            var tempObject = {};
            try {
                for (var tempArr_1 = __values(tempArr), tempArr_1_1 = tempArr_1.next(); !tempArr_1_1.done; tempArr_1_1 = tempArr_1.next()) {
                    var tempItem = tempArr_1_1.value;
                    tempObject[tempItem.userId] = tempItem;
                }
            }
            catch (e_3_1) { e_3 = { error: e_3_1 }; }
            finally {
                try {
                    if (tempArr_1_1 && !tempArr_1_1.done && (_a = tempArr_1.return)) _a.call(tempArr_1);
                }
                finally { if (e_3) throw e_3.error; }
            }
            _this._roomOnlineList = [];
            for (var item in tempObject) {
                _this._roomOnlineList.push(tempObject[item]);
            }
            _this.emit('@streamupdate', {
                code: 1,
                streamList: responseMsg
            });
            result = null;
            _this._logger.report('addparticipant message:', responseMsg);
        };
        _this.onUpdateParticipant = function (message) {
            var result = utils_1.formatKeyToHump(message);
            _this._logger.report('updateparticipant message:', result);
            _this._isExecAnswersdp.delete(result.userId);
            _this.reconnection(result.userId);
            result = null;
        };
        _this.onRemoveParticipant = function (message) {
            var result = utils_1.formatKeyToHump(message);
            _this._logger.report('removeparticipant message:', result);
            _this.emit('@streamupdate', {
                code: 0,
                streamList: [{
                        userId: result.userId,
                        streamId: result.userId,
                        roomId: result.roomId
                    }]
            });
            result = null;
        };
        _this.onKickParticipant = function (message) {
            _this._isKick = true;
            var result = utils_1.formatKeyToHump(message);
            _this._logger.report('updateparticipant message:', result);
            _this.emit('@kickout', result);
            result = null;
        };
        return _this;
    }
    SignalHandling.prototype.init = function (initParams) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this._initJoinRoomParams = initParams;
                        return [4 /*yield*/, this.connect({
                                auth: initParams.auth,
                                expire: initParams.expire
                            })];
                    case 1:
                        _a.sent();
                        this.wsEvents();
                        return [2 /*return*/];
                }
            });
        });
    };
    SignalHandling.prototype.logout = function () {
        clearTimeout(this._timer);
        clearTimeout(this._timeouter);
        this.leaveRoom();
    };
    SignalHandling.prototype.getNewEdgeList = function () {
        return __awaiter(this, void 0, void 0, function () {
            var result;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, serviceAPI_1.getEdgeList({
                            appId: this._appId,
                            roomId: this._roomId,
                            userId: this._userId,
                            env: this._env,
                            projectName: this._projectName
                        })];
                    case 1:
                        result = _a.sent();
                        this._edgeUrls = Array.from(new Set(__spreadArray(__spreadArray([], __read(this._edgeUrls)), __read(result))));
                        return [2 /*return*/];
                }
            });
        });
    };
    SignalHandling.prototype.errorFun = function (source) {
        switch (source) {
            // case 'answerSDP':
            //     this._emit('warn', { code: 500, msg: 'answerSDP error.' });
            //     break;
            case 'joinSuccess':
                this.emit('@getjoinsucessresult', {
                    code: 400,
                    msg: errorCode_1.errCode.get('wsDisconnect')
                });
                break;
        }
    };
    SignalHandling.prototype.signalReconnect = function (source) {
        var _this = this;
        // console.error('reconnect:::', this._retryTimes, this._maxRetryTimes, this._currentEdgeUrl, this._edgeUrls);
        if (!this._timeouter) {
            this._timeouter = setTimeout(function () {
                clearTimeout(_this._timer);
                clearTimeout(_this._timeouter);
                if (source) {
                    _this.errorFun(source);
                }
                else {
                    _this.changeVendor();
                }
                return;
            }, this.signalTimeout * 1000);
        }
        this.leaveRoom();
        this._timer = setTimeout(function () {
            var arrlength = Math.ceil(_this.signalTimeout / (2 * 4));
            if (_this._edgeUrls.length < arrlength) {
                _this.getNewEdgeList();
            }
            if (_this._retryTimes >= _this._maxRetryTimes) {
                _this._retryTimes = 0;
                if (_this._edgeUrls.length > 1) {
                    _this._edgeListIndex++;
                }
                _this._currentEdgeUrl = _this._edgeUrls[_this._edgeListIndex];
                _this._initJoinRoomParams && _this.init(_this._initJoinRoomParams);
                if (_this._succeed) {
                    _this._connectState = 2;
                } // 切换signal
                if (_this._edgeUrls.length > 1 && ((_this._edgeListIndex + 1) >= _this._edgeUrls.length)) {
                    _this._edgeListIndex = -1;
                }
            }
            else if (_this._retryTimes < _this._maxRetryTimes) {
                _this._initJoinRoomParams && _this.init(_this._initJoinRoomParams);
                if (_this._succeed) {
                    _this._connectState = 1;
                }
                _this._retryTimes++;
            }
        }, 2 * 1000);
    };
    SignalHandling.prototype.resetSignalState = function (source) {
        clearTimeout(this._timer);
        this.signalReconnect(source);
    };
    SignalHandling.prototype.sendMessage = function (event, message) {
        var sendMsg = utils_1.formatAppId(message, this._appId);
        this._ws && this._ws.emit(event, sendMsg);
        sendMsg = null;
    };
    SignalHandling.prototype.wsEvents = function () {
        var _this = this;
        if (!this._ws) {
            throw new Error('websocket connect failed.');
        }
        this._ws.on('connect', function () {
            _this._logger.info('signal connect success.');
            _this._retryTimes = 0;
            clearTimeout(_this._timer);
            clearTimeout(_this._timeouter);
            _this.onConnect();
        });
        this._ws.on('connect_error', function (error) {
            _this._logger.warn('signal connect_error', error);
            _this.resetSignalState();
        });
        this._ws.on('connect_timeout', function (error) {
            _this._logger.warn('signal connect_timeout', error);
            _this.resetSignalState();
        });
        this._ws.on('error', function (error) {
            _this._logger.warn('signal error', error);
            _this.resetSignalState();
        });
        this._ws.on('disconnect', function (reason) {
            _this._logger.debug('disconnect reason', reason);
            if (reason === 'io client disconnect') {
                clearTimeout(_this._timer);
                clearTimeout(_this._timeouter);
                return;
            }
            else {
                _this._logger.info('signal disconnect', reason);
                _this.resetSignalState();
            }
        });
        this._ws.on('close', function () {
            _this._logger.debug('signal status: close');
        });
        this._ws.on('joinSuccess', this.onJoinSuccess);
        this._ws.on('addParticipants', this.onAddParticipants);
        this._ws.on('updateParticipant', this.onUpdateParticipant);
        this._ws.on('removeParticipant', this.onRemoveParticipant);
        this._ws.on('kick', this.onKickParticipant);
    };
    SignalHandling.prototype.onConnect = function () {
        return __awaiter(this, void 0, void 0, function () {
            var iceMapSize, message;
            return __generator(this, function (_a) {
                if (!this._initJoinRoomParams) {
                    throw new Error('lack of joinroom params.');
                }
                iceMapSize = this._iceConnectionStreamIdMap.size;
                switch (iceMapSize) {
                    case 0:
                        this._syncRole = 0;
                        break;
                    case 1:
                        if (this._iceConnectionStreamIdMap.get(this._userId)) {
                            this._syncRole = 2;
                        }
                        else {
                            this._syncRole = 1;
                        }
                        break;
                    default:
                        if (this._iceConnectionStreamIdMap.get(this._userId)) {
                            this._syncRole = 3;
                        }
                        else {
                            this._syncRole = 1;
                        }
                }
                message = {
                    c_stream_id: "" + new Date().getTime(),
                    app_id: this._appId,
                    connect_state: this._connectState,
                    room_id: this._roomId,
                    user_id: this._userId,
                    host: this._initJoinRoomParams.role == 1 ? 1 : 0,
                    role: this._initJoinRoomParams.role == 2 ? 'viewer_cdn' : 'participant',
                    show: 'all',
                    user_source: serviceAPI_1.getUserSource(),
                    timestamp: new Date().getTime(),
                    sdk_version: serviceAPI_1.numberVersion(),
                    sync_role: this._syncRole,
                    app_package_name: this._appPackageName
                };
                this._role = this._initJoinRoomParams.role;
                // 上报
                serviceAPI_1.uploadSensorsStats({
                    app_id: this._appId,
                    room_id: this._roomId,
                    self_user_id: this._userId,
                    connect_state: this._connectState,
                    edge_url: this._currentEdgeUrl,
                    event_type: 0,
                    is_host: this._initJoinRoomParams.role == 1 ? 1 : 0,
                    join_room_cost: 0,
                    log_type: "liveme_video_rtc_room_event"
                });
                this._joinRoomStartTime = new Date().getTime();
                this.sendMessage('joinRoom', message);
                this._logger.info('send joinRoom msg', message);
                return [2 /*return*/];
            });
        });
    };
    SignalHandling.prototype.updateMixStream = function (mixStreamConfig) {
        var e_4, _a;
        // 修改 icconection 做断网重连
        var layoutArr = [];
        var layoutData = {
            auto_mix: 0,
            layout: layoutArr,
            mix_push_urls: [
                mixStreamConfig.outputUrl
            ],
            room_id: this._roomId,
            timestamp: new Date().getTime(),
            user_id: this._userId
        };
        layoutArr.push({
            layout_params: {
                bitrate: mixStreamConfig.outputBitrate,
                canvas_color: mixStreamConfig.outputBgColor,
                canvas_height: mixStreamConfig.outputHeight,
                canvas_image: mixStreamConfig.outputBgImage,
                canvas_width: mixStreamConfig.outputWidth,
                fps: mixStreamConfig.outputFps
            },
            session_id: "canvas"
        });
        var i = 1;
        try {
            for (var _b = __values(mixStreamConfig.streamList), _c = _b.next(); !_c.done; _c = _b.next()) {
                var item = _c.value;
                item.roomId = this._appId + "-" + item.roomId;
                item.streamId = this._appId + "-" + item.streamId;
                layoutArr.push({
                    layout_params: {
                        image_height: (item.bottom - item.top),
                        image_layer: i++,
                        image_width: (item.right - item.left),
                        location_x: item.left,
                        location_y: item.top
                    },
                    room_id: item.roomId ? item.roomId : this._roomId,
                    user_id: item.streamId
                });
            }
        }
        catch (e_4_1) { e_4 = { error: e_4_1 }; }
        finally {
            try {
                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
            }
            finally { if (e_4) throw e_4.error; }
        }
        // console.log('sendMixstreamParams:::', JSON.stringify(layoutData));
        this.sendMessage('mixStream', layoutData);
    };
    SignalHandling.prototype.stopMixStream = function () {
        this.sendMessage('mixStream', {
            room_id: this._roomId,
            timestamp: new Date().getTime(),
            user_id: this._userId
        });
    };
    SignalHandling.prototype.leaveRoom = function () {
        if (!this._ws) {
            this._logger.debug('websocket taskId is not exist.');
            return;
        }
        // 重置answersdp状态
        this._isExecAnswersdp.clear();
        this._portCandidateObj = {};
        if (!this._isKick) {
            this.sendMessage('leaveRoom', {
                room_id: this._roomId,
            });
        }
        //移除相关监听事件
        this.removeAllListeners('@disconnect');
        this.removeAllListeners('@getjoinsucessresult');
        this._ws.close();
        this._ws = null;
    };
    SignalHandling.prototype.stopPush = function (streamId) {
        this._isExecAnswersdp.delete(streamId);
        this.sendMessage('stopBeam', {
            room_id: this._roomId,
            user_id: this._userId,
            timestamp: new Date().getTime()
        });
    };
    SignalHandling.prototype.stopPlay = function (streamId) {
        this._isExecAnswersdp.delete(streamId);
        this.sendMessage('stop_play', {
            room_id: this._roomId,
            user_id: this._userId,
            timestamp: new Date().getTime(),
            play_user_id: streamId
        });
    };
    // 重新建立ice连接
    SignalHandling.prototype.reconnection = function (streamId) {
        this._logger.debug('reconnection', streamId);
        this.emit('@reconnection', {
            streamId: streamId,
            userId: streamId
        });
    };
    // send signal msg
    SignalHandling.prototype.sendLocalOfferSdp = function (_a) {
        var pullStreamId = _a.pullStreamId, pullStreamRoomId = _a.pullStreamRoomId, sdp = _a.sdp;
        this._offerPeerId += 1;
        this._iceConnectionStreamIdMap.set(pullStreamId, {
            offerPeerId: this._offerPeerId
        });
        var sendMsg = {
            peer_id: this._offerPeerId,
            offer_user_id: pullStreamId,
            offer_room_id: pullStreamRoomId,
            sdp_offer: sdp,
            timestamp: new Date().getTime(),
            room_id: this._roomId,
            user_id: this._userId,
            sdk_version: serviceAPI_1.numberVersion()
        };
        // 上报神策
        serviceAPI_1.uploadSensorsStats({
            app_id: this._appId,
            event_type: 8,
            log_type: "liveme_video_rtc_statistics",
            room_id: this._roomId,
            self_user_id: this._userId,
            user_id: pullStreamId
        });
        this.sendMessage('offerSDP', sendMsg);
        this._logger.report('send msg offerSDp', sendMsg);
        return this._offerPeerId;
    };
    SignalHandling.prototype.getCandidateArray = function (streamId) {
        var _this = this;
        if (!this._ws) {
            throw new Error('ws is not exist.');
        }
        var callback = function (res) {
            var result = utils_1.formatKeyToHump(res);
            var port = result.candidate.candidate.split(" ").slice(-3, -2)[0];
            _this._MapStreamIdCandidatePort.set(result.userId, port);
            if (_this._portCandidateObj[port]) {
                if (_this._portCandidateObj[port].length == 2) {
                    return;
                }
                var isExist_1 = false;
                _this._portCandidateObj[port].forEach(function (value, index, arr) {
                    if (value.sdpMLineIndex == result.candidate.sdpMLineIndex) {
                        isExist_1 = true;
                    }
                });
                if (!isExist_1) {
                    _this._portCandidateObj[port].push(result.candidate);
                }
            }
            else {
                _this._portCandidateObj[port] = [];
                _this._portCandidateObj[port].push(result.candidate);
            }
            if (result.userId == streamId) {
                var resultCandidate = _this._portCandidateObj[_this._MapStreamIdCandidatePort.get(streamId)];
                _this.emit("@getcandidate" + streamId, resultCandidate);
            }
            result = null;
        };
        this._ws.on('iceCandidate', callback);
    };
    SignalHandling.prototype.receiveAnswerSdp = function (streamId) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            if (!_this._ws) {
                throw new Error('ws is not exist.');
            }
            ;
            var callback = function (message) {
                if (_this._isExecAnswersdp.get(streamId)) {
                    resolve({
                        code: 2,
                        msg: 'Repeated execute'
                    });
                    _this._ws.off('answerSDP', callback);
                    return;
                }
                else {
                    _this._isExecAnswersdp.set(streamId, true);
                }
                var result = utils_1.formatKeyToHump(message);
                // 上报神策
                serviceAPI_1.uploadSensorsStats({
                    app_id: _this._appId,
                    event_type: 9,
                    isSuccess: message.code == 200 ? 1 : 0,
                    log_type: "liveme_video_rtc_statistics",
                    room_id: _this._roomId,
                    self_user_id: _this._userId,
                    user_id: streamId
                });
                var currentIceConnection = _this._iceConnectionStreamIdMap.get(result.userId);
                if (!currentIceConnection) {
                    throw new Error('answersp streamId is not exist.');
                }
                if (result.peerId != currentIceConnection.offerPeerId) {
                    // return; 
                    resolve({
                        code: 0,
                        msg: 'peerId repeat'
                    });
                    return;
                }
                if (result.code != 200) {
                    resolve({
                        code: 0,
                        msg: 'answsdp error'
                    });
                }
                else {
                    _this._MapStreamIdAnswerSdp.set(result.userId, result.sdpAnswer);
                    if (streamId == result.userId && _this._MapStreamIdAnswerSdp.get(result.userId)) {
                        resolve({
                            peerId: result.peerId,
                            remoteAnswerSdp: _this._MapStreamIdAnswerSdp.get(result.userId)
                        });
                    }
                    _this._ws.off('answerSDP', callback);
                }
                result = null;
            };
            _this._ws.on('answerSDP', callback);
        });
    };
    SignalHandling.prototype.uploadStatsData = function (_a) {
        var crystalBall = _a.crystalBall, sensorData = _a.sensorData;
        sensorData.forEach(function (v) {
            // 上报神策
            serviceAPI_1.uploadSensorsStats(__assign(__assign({}, v), { log_type: "liveme_video_rtc_stream_heartbeat" }));
        });
        this.sendMessage("clientstatistics", {
            room_id: this._roomId,
            sdk_version: 1010000,
            user_id: this._userId,
            timestamp: new Date().getTime(),
            statistics: crystalBall
        });
    };
    return SignalHandling;
}(signalConnect_1.default));
exports.default = SignalHandling;


/***/ }),

/***/ "./src/web/signal/signalConnect.ts":
/*!*****************************************!*\
  !*** ./src/web/signal/signalConnect.ts ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
var socket_io_1 = __importDefault(__webpack_require__(/*! socket.io */ "./node_modules/socket.io-client/dist/socket.io.slim.js"));
var serviceAPI_1 = __webpack_require__(/*! ../service/serviceAPI */ "./src/web/service/serviceAPI.ts");
var eventemitter3_1 = __importDefault(__webpack_require__(/*! eventemitter3 */ "./node_modules/eventemitter3/umd/eventemitter3.min.js"));
var errorCode_1 = __webpack_require__(/*! ../../common/errorCode */ "./src/common/errorCode.ts");
var logger_1 = __webpack_require__(/*! ../log/logger */ "./src/web/log/logger.ts");
var SignalConnect = /** @class */ (function (_super) {
    __extends(SignalConnect, _super);
    function SignalConnect(options) {
        var _this = _super.call(this) || this;
        _this._customEdgeUrl = '';
        _this._logger = null;
        _this._retryTimes = 0;
        _this._maxRetryTimes = 3;
        _this._edgeListIndex = 0;
        _this._roomId = '';
        _this._userId = '';
        _this._appId = '';
        _this._currentEdgeUrl = '';
        _this._edgeUrls = [];
        _this._ws = null;
        _this._syncRole = 0;
        _this._env = 'prod';
        _this._projectName = 'liveme';
        _this._appPackageName = '';
        _this._logger = logger_1.logger.collect;
        _this._logger.debug('signal constructor params', options);
        _this._userId = options.userId;
        _this._roomId = options.roomId;
        if (options.appId !== void 0) {
            _this._appId = options.appId;
        }
        ;
        if (options.projectName !== void 0) {
            _this._projectName = options.projectName;
        }
        ;
        if (options.env !== void 0) {
            _this._env = options.env;
        }
        ;
        if (options.customEdgeUrl !== void 0) {
            _this._customEdgeUrl = options.customEdgeUrl;
        }
        ;
        if (options.appPackageName !== void 0) {
            _this._appPackageName = options.appPackageName;
        }
        return _this;
    }
    SignalConnect.prototype.connect = function (_a) {
        var auth = _a.auth, expire = _a.expire;
        return __awaiter(this, void 0, void 0, function () {
            var _b;
            return __generator(this, function (_c) {
                switch (_c.label) {
                    case 0:
                        if (!!this._currentEdgeUrl) return [3 /*break*/, 3];
                        if (!this._customEdgeUrl) return [3 /*break*/, 1];
                        this._currentEdgeUrl = "wss://" + this._customEdgeUrl + "/octopus";
                        return [3 /*break*/, 3];
                    case 1:
                        // this._edgeUrls = await getEdgeList({
                        //     appId: this._appId,
                        //     roomId: this._roomId,
                        //     userId: this._userId,
                        //     env: this._env,
                        //     projectName: this._projectName
                        // });
                        _b = this;
                        return [4 /*yield*/, serviceAPI_1.getAuthEdgeList({
                                appId: this._appId,
                                auth: auth,
                                expire: expire,
                                env: this._env,
                                projectName: this._projectName
                            })];
                    case 2:
                        // this._edgeUrls = await getEdgeList({
                        //     appId: this._appId,
                        //     roomId: this._roomId,
                        //     userId: this._userId,
                        //     env: this._env,
                        //     projectName: this._projectName
                        // });
                        _b._edgeUrls = _c.sent();
                        this._logger.debug('current edge list', this._edgeUrls);
                        if (!this._edgeUrls || this._edgeUrls.length === 0) {
                            this._logger.error('edgelist is null');
                            this.emit('@disconnect', errorCode_1.errCode.get('nullEdgeList'));
                            return [2 /*return*/];
                        }
                        this._currentEdgeUrl = this._edgeUrls[this._edgeListIndex];
                        this.getIntervalEdgeUrls();
                        _c.label = 3;
                    case 3:
                        this._ws = socket_io_1.default(this._currentEdgeUrl, {
                            transports: ['websocket']
                        });
                        this._logger.debug('current websocket connect edge', this._currentEdgeUrl);
                        this._ws.connect();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 定时取最近的edgelist
     */
    SignalConnect.prototype.getIntervalEdgeUrls = function () {
        var _this = this;
        setInterval(function () { return __awaiter(_this, void 0, void 0, function () {
            var _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _a = this;
                        return [4 /*yield*/, serviceAPI_1.getEdgeList({
                                appId: this._appId,
                                roomId: this._roomId,
                                userId: this._userId,
                                env: this._env,
                                projectName: this._projectName
                            })];
                    case 1:
                        _a._edgeUrls = _b.sent();
                        this._logger.debug('edgelist update', this._edgeUrls);
                        return [2 /*return*/];
                }
            });
        }); }, 60 * 60 * 1000);
    };
    /**
     * 替换使用zego
     */
    SignalConnect.prototype.changeVendor = function () {
        this.emit('@disconnect', errorCode_1.errCode.get('wsDisconnect'));
    };
    return SignalConnect;
}(eventemitter3_1.default));
exports.default = SignalConnect;


/***/ }),

/***/ "./src/web/utils/utils.ts":
/*!********************************!*\
  !*** ./src/web/utils/utils.ts ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.formatAppId = exports.formatKeyToHump = exports.isArray = exports.isMap = exports.isObject = void 0;
function isObject(arg) {
    return Object.prototype.toString.call(arg) === '[object Object]';
}
exports.isObject = isObject;
function isMap(arg) {
    return Object.prototype.toString.call(arg) === '[object Map]';
}
exports.isMap = isMap;
function isArray(arg) {
    return Object.prototype.toString.call(arg) === '[object Array]';
}
exports.isArray = isArray;
function toHump(str, type) {
    if (type == 1) {
        return str.replace(/(^|_)(\w)/g, function (m, $1, $2) { return $2.toUpperCase(); });
    }
    else {
        return str.replace(/\_(\w)/g, function (all, letter) { return letter.toUpperCase(); });
    }
}
function formatKeyToHump(message, appId, targetObj, type) {
    var res = targetObj || {};
    var _loop_1 = function (key) {
        // 删除或补全appid
        if (key.indexOf('room_id') != -1 || key.indexOf('user_id') != -1) {
            if (appId) {
                message[key] = appId + "-" + message[key];
            }
            else {
                if (message[key].match(/-(.{1,})/)) {
                    message[key] = message[key].match(/-(.{1,})/)[1];
                }
            }
        }
        // format key
        if (Array.isArray(message[key])) {
            var newKey_1 = toHump(key, type);
            res[newKey_1] = [];
            message[key].forEach(function (v) {
                if (isObject(v)) {
                    res[newKey_1].push(formatKeyToHump(v));
                }
                else {
                    res[newKey_1].push(v);
                }
            });
        }
        else if (isObject(message[key])) {
            var newKey = toHump(key, type);
            res[newKey] = formatKeyToHump(message[key]);
        }
        else {
            var newKey = toHump(key, type);
            res[newKey] = message[key];
        }
    };
    for (var key in message) {
        _loop_1(key);
    }
    return res;
}
exports.formatKeyToHump = formatKeyToHump;
function formatAppId(message, appId) {
    for (var key in message) {
        if (key.indexOf('room_id') != -1 || key.indexOf('user_id') != -1) {
            if (appId) {
                message[key] = appId + "-" + message[key];
            }
            else {
                if (message[key].match(/-(.{1,})/)) {
                    message[key] = message[key].match(/-(.{1,})/)[1];
                }
            }
        }
        if (Array.isArray(message[key])) {
            message[key].forEach(function (value, key) {
                formatAppId(value, appId);
            });
        }
    }
    return message;
}
exports.formatAppId = formatAppId;


/***/ })

/******/ })["default"];
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL1tuYW1lXS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9bbmFtZV0vLi9jb25maWcudHMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vbm9kZV9tb2R1bGVzL2Jhc2U2NC1qcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9ub2RlX21vZHVsZXMvYm93c2VyL2VzNS5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9ub2RlX21vZHVsZXMvYnVmZmVyL2luZGV4LmpzIiwid2VicGFjazovL1tuYW1lXS8uL25vZGVfbW9kdWxlcy9idWZmZXIvbm9kZV9tb2R1bGVzL2lzYXJyYXkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vbm9kZV9tb2R1bGVzL2V2ZW50ZW1pdHRlcjMvdW1kL2V2ZW50ZW1pdHRlcjMubWluLmpzIiwid2VicGFjazovL1tuYW1lXS8uL25vZGVfbW9kdWxlcy9pZWVlNzU0L2luZGV4LmpzIiwid2VicGFjazovL1tuYW1lXS8uL25vZGVfbW9kdWxlcy9zZHAtdHJhbnNmb3JtL2xpYi9ncmFtbWFyLmpzIiwid2VicGFjazovL1tuYW1lXS8uL25vZGVfbW9kdWxlcy9zZHAtdHJhbnNmb3JtL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9ub2RlX21vZHVsZXMvc2RwLXRyYW5zZm9ybS9saWIvcGFyc2VyLmpzIiwid2VicGFjazovL1tuYW1lXS8uL25vZGVfbW9kdWxlcy9zZHAtdHJhbnNmb3JtL2xpYi93cml0ZXIuanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1jbGllbnQvZGlzdC9zb2NrZXQuaW8uc2xpbS5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovL1tuYW1lXS8uL3NyYy9PY3RvcHVzUlRDLnRzIiwid2VicGFjazovL1tuYW1lXS8uL3NyYy9jb21tb24vZGVmYXVsdENvbmZpZy50cyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvY29tbW9uL2Vycm9yQ29kZS50cyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvd2ViL09jdG9wdXNSVEMtQ29yZS50cyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvd2ViL2NvbmZpZy9kZWZhdWx0TWVkaWFDb25maWcudHMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vc3JjL3dlYi9kZXZpY2UvRGV2aWNlLnRzIiwid2VicGFjazovL1tuYW1lXS8uL3NyYy93ZWIvZGV2aWNlL01lZGlhRGV2aWNlSW5mb0NhdGVnb3J5LnRzIiwid2VicGFjazovL1tuYW1lXS8uL3NyYy93ZWIvZGV2aWNlL2hhbmRsZXJzL0Nocm9tZTU4LnRzIiwid2VicGFjazovL1tuYW1lXS8uL3NyYy93ZWIvZGV2aWNlL2hhbmRsZXJzL0Nocm9tZTY4LnRzIiwid2VicGFjazovL1tuYW1lXS8uL3NyYy93ZWIvZGV2aWNlL2hhbmRsZXJzL0Nocm9tZTcwLnRzIiwid2VicGFjazovL1tuYW1lXS8uL3NyYy93ZWIvZGV2aWNlL2hhbmRsZXJzL0VkZ2U4MC50cyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvd2ViL2RldmljZS9oYW5kbGVycy9GaXJlZm94NjAudHMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vc3JjL3dlYi9kZXZpY2UvaGFuZGxlcnMvSGFuZGxlckludGVyZmFjZS50cyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvd2ViL2RldmljZS9oYW5kbGVycy9PcGVyYTQ1LnRzIiwid2VicGFjazovL1tuYW1lXS8uL3NyYy93ZWIvZGV2aWNlL2hhbmRsZXJzL09wZXJhNTIudHMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vc3JjL3dlYi9kZXZpY2UvaGFuZGxlcnMvT3BlcmE1Ni50cyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvd2ViL2RldmljZS9oYW5kbGVycy9RUS50cyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvd2ViL2RldmljZS9oYW5kbGVycy9TYWZhcmkxMS50cyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvd2ViL2RldmljZS9oYW5kbGVycy9TYWZhcmkxMi50cyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvd2ViL2RldmljZS9oYW5kbGVycy9XZUNoYXQ3MC50cyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvd2ViL2RldmljZS9oYW5kbGVycy9oYW5kbGVyLnRzIiwid2VicGFjazovL1tuYW1lXS8uL3NyYy93ZWIvZGV2aWNlL2hhbmRsZXJzL3N0YXRzL1N0YXRpc3RpY3MudHMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vc3JjL3dlYi9sb2cvTG9nLnRzIiwid2VicGFjazovL1tuYW1lXS8uL3NyYy93ZWIvbG9nL2xvZ2dlci50cyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvd2ViL21lZGlhL01lZGlhRGV2aWNlQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvd2ViL21lZGlhL1JlY29yZC50cyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvd2ViL3NlcnZpY2Uvc2VydmljZUFQSS50cyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvd2ViL3NpZ25hbC9JbmRleC50cyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvd2ViL3NpZ25hbC9TaWduYWxIYW5kbGluZy50cyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvd2ViL3NpZ25hbC9zaWduYWxDb25uZWN0LnRzIiwid2VicGFjazovL1tuYW1lXS8uL3NyYy93ZWIvdXRpbHMvdXRpbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELE87UUNWQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTs7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QTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixVQUFVO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixZQUFZO0FBQzdCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUEsdUNBQXVDLFNBQVM7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSxpQkFBaUI7QUFDaEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLGlCQUFpQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsU0FBUztBQUMxQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFNBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFNBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsRUFBRTtBQUNsRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxpQkFBaUIsU0FBUztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZUFBZTtBQUN2QztBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSx3QkFBd0IsUUFBUTtBQUNoQztBQUNBLHFCQUFxQixlQUFlO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixZQUFZO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxxQkFBcUIsU0FBUztBQUM5QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEscUJBQXFCLFNBQVM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EscUJBQXFCLFNBQVM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGtCQUFrQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsbUJBQW1CLGNBQWM7QUFDakM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVEQUF1RCxPQUFPO0FBQzlEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1REFBdUQsT0FBTztBQUM5RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrQkFBa0I7QUFDbEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxxQkFBcUIsUUFBUTtBQUM3QjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsbUJBQW1CLFNBQVM7QUFDNUI7QUFDQTtBQUNBLEdBQUc7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QUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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TyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUU7WUFDOUQsSUFBSSxLQUFLLEVBQUU7Z0JBQ1AsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFNLEtBQUssU0FBSSxPQUFPLENBQUMsR0FBRyxDQUFHLENBQUM7YUFDN0M7aUJBQU07Z0JBQ0gsSUFBSSxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxFQUFFO29CQUNoQyxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztpQkFDcEQ7YUFDSjtTQUNKO1FBQ0QsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFO1lBQzdCLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUUsVUFBQyxLQUFVLEVBQUUsR0FBVztnQkFDMUMsV0FBVyxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztZQUM5QixDQUFDLENBQUM7U0FDTDtLQUNKO0lBQ0QsT0FBTyxPQUFPLENBQUM7QUFDbkIsQ0FBQztBQWxCRCxrQ0FrQkMiLCJmaWxlIjoiT2N0b3B1c1JUQy0yLjAuMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIk9jdG9wdXNSVENcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiT2N0b3B1c1JUQ1wiXSA9IGZhY3RvcnkoKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBcIi4vc3JjL09jdG9wdXNSVEMudHNcIik7XG4iLCIvKlxuICogQERhdGU6IDIwMjAtMDctMTAgMTc6NDE6MzJcbiAqIEBMYXN0RWRpdG9yczogR1dLXG4gKiBATGFzdEVkaXRUaW1lOiAyMDIwLTA3LTE3IDEzOjMxOjA1XG4gKiBARmlsZVBhdGg6IC9XZWJfU0RLL3ZlcnNpb24uY29uZmlnLmpzXG4gKi8gXG5leHBvcnQgY29uc3QgdmVyc2lvbjogc3RyaW5nID0gXCIyLjAuMlwiXG5leHBvcnQgY29uc3QgcHJvamVjdE5hbWU6IHN0cmluZyA9IFwiXCJcbmV4cG9ydCBjb25zdCBFTlY6IHN0cmluZyA9IFwiZGV2ZWxvcG1lbnRcIlxuIiwiJ3VzZSBzdHJpY3QnXG5cbmV4cG9ydHMuYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGhcbmV4cG9ydHMudG9CeXRlQXJyYXkgPSB0b0J5dGVBcnJheVxuZXhwb3J0cy5mcm9tQnl0ZUFycmF5ID0gZnJvbUJ5dGVBcnJheVxuXG52YXIgbG9va3VwID0gW11cbnZhciByZXZMb29rdXAgPSBbXVxudmFyIEFyciA9IHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJyA/IFVpbnQ4QXJyYXkgOiBBcnJheVxuXG52YXIgY29kZSA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvJ1xuZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNvZGUubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgbG9va3VwW2ldID0gY29kZVtpXVxuICByZXZMb29rdXBbY29kZS5jaGFyQ29kZUF0KGkpXSA9IGlcbn1cblxuLy8gU3VwcG9ydCBkZWNvZGluZyBVUkwtc2FmZSBiYXNlNjQgc3RyaW5ncywgYXMgTm9kZS5qcyBkb2VzLlxuLy8gU2VlOiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CYXNlNjQjVVJMX2FwcGxpY2F0aW9uc1xucmV2TG9va3VwWyctJy5jaGFyQ29kZUF0KDApXSA9IDYyXG5yZXZMb29rdXBbJ18nLmNoYXJDb2RlQXQoMCldID0gNjNcblxuZnVuY3Rpb24gZ2V0TGVucyAoYjY0KSB7XG4gIHZhciBsZW4gPSBiNjQubGVuZ3RoXG5cbiAgaWYgKGxlbiAlIDQgPiAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHN0cmluZy4gTGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0JylcbiAgfVxuXG4gIC8vIFRyaW0gb2ZmIGV4dHJhIGJ5dGVzIGFmdGVyIHBsYWNlaG9sZGVyIGJ5dGVzIGFyZSBmb3VuZFxuICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9iZWF0Z2FtbWl0L2Jhc2U2NC1qcy9pc3N1ZXMvNDJcbiAgdmFyIHZhbGlkTGVuID0gYjY0LmluZGV4T2YoJz0nKVxuICBpZiAodmFsaWRMZW4gPT09IC0xKSB2YWxpZExlbiA9IGxlblxuXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSB2YWxpZExlbiA9PT0gbGVuXG4gICAgPyAwXG4gICAgOiA0IC0gKHZhbGlkTGVuICUgNClcblxuICByZXR1cm4gW3ZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW5dXG59XG5cbi8vIGJhc2U2NCBpcyA0LzMgKyB1cCB0byB0d28gY2hhcmFjdGVycyBvZiB0aGUgb3JpZ2luYWwgZGF0YVxuZnVuY3Rpb24gYnl0ZUxlbmd0aCAoYjY0KSB7XG4gIHZhciBsZW5zID0gZ2V0TGVucyhiNjQpXG4gIHZhciB2YWxpZExlbiA9IGxlbnNbMF1cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IGxlbnNbMV1cbiAgcmV0dXJuICgodmFsaWRMZW4gKyBwbGFjZUhvbGRlcnNMZW4pICogMyAvIDQpIC0gcGxhY2VIb2xkZXJzTGVuXG59XG5cbmZ1bmN0aW9uIF9ieXRlTGVuZ3RoIChiNjQsIHZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW4pIHtcbiAgcmV0dXJuICgodmFsaWRMZW4gKyBwbGFjZUhvbGRlcnNMZW4pICogMyAvIDQpIC0gcGxhY2VIb2xkZXJzTGVuXG59XG5cbmZ1bmN0aW9uIHRvQnl0ZUFycmF5IChiNjQpIHtcbiAgdmFyIHRtcFxuICB2YXIgbGVucyA9IGdldExlbnMoYjY0KVxuICB2YXIgdmFsaWRMZW4gPSBsZW5zWzBdXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSBsZW5zWzFdXG5cbiAgdmFyIGFyciA9IG5ldyBBcnIoX2J5dGVMZW5ndGgoYjY0LCB2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuKSlcblxuICB2YXIgY3VyQnl0ZSA9IDBcblxuICAvLyBpZiB0aGVyZSBhcmUgcGxhY2Vob2xkZXJzLCBvbmx5IGdldCB1cCB0byB0aGUgbGFzdCBjb21wbGV0ZSA0IGNoYXJzXG4gIHZhciBsZW4gPSBwbGFjZUhvbGRlcnNMZW4gPiAwXG4gICAgPyB2YWxpZExlbiAtIDRcbiAgICA6IHZhbGlkTGVuXG5cbiAgdmFyIGlcbiAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDE4KSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPDwgMTIpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDIpXSA8PCA2KSB8XG4gICAgICByZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDMpXVxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiAxNikgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDgpICYgMHhGRlxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgaWYgKHBsYWNlSG9sZGVyc0xlbiA9PT0gMikge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAyKSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPj4gNClcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIGlmIChwbGFjZUhvbGRlcnNMZW4gPT09IDEpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTApIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCA0KSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPj4gMilcbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gOCkgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICByZXR1cm4gYXJyXG59XG5cbmZ1bmN0aW9uIHRyaXBsZXRUb0Jhc2U2NCAobnVtKSB7XG4gIHJldHVybiBsb29rdXBbbnVtID4+IDE4ICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gPj4gMTIgJiAweDNGXSArXG4gICAgbG9va3VwW251bSA+PiA2ICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gJiAweDNGXVxufVxuXG5mdW5jdGlvbiBlbmNvZGVDaHVuayAodWludDgsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHRtcFxuICB2YXIgb3V0cHV0ID0gW11cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpICs9IDMpIHtcbiAgICB0bXAgPVxuICAgICAgKCh1aW50OFtpXSA8PCAxNikgJiAweEZGMDAwMCkgK1xuICAgICAgKCh1aW50OFtpICsgMV0gPDwgOCkgJiAweEZGMDApICtcbiAgICAgICh1aW50OFtpICsgMl0gJiAweEZGKVxuICAgIG91dHB1dC5wdXNoKHRyaXBsZXRUb0Jhc2U2NCh0bXApKVxuICB9XG4gIHJldHVybiBvdXRwdXQuam9pbignJylcbn1cblxuZnVuY3Rpb24gZnJvbUJ5dGVBcnJheSAodWludDgpIHtcbiAgdmFyIHRtcFxuICB2YXIgbGVuID0gdWludDgubGVuZ3RoXG4gIHZhciBleHRyYUJ5dGVzID0gbGVuICUgMyAvLyBpZiB3ZSBoYXZlIDEgYnl0ZSBsZWZ0LCBwYWQgMiBieXRlc1xuICB2YXIgcGFydHMgPSBbXVxuICB2YXIgbWF4Q2h1bmtMZW5ndGggPSAxNjM4MyAvLyBtdXN0IGJlIG11bHRpcGxlIG9mIDNcblxuICAvLyBnbyB0aHJvdWdoIHRoZSBhcnJheSBldmVyeSB0aHJlZSBieXRlcywgd2UnbGwgZGVhbCB3aXRoIHRyYWlsaW5nIHN0dWZmIGxhdGVyXG4gIGZvciAodmFyIGkgPSAwLCBsZW4yID0gbGVuIC0gZXh0cmFCeXRlczsgaSA8IGxlbjI7IGkgKz0gbWF4Q2h1bmtMZW5ndGgpIHtcbiAgICBwYXJ0cy5wdXNoKGVuY29kZUNodW5rKHVpbnQ4LCBpLCAoaSArIG1heENodW5rTGVuZ3RoKSA+IGxlbjIgPyBsZW4yIDogKGkgKyBtYXhDaHVua0xlbmd0aCkpKVxuICB9XG5cbiAgLy8gcGFkIHRoZSBlbmQgd2l0aCB6ZXJvcywgYnV0IG1ha2Ugc3VyZSB0byBub3QgZm9yZ2V0IHRoZSBleHRyYSBieXRlc1xuICBpZiAoZXh0cmFCeXRlcyA9PT0gMSkge1xuICAgIHRtcCA9IHVpbnQ4W2xlbiAtIDFdXG4gICAgcGFydHMucHVzaChcbiAgICAgIGxvb2t1cFt0bXAgPj4gMl0gK1xuICAgICAgbG9va3VwWyh0bXAgPDwgNCkgJiAweDNGXSArXG4gICAgICAnPT0nXG4gICAgKVxuICB9IGVsc2UgaWYgKGV4dHJhQnl0ZXMgPT09IDIpIHtcbiAgICB0bXAgPSAodWludDhbbGVuIC0gMl0gPDwgOCkgKyB1aW50OFtsZW4gLSAxXVxuICAgIHBhcnRzLnB1c2goXG4gICAgICBsb29rdXBbdG1wID4+IDEwXSArXG4gICAgICBsb29rdXBbKHRtcCA+PiA0KSAmIDB4M0ZdICtcbiAgICAgIGxvb2t1cFsodG1wIDw8IDIpICYgMHgzRl0gK1xuICAgICAgJz0nXG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIHBhcnRzLmpvaW4oJycpXG59XG4iLCIhZnVuY3Rpb24oZSx0KXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSx0KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLmJvd3Nlcj10KCk6ZS5ib3dzZXI9dCgpfSh0aGlzLChmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD17fTtmdW5jdGlvbiByKG4pe2lmKHRbbl0pcmV0dXJuIHRbbl0uZXhwb3J0czt2YXIgaT10W25dPXtpOm4sbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gZVtuXS5jYWxsKGkuZXhwb3J0cyxpLGkuZXhwb3J0cyxyKSxpLmw9ITAsaS5leHBvcnRzfXJldHVybiByLm09ZSxyLmM9dCxyLmQ9ZnVuY3Rpb24oZSx0LG4pe3IubyhlLHQpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpufSl9LHIucj1mdW5jdGlvbihlKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxyLnQ9ZnVuY3Rpb24oZSx0KXtpZigxJnQmJihlPXIoZSkpLDgmdClyZXR1cm4gZTtpZig0JnQmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIG49T2JqZWN0LmNyZWF0ZShudWxsKTtpZihyLnIobiksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6ZX0pLDImdCYmXCJzdHJpbmdcIiE9dHlwZW9mIGUpZm9yKHZhciBpIGluIGUpci5kKG4saSxmdW5jdGlvbih0KXtyZXR1cm4gZVt0XX0uYmluZChudWxsLGkpKTtyZXR1cm4gbn0sci5uPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiByLmQodCxcImFcIix0KSx0fSxyLm89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LHIucD1cIlwiLHIoci5zPTkwKX0oezE3OmZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PXZvaWQgMDt2YXIgbj1yKDE4KSxpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5nZXRGaXJzdE1hdGNoPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5tYXRjaChlKTtyZXR1cm4gciYmci5sZW5ndGg+MCYmclsxXXx8XCJcIn0sZS5nZXRTZWNvbmRNYXRjaD1mdW5jdGlvbihlLHQpe3ZhciByPXQubWF0Y2goZSk7cmV0dXJuIHImJnIubGVuZ3RoPjEmJnJbMl18fFwiXCJ9LGUubWF0Y2hBbmRSZXR1cm5Db25zdD1mdW5jdGlvbihlLHQscil7aWYoZS50ZXN0KHQpKXJldHVybiByfSxlLmdldFdpbmRvd3NWZXJzaW9uTmFtZT1mdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZVwiTlRcIjpyZXR1cm5cIk5UXCI7Y2FzZVwiWFBcIjpyZXR1cm5cIlhQXCI7Y2FzZVwiTlQgNS4wXCI6cmV0dXJuXCIyMDAwXCI7Y2FzZVwiTlQgNS4xXCI6cmV0dXJuXCJYUFwiO2Nhc2VcIk5UIDUuMlwiOnJldHVyblwiMjAwM1wiO2Nhc2VcIk5UIDYuMFwiOnJldHVyblwiVmlzdGFcIjtjYXNlXCJOVCA2LjFcIjpyZXR1cm5cIjdcIjtjYXNlXCJOVCA2LjJcIjpyZXR1cm5cIjhcIjtjYXNlXCJOVCA2LjNcIjpyZXR1cm5cIjguMVwiO2Nhc2VcIk5UIDEwLjBcIjpyZXR1cm5cIjEwXCI7ZGVmYXVsdDpyZXR1cm59fSxlLmdldE1hY09TVmVyc2lvbk5hbWU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zcGxpdChcIi5cIikuc3BsaWNlKDAsMikubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gcGFyc2VJbnQoZSwxMCl8fDB9KSk7aWYodC5wdXNoKDApLDEwPT09dFswXSlzd2l0Y2godFsxXSl7Y2FzZSA1OnJldHVyblwiTGVvcGFyZFwiO2Nhc2UgNjpyZXR1cm5cIlNub3cgTGVvcGFyZFwiO2Nhc2UgNzpyZXR1cm5cIkxpb25cIjtjYXNlIDg6cmV0dXJuXCJNb3VudGFpbiBMaW9uXCI7Y2FzZSA5OnJldHVyblwiTWF2ZXJpY2tzXCI7Y2FzZSAxMDpyZXR1cm5cIllvc2VtaXRlXCI7Y2FzZSAxMTpyZXR1cm5cIkVsIENhcGl0YW5cIjtjYXNlIDEyOnJldHVyblwiU2llcnJhXCI7Y2FzZSAxMzpyZXR1cm5cIkhpZ2ggU2llcnJhXCI7Y2FzZSAxNDpyZXR1cm5cIk1vamF2ZVwiO2Nhc2UgMTU6cmV0dXJuXCJDYXRhbGluYVwiO2RlZmF1bHQ6cmV0dXJufX0sZS5nZXRBbmRyb2lkVmVyc2lvbk5hbWU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zcGxpdChcIi5cIikuc3BsaWNlKDAsMikubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gcGFyc2VJbnQoZSwxMCl8fDB9KSk7aWYodC5wdXNoKDApLCEoMT09PXRbMF0mJnRbMV08NSkpcmV0dXJuIDE9PT10WzBdJiZ0WzFdPDY/XCJDdXBjYWtlXCI6MT09PXRbMF0mJnRbMV0+PTY/XCJEb251dFwiOjI9PT10WzBdJiZ0WzFdPDI/XCJFY2xhaXJcIjoyPT09dFswXSYmMj09PXRbMV0/XCJGcm95b1wiOjI9PT10WzBdJiZ0WzFdPjI/XCJHaW5nZXJicmVhZFwiOjM9PT10WzBdP1wiSG9uZXljb21iXCI6ND09PXRbMF0mJnRbMV08MT9cIkljZSBDcmVhbSBTYW5kd2ljaFwiOjQ9PT10WzBdJiZ0WzFdPDQ/XCJKZWxseSBCZWFuXCI6ND09PXRbMF0mJnRbMV0+PTQ/XCJLaXRLYXRcIjo1PT09dFswXT9cIkxvbGxpcG9wXCI6Nj09PXRbMF0/XCJNYXJzaG1hbGxvd1wiOjc9PT10WzBdP1wiTm91Z2F0XCI6OD09PXRbMF0/XCJPcmVvXCI6OT09PXRbMF0/XCJQaWVcIjp2b2lkIDB9LGUuZ2V0VmVyc2lvblByZWNpc2lvbj1mdW5jdGlvbihlKXtyZXR1cm4gZS5zcGxpdChcIi5cIikubGVuZ3RofSxlLmNvbXBhcmVWZXJzaW9ucz1mdW5jdGlvbih0LHIsbil7dm9pZCAwPT09biYmKG49ITEpO3ZhciBpPWUuZ2V0VmVyc2lvblByZWNpc2lvbih0KSxzPWUuZ2V0VmVyc2lvblByZWNpc2lvbihyKSxhPU1hdGgubWF4KGkscyksbz0wLHU9ZS5tYXAoW3Qscl0sKGZ1bmN0aW9uKHQpe3ZhciByPWEtZS5nZXRWZXJzaW9uUHJlY2lzaW9uKHQpLG49dCtuZXcgQXJyYXkocisxKS5qb2luKFwiLjBcIik7cmV0dXJuIGUubWFwKG4uc3BsaXQoXCIuXCIpLChmdW5jdGlvbihlKXtyZXR1cm4gbmV3IEFycmF5KDIwLWUubGVuZ3RoKS5qb2luKFwiMFwiKStlfSkpLnJldmVyc2UoKX0pKTtmb3IobiYmKG89YS1NYXRoLm1pbihpLHMpKSxhLT0xO2E+PW87KXtpZih1WzBdW2FdPnVbMV1bYV0pcmV0dXJuIDE7aWYodVswXVthXT09PXVbMV1bYV0pe2lmKGE9PT1vKXJldHVybiAwO2EtPTF9ZWxzZSBpZih1WzBdW2FdPHVbMV1bYV0pcmV0dXJuLTF9fSxlLm1hcD1mdW5jdGlvbihlLHQpe3ZhciByLG49W107aWYoQXJyYXkucHJvdG90eXBlLm1hcClyZXR1cm4gQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKGUsdCk7Zm9yKHI9MDtyPGUubGVuZ3RoO3IrPTEpbi5wdXNoKHQoZVtyXSkpO3JldHVybiBufSxlLmZpbmQ9ZnVuY3Rpb24oZSx0KXt2YXIgcixuO2lmKEFycmF5LnByb3RvdHlwZS5maW5kKXJldHVybiBBcnJheS5wcm90b3R5cGUuZmluZC5jYWxsKGUsdCk7Zm9yKHI9MCxuPWUubGVuZ3RoO3I8bjtyKz0xKXt2YXIgaT1lW3JdO2lmKHQoaSxyKSlyZXR1cm4gaX19LGUuYXNzaWduPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyLG49ZSxpPWFyZ3VtZW50cy5sZW5ndGgscz1uZXcgQXJyYXkoaT4xP2ktMTowKSxhPTE7YTxpO2ErKylzW2EtMV09YXJndW1lbnRzW2FdO2lmKE9iamVjdC5hc3NpZ24pcmV0dXJuIE9iamVjdC5hc3NpZ24uYXBwbHkoT2JqZWN0LFtlXS5jb25jYXQocykpO3ZhciBvPWZ1bmN0aW9uKCl7dmFyIGU9c1t0XTtcIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWUmJk9iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKHQpe25bdF09ZVt0XX0pKX07Zm9yKHQ9MCxyPXMubGVuZ3RoO3Q8cjt0Kz0xKW8oKTtyZXR1cm4gZX0sZS5nZXRCcm93c2VyQWxpYXM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uQlJPV1NFUl9BTElBU0VTX01BUFtlXX0sZS5nZXRCcm93c2VyVHlwZUJ5QWxpYXM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uQlJPV1NFUl9NQVBbZV18fFwiXCJ9LGV9KCk7dC5kZWZhdWx0PWksZS5leHBvcnRzPXQuZGVmYXVsdH0sMTg6ZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3QuX19lc01vZHVsZT0hMCx0LkVOR0lORV9NQVA9dC5PU19NQVA9dC5QTEFURk9STVNfTUFQPXQuQlJPV1NFUl9NQVA9dC5CUk9XU0VSX0FMSUFTRVNfTUFQPXZvaWQgMDt0LkJST1dTRVJfQUxJQVNFU19NQVA9e1wiQW1hem9uIFNpbGtcIjpcImFtYXpvbl9zaWxrXCIsXCJBbmRyb2lkIEJyb3dzZXJcIjpcImFuZHJvaWRcIixCYWRhOlwiYmFkYVwiLEJsYWNrQmVycnk6XCJibGFja2JlcnJ5XCIsQ2hyb21lOlwiY2hyb21lXCIsQ2hyb21pdW06XCJjaHJvbWl1bVwiLEVsZWN0cm9uOlwiZWxlY3Ryb25cIixFcGlwaGFueTpcImVwaXBoYW55XCIsRmlyZWZveDpcImZpcmVmb3hcIixGb2N1czpcImZvY3VzXCIsR2VuZXJpYzpcImdlbmVyaWNcIixcIkdvb2dsZSBTZWFyY2hcIjpcImdvb2dsZV9zZWFyY2hcIixHb29nbGVib3Q6XCJnb29nbGVib3RcIixcIkludGVybmV0IEV4cGxvcmVyXCI6XCJpZVwiLFwiSy1NZWxlb25cIjpcImtfbWVsZW9uXCIsTWF4dGhvbjpcIm1heHRob25cIixcIk1pY3Jvc29mdCBFZGdlXCI6XCJlZGdlXCIsXCJNWiBCcm93c2VyXCI6XCJtelwiLFwiTkFWRVIgV2hhbGUgQnJvd3NlclwiOlwibmF2ZXJcIixPcGVyYTpcIm9wZXJhXCIsXCJPcGVyYSBDb2FzdFwiOlwib3BlcmFfY29hc3RcIixQaGFudG9tSlM6XCJwaGFudG9tanNcIixQdWZmaW46XCJwdWZmaW5cIixRdXBaaWxsYTpcInF1cHppbGxhXCIsUVE6XCJxcVwiLFFRTGl0ZTpcInFxbGl0ZVwiLFNhZmFyaTpcInNhZmFyaVwiLFNhaWxmaXNoOlwic2FpbGZpc2hcIixcIlNhbXN1bmcgSW50ZXJuZXQgZm9yIEFuZHJvaWRcIjpcInNhbXN1bmdfaW50ZXJuZXRcIixTZWFNb25rZXk6XCJzZWFtb25rZXlcIixTbGVpcG5pcjpcInNsZWlwbmlyXCIsU3dpbmc6XCJzd2luZ1wiLFRpemVuOlwidGl6ZW5cIixcIlVDIEJyb3dzZXJcIjpcInVjXCIsVml2YWxkaTpcInZpdmFsZGlcIixcIldlYk9TIEJyb3dzZXJcIjpcIndlYm9zXCIsV2VDaGF0Olwid2VjaGF0XCIsXCJZYW5kZXggQnJvd3NlclwiOlwieWFuZGV4XCIsUm9rdTpcInJva3VcIn07dC5CUk9XU0VSX01BUD17YW1hem9uX3NpbGs6XCJBbWF6b24gU2lsa1wiLGFuZHJvaWQ6XCJBbmRyb2lkIEJyb3dzZXJcIixiYWRhOlwiQmFkYVwiLGJsYWNrYmVycnk6XCJCbGFja0JlcnJ5XCIsY2hyb21lOlwiQ2hyb21lXCIsY2hyb21pdW06XCJDaHJvbWl1bVwiLGVsZWN0cm9uOlwiRWxlY3Ryb25cIixlcGlwaGFueTpcIkVwaXBoYW55XCIsZmlyZWZveDpcIkZpcmVmb3hcIixmb2N1czpcIkZvY3VzXCIsZ2VuZXJpYzpcIkdlbmVyaWNcIixnb29nbGVib3Q6XCJHb29nbGVib3RcIixnb29nbGVfc2VhcmNoOlwiR29vZ2xlIFNlYXJjaFwiLGllOlwiSW50ZXJuZXQgRXhwbG9yZXJcIixrX21lbGVvbjpcIkstTWVsZW9uXCIsbWF4dGhvbjpcIk1heHRob25cIixlZGdlOlwiTWljcm9zb2Z0IEVkZ2VcIixtejpcIk1aIEJyb3dzZXJcIixuYXZlcjpcIk5BVkVSIFdoYWxlIEJyb3dzZXJcIixvcGVyYTpcIk9wZXJhXCIsb3BlcmFfY29hc3Q6XCJPcGVyYSBDb2FzdFwiLHBoYW50b21qczpcIlBoYW50b21KU1wiLHB1ZmZpbjpcIlB1ZmZpblwiLHF1cHppbGxhOlwiUXVwWmlsbGFcIixxcTpcIlFRIEJyb3dzZXJcIixxcWxpdGU6XCJRUSBCcm93c2VyIExpdGVcIixzYWZhcmk6XCJTYWZhcmlcIixzYWlsZmlzaDpcIlNhaWxmaXNoXCIsc2Ftc3VuZ19pbnRlcm5ldDpcIlNhbXN1bmcgSW50ZXJuZXQgZm9yIEFuZHJvaWRcIixzZWFtb25rZXk6XCJTZWFNb25rZXlcIixzbGVpcG5pcjpcIlNsZWlwbmlyXCIsc3dpbmc6XCJTd2luZ1wiLHRpemVuOlwiVGl6ZW5cIix1YzpcIlVDIEJyb3dzZXJcIix2aXZhbGRpOlwiVml2YWxkaVwiLHdlYm9zOlwiV2ViT1MgQnJvd3NlclwiLHdlY2hhdDpcIldlQ2hhdFwiLHlhbmRleDpcIllhbmRleCBCcm93c2VyXCJ9O3QuUExBVEZPUk1TX01BUD17dGFibGV0OlwidGFibGV0XCIsbW9iaWxlOlwibW9iaWxlXCIsZGVza3RvcDpcImRlc2t0b3BcIix0djpcInR2XCJ9O3QuT1NfTUFQPXtXaW5kb3dzUGhvbmU6XCJXaW5kb3dzIFBob25lXCIsV2luZG93czpcIldpbmRvd3NcIixNYWNPUzpcIm1hY09TXCIsaU9TOlwiaU9TXCIsQW5kcm9pZDpcIkFuZHJvaWRcIixXZWJPUzpcIldlYk9TXCIsQmxhY2tCZXJyeTpcIkJsYWNrQmVycnlcIixCYWRhOlwiQmFkYVwiLFRpemVuOlwiVGl6ZW5cIixMaW51eDpcIkxpbnV4XCIsQ2hyb21lT1M6XCJDaHJvbWUgT1NcIixQbGF5U3RhdGlvbjQ6XCJQbGF5U3RhdGlvbiA0XCIsUm9rdTpcIlJva3VcIn07dC5FTkdJTkVfTUFQPXtFZGdlSFRNTDpcIkVkZ2VIVE1MXCIsQmxpbms6XCJCbGlua1wiLFRyaWRlbnQ6XCJUcmlkZW50XCIsUHJlc3RvOlwiUHJlc3RvXCIsR2Vja286XCJHZWNrb1wiLFdlYktpdDpcIldlYktpdFwifX0sOTA6ZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3QuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9dm9pZCAwO3ZhciBuLGk9KG49cig5MSkpJiZuLl9fZXNNb2R1bGU/bjp7ZGVmYXVsdDpufSxzPXIoMTgpO2Z1bmN0aW9uIGEoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fXZhciBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe312YXIgdCxyLG47cmV0dXJuIGUuZ2V0UGFyc2VyPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09dCYmKHQ9ITEpLFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihcIlVzZXJBZ2VudCBzaG91bGQgYmUgYSBzdHJpbmdcIik7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZSx0KX0sZS5wYXJzZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkuZGVmYXVsdChlKS5nZXRSZXN1bHQoKX0sdD1lLG49W3trZXk6XCJCUk9XU0VSX01BUFwiLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkJST1dTRVJfTUFQfX0se2tleTpcIkVOR0lORV9NQVBcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5FTkdJTkVfTUFQfX0se2tleTpcIk9TX01BUFwiLGdldDpmdW5jdGlvbigpe3JldHVybiBzLk9TX01BUH19LHtrZXk6XCJQTEFURk9STVNfTUFQXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuUExBVEZPUk1TX01BUH19XSwocj1udWxsKSYmYSh0LnByb3RvdHlwZSxyKSxuJiZhKHQsbiksZX0oKTt0LmRlZmF1bHQ9byxlLmV4cG9ydHM9dC5kZWZhdWx0fSw5MTpmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD12b2lkIDA7dmFyIG49dShyKDkyKSksaT11KHIoOTMpKSxzPXUocig5NCkpLGE9dShyKDk1KSksbz11KHIoMTcpKTtmdW5jdGlvbiB1KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgZD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtpZih2b2lkIDA9PT10JiYodD0hMSksbnVsbD09ZXx8XCJcIj09PWUpdGhyb3cgbmV3IEVycm9yKFwiVXNlckFnZW50IHBhcmFtZXRlciBjYW4ndCBiZSBlbXB0eVwiKTt0aGlzLl91YT1lLHRoaXMucGFyc2VkUmVzdWx0PXt9LCEwIT09dCYmdGhpcy5wYXJzZSgpfXZhciB0PWUucHJvdG90eXBlO3JldHVybiB0LmdldFVBPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VhfSx0LnRlc3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGUudGVzdCh0aGlzLl91YSl9LHQucGFyc2VCcm93c2VyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnBhcnNlZFJlc3VsdC5icm93c2VyPXt9O3ZhciB0PW8uZGVmYXVsdC5maW5kKG4uZGVmYXVsdCwoZnVuY3Rpb24odCl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdC50ZXN0KXJldHVybiB0LnRlc3QoZSk7aWYodC50ZXN0IGluc3RhbmNlb2YgQXJyYXkpcmV0dXJuIHQudGVzdC5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4gZS50ZXN0KHQpfSkpO3Rocm93IG5ldyBFcnJvcihcIkJyb3dzZXIncyB0ZXN0IGZ1bmN0aW9uIGlzIG5vdCB2YWxpZFwiKX0pKTtyZXR1cm4gdCYmKHRoaXMucGFyc2VkUmVzdWx0LmJyb3dzZXI9dC5kZXNjcmliZSh0aGlzLmdldFVBKCkpKSx0aGlzLnBhcnNlZFJlc3VsdC5icm93c2VyfSx0LmdldEJyb3dzZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJzZWRSZXN1bHQuYnJvd3Nlcj90aGlzLnBhcnNlZFJlc3VsdC5icm93c2VyOnRoaXMucGFyc2VCcm93c2VyKCl9LHQuZ2V0QnJvd3Nlck5hbWU9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/U3RyaW5nKHRoaXMuZ2V0QnJvd3NlcigpLm5hbWUpLnRvTG93ZXJDYXNlKCl8fFwiXCI6dGhpcy5nZXRCcm93c2VyKCkubmFtZXx8XCJcIn0sdC5nZXRCcm93c2VyVmVyc2lvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEJyb3dzZXIoKS52ZXJzaW9ufSx0LmdldE9TPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyc2VkUmVzdWx0Lm9zP3RoaXMucGFyc2VkUmVzdWx0Lm9zOnRoaXMucGFyc2VPUygpfSx0LnBhcnNlT1M9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMucGFyc2VkUmVzdWx0Lm9zPXt9O3ZhciB0PW8uZGVmYXVsdC5maW5kKGkuZGVmYXVsdCwoZnVuY3Rpb24odCl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdC50ZXN0KXJldHVybiB0LnRlc3QoZSk7aWYodC50ZXN0IGluc3RhbmNlb2YgQXJyYXkpcmV0dXJuIHQudGVzdC5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4gZS50ZXN0KHQpfSkpO3Rocm93IG5ldyBFcnJvcihcIkJyb3dzZXIncyB0ZXN0IGZ1bmN0aW9uIGlzIG5vdCB2YWxpZFwiKX0pKTtyZXR1cm4gdCYmKHRoaXMucGFyc2VkUmVzdWx0Lm9zPXQuZGVzY3JpYmUodGhpcy5nZXRVQSgpKSksdGhpcy5wYXJzZWRSZXN1bHQub3N9LHQuZ2V0T1NOYW1lPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0T1MoKS5uYW1lO3JldHVybiBlP1N0cmluZyh0KS50b0xvd2VyQ2FzZSgpfHxcIlwiOnR8fFwiXCJ9LHQuZ2V0T1NWZXJzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0T1MoKS52ZXJzaW9ufSx0LmdldFBsYXRmb3JtPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyc2VkUmVzdWx0LnBsYXRmb3JtP3RoaXMucGFyc2VkUmVzdWx0LnBsYXRmb3JtOnRoaXMucGFyc2VQbGF0Zm9ybSgpfSx0LmdldFBsYXRmb3JtVHlwZT1mdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoZT0hMSk7dmFyIHQ9dGhpcy5nZXRQbGF0Zm9ybSgpLnR5cGU7cmV0dXJuIGU/U3RyaW5nKHQpLnRvTG93ZXJDYXNlKCl8fFwiXCI6dHx8XCJcIn0sdC5wYXJzZVBsYXRmb3JtPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnBhcnNlZFJlc3VsdC5wbGF0Zm9ybT17fTt2YXIgdD1vLmRlZmF1bHQuZmluZChzLmRlZmF1bHQsKGZ1bmN0aW9uKHQpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQudGVzdClyZXR1cm4gdC50ZXN0KGUpO2lmKHQudGVzdCBpbnN0YW5jZW9mIEFycmF5KXJldHVybiB0LnRlc3Quc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuIGUudGVzdCh0KX0pKTt0aHJvdyBuZXcgRXJyb3IoXCJCcm93c2VyJ3MgdGVzdCBmdW5jdGlvbiBpcyBub3QgdmFsaWRcIil9KSk7cmV0dXJuIHQmJih0aGlzLnBhcnNlZFJlc3VsdC5wbGF0Zm9ybT10LmRlc2NyaWJlKHRoaXMuZ2V0VUEoKSkpLHRoaXMucGFyc2VkUmVzdWx0LnBsYXRmb3JtfSx0LmdldEVuZ2luZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcnNlZFJlc3VsdC5lbmdpbmU/dGhpcy5wYXJzZWRSZXN1bHQuZW5naW5lOnRoaXMucGFyc2VFbmdpbmUoKX0sdC5nZXRFbmdpbmVOYW1lPWZ1bmN0aW9uKGUpe3JldHVybiBlP1N0cmluZyh0aGlzLmdldEVuZ2luZSgpLm5hbWUpLnRvTG93ZXJDYXNlKCl8fFwiXCI6dGhpcy5nZXRFbmdpbmUoKS5uYW1lfHxcIlwifSx0LnBhcnNlRW5naW5lPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnBhcnNlZFJlc3VsdC5lbmdpbmU9e307dmFyIHQ9by5kZWZhdWx0LmZpbmQoYS5kZWZhdWx0LChmdW5jdGlvbih0KXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnRlc3QpcmV0dXJuIHQudGVzdChlKTtpZih0LnRlc3QgaW5zdGFuY2VvZiBBcnJheSlyZXR1cm4gdC50ZXN0LnNvbWUoKGZ1bmN0aW9uKHQpe3JldHVybiBlLnRlc3QodCl9KSk7dGhyb3cgbmV3IEVycm9yKFwiQnJvd3NlcidzIHRlc3QgZnVuY3Rpb24gaXMgbm90IHZhbGlkXCIpfSkpO3JldHVybiB0JiYodGhpcy5wYXJzZWRSZXN1bHQuZW5naW5lPXQuZGVzY3JpYmUodGhpcy5nZXRVQSgpKSksdGhpcy5wYXJzZWRSZXN1bHQuZW5naW5lfSx0LnBhcnNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyc2VCcm93c2VyKCksdGhpcy5wYXJzZU9TKCksdGhpcy5wYXJzZVBsYXRmb3JtKCksdGhpcy5wYXJzZUVuZ2luZSgpLHRoaXN9LHQuZ2V0UmVzdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIG8uZGVmYXVsdC5hc3NpZ24oe30sdGhpcy5wYXJzZWRSZXN1bHQpfSx0LnNhdGlzZmllcz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e30sbj0wLGk9e30scz0wO2lmKE9iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBhPWVbdF07XCJzdHJpbmdcIj09dHlwZW9mIGE/KGlbdF09YSxzKz0xKTpcIm9iamVjdFwiPT10eXBlb2YgYSYmKHJbdF09YSxuKz0xKX0pKSxuPjApe3ZhciBhPU9iamVjdC5rZXlzKHIpLHU9by5kZWZhdWx0LmZpbmQoYSwoZnVuY3Rpb24oZSl7cmV0dXJuIHQuaXNPUyhlKX0pKTtpZih1KXt2YXIgZD10aGlzLnNhdGlzZmllcyhyW3VdKTtpZih2b2lkIDAhPT1kKXJldHVybiBkfXZhciBjPW8uZGVmYXVsdC5maW5kKGEsKGZ1bmN0aW9uKGUpe3JldHVybiB0LmlzUGxhdGZvcm0oZSl9KSk7aWYoYyl7dmFyIGY9dGhpcy5zYXRpc2ZpZXMocltjXSk7aWYodm9pZCAwIT09ZilyZXR1cm4gZn19aWYocz4wKXt2YXIgbD1PYmplY3Qua2V5cyhpKSxoPW8uZGVmYXVsdC5maW5kKGwsKGZ1bmN0aW9uKGUpe3JldHVybiB0LmlzQnJvd3NlcihlLCEwKX0pKTtpZih2b2lkIDAhPT1oKXJldHVybiB0aGlzLmNvbXBhcmVWZXJzaW9uKGlbaF0pfX0sdC5pc0Jyb3dzZXI9ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT10JiYodD0hMSk7dmFyIHI9dGhpcy5nZXRCcm93c2VyTmFtZSgpLnRvTG93ZXJDYXNlKCksbj1lLnRvTG93ZXJDYXNlKCksaT1vLmRlZmF1bHQuZ2V0QnJvd3NlclR5cGVCeUFsaWFzKG4pO3JldHVybiB0JiZpJiYobj1pLnRvTG93ZXJDYXNlKCkpLG49PT1yfSx0LmNvbXBhcmVWZXJzaW9uPWZ1bmN0aW9uKGUpe3ZhciB0PVswXSxyPWUsbj0hMSxpPXRoaXMuZ2V0QnJvd3NlclZlcnNpb24oKTtpZihcInN0cmluZ1wiPT10eXBlb2YgaSlyZXR1cm5cIj5cIj09PWVbMF18fFwiPFwiPT09ZVswXT8ocj1lLnN1YnN0cigxKSxcIj1cIj09PWVbMV0/KG49ITAscj1lLnN1YnN0cigyKSk6dD1bXSxcIj5cIj09PWVbMF0/dC5wdXNoKDEpOnQucHVzaCgtMSkpOlwiPVwiPT09ZVswXT9yPWUuc3Vic3RyKDEpOlwiflwiPT09ZVswXSYmKG49ITAscj1lLnN1YnN0cigxKSksdC5pbmRleE9mKG8uZGVmYXVsdC5jb21wYXJlVmVyc2lvbnMoaSxyLG4pKT4tMX0sdC5pc09TPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldE9TTmFtZSghMCk9PT1TdHJpbmcoZSkudG9Mb3dlckNhc2UoKX0sdC5pc1BsYXRmb3JtPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldFBsYXRmb3JtVHlwZSghMCk9PT1TdHJpbmcoZSkudG9Mb3dlckNhc2UoKX0sdC5pc0VuZ2luZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRFbmdpbmVOYW1lKCEwKT09PVN0cmluZyhlKS50b0xvd2VyQ2FzZSgpfSx0LmlzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PSExKSx0aGlzLmlzQnJvd3NlcihlLHQpfHx0aGlzLmlzT1MoZSl8fHRoaXMuaXNQbGF0Zm9ybShlKX0sdC5zb21lPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHZvaWQgMD09PWUmJihlPVtdKSxlLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiB0LmlzKGUpfSkpfSxlfSgpO3QuZGVmYXVsdD1kLGUuZXhwb3J0cz10LmRlZmF1bHR9LDkyOmZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PXZvaWQgMDt2YXIgbixpPShuPXIoMTcpKSYmbi5fX2VzTW9kdWxlP246e2RlZmF1bHQ6bn07dmFyIHM9L3ZlcnNpb25cXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksYT1be3Rlc3Q6Wy9nb29nbGVib3QvaV0sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9e25hbWU6XCJHb29nbGVib3RcIn0scj1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvZ29vZ2xlYm90XFwvKFxcZCsoXFwuXFxkKykpL2ksZSl8fGkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKHMsZSk7cmV0dXJuIHImJih0LnZlcnNpb249ciksdH19LHt0ZXN0Olsvb3BlcmEvaV0sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9e25hbWU6XCJPcGVyYVwifSxyPWkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKHMsZSl8fGkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC8oPzpvcGVyYSlbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIHImJih0LnZlcnNpb249ciksdH19LHt0ZXN0Olsvb3ByXFwvfG9waW9zL2ldLGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PXtuYW1lOlwiT3BlcmFcIn0scj1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvKD86b3ByfG9waW9zKVtcXHMvXShcXFMrKS9pLGUpfHxpLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaChzLGUpO3JldHVybiByJiYodC52ZXJzaW9uPXIpLHR9fSx7dGVzdDpbL1NhbXN1bmdCcm93c2VyL2ldLGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PXtuYW1lOlwiU2Ftc3VuZyBJbnRlcm5ldCBmb3IgQW5kcm9pZFwifSxyPWkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKHMsZSl8fGkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC8oPzpTYW1zdW5nQnJvd3NlcilbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIHImJih0LnZlcnNpb249ciksdH19LHt0ZXN0OlsvV2hhbGUvaV0sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9e25hbWU6XCJOQVZFUiBXaGFsZSBCcm93c2VyXCJ9LHI9aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2gocyxlKXx8aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2goLyg/OndoYWxlKVtcXHMvXShcXGQrKD86XFwuXFxkKykrKS9pLGUpO3JldHVybiByJiYodC52ZXJzaW9uPXIpLHR9fSx7dGVzdDpbL01aQnJvd3Nlci9pXSxkZXNjcmliZTpmdW5jdGlvbihlKXt2YXIgdD17bmFtZTpcIk1aIEJyb3dzZXJcIn0scj1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvKD86TVpCcm93c2VyKVtcXHMvXShcXGQrKD86XFwuXFxkKykrKS9pLGUpfHxpLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaChzLGUpO3JldHVybiByJiYodC52ZXJzaW9uPXIpLHR9fSx7dGVzdDpbL2ZvY3VzL2ldLGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PXtuYW1lOlwiRm9jdXNcIn0scj1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvKD86Zm9jdXMpW1xccy9dKFxcZCsoPzpcXC5cXGQrKSspL2ksZSl8fGkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKHMsZSk7cmV0dXJuIHImJih0LnZlcnNpb249ciksdH19LHt0ZXN0Olsvc3dpbmcvaV0sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9e25hbWU6XCJTd2luZ1wifSxyPWkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC8oPzpzd2luZylbXFxzL10oXFxkKyg/OlxcLlxcZCspKykvaSxlKXx8aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2gocyxlKTtyZXR1cm4gciYmKHQudmVyc2lvbj1yKSx0fX0se3Rlc3Q6Wy9jb2FzdC9pXSxkZXNjcmliZTpmdW5jdGlvbihlKXt2YXIgdD17bmFtZTpcIk9wZXJhIENvYXN0XCJ9LHI9aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2gocyxlKXx8aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2goLyg/OmNvYXN0KVtcXHMvXShcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gciYmKHQudmVyc2lvbj1yKSx0fX0se3Rlc3Q6Wy9vcHRcXC9cXGQrKD86Lj9fP1xcZCspKy9pXSxkZXNjcmliZTpmdW5jdGlvbihlKXt2YXIgdD17bmFtZTpcIk9wZXJhIFRvdWNoXCJ9LHI9aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2goLyg/Om9wdClbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSl8fGkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKHMsZSk7cmV0dXJuIHImJih0LnZlcnNpb249ciksdH19LHt0ZXN0OlsveWFicm93c2VyL2ldLGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PXtuYW1lOlwiWWFuZGV4IEJyb3dzZXJcIn0scj1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvKD86eWFicm93c2VyKVtcXHMvXShcXGQrKFxcLj9fP1xcZCspKykvaSxlKXx8aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2gocyxlKTtyZXR1cm4gciYmKHQudmVyc2lvbj1yKSx0fX0se3Rlc3Q6Wy91Y2Jyb3dzZXIvaV0sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9e25hbWU6XCJVQyBCcm93c2VyXCJ9LHI9aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2gocyxlKXx8aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2goLyg/OnVjYnJvd3NlcilbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIHImJih0LnZlcnNpb249ciksdH19LHt0ZXN0OlsvTWF4dGhvbnxteGlvcy9pXSxkZXNjcmliZTpmdW5jdGlvbihlKXt2YXIgdD17bmFtZTpcIk1heHRob25cIn0scj1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaChzLGUpfHxpLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvKD86TWF4dGhvbnxteGlvcylbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIHImJih0LnZlcnNpb249ciksdH19LHt0ZXN0OlsvZXBpcGhhbnkvaV0sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9e25hbWU6XCJFcGlwaGFueVwifSxyPWkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKHMsZSl8fGkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC8oPzplcGlwaGFueSlbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIHImJih0LnZlcnNpb249ciksdH19LHt0ZXN0OlsvcHVmZmluL2ldLGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PXtuYW1lOlwiUHVmZmluXCJ9LHI9aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2gocyxlKXx8aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2goLyg/OnB1ZmZpbilbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIHImJih0LnZlcnNpb249ciksdH19LHt0ZXN0Olsvc2xlaXBuaXIvaV0sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9e25hbWU6XCJTbGVpcG5pclwifSxyPWkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKHMsZSl8fGkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC8oPzpzbGVpcG5pcilbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIHImJih0LnZlcnNpb249ciksdH19LHt0ZXN0Olsvay1tZWxlb24vaV0sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9e25hbWU6XCJLLU1lbGVvblwifSxyPWkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKHMsZSl8fGkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC8oPzprLW1lbGVvbilbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIHImJih0LnZlcnNpb249ciksdH19LHt0ZXN0OlsvbWljcm9tZXNzZW5nZXIvaV0sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9e25hbWU6XCJXZUNoYXRcIn0scj1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvKD86bWljcm9tZXNzZW5nZXIpW1xccy9dKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpfHxpLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaChzLGUpO3JldHVybiByJiYodC52ZXJzaW9uPXIpLHR9fSx7dGVzdDpbL3FxYnJvd3Nlci9pXSxkZXNjcmliZTpmdW5jdGlvbihlKXt2YXIgdD17bmFtZTovcXFicm93c2VybGl0ZS9pLnRlc3QoZSk/XCJRUSBCcm93c2VyIExpdGVcIjpcIlFRIEJyb3dzZXJcIn0scj1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvKD86cXFicm93c2VybGl0ZXxxcWJyb3dzZXIpWy9dKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpfHxpLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaChzLGUpO3JldHVybiByJiYodC52ZXJzaW9uPXIpLHR9fSx7dGVzdDpbL21zaWV8dHJpZGVudC9pXSxkZXNjcmliZTpmdW5jdGlvbihlKXt2YXIgdD17bmFtZTpcIkludGVybmV0IEV4cGxvcmVyXCJ9LHI9aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2goLyg/Om1zaWUgfHJ2OikoXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIHImJih0LnZlcnNpb249ciksdH19LHt0ZXN0OlsvXFxzZWRnXFwvL2ldLGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PXtuYW1lOlwiTWljcm9zb2Z0IEVkZ2VcIn0scj1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvXFxzZWRnXFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiByJiYodC52ZXJzaW9uPXIpLHR9fSx7dGVzdDpbL2VkZyhbZWFdfGlvcykvaV0sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9e25hbWU6XCJNaWNyb3NvZnQgRWRnZVwifSxyPWkuZGVmYXVsdC5nZXRTZWNvbmRNYXRjaCgvZWRnKFtlYV18aW9zKVxcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gciYmKHQudmVyc2lvbj1yKSx0fX0se3Rlc3Q6Wy92aXZhbGRpL2ldLGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PXtuYW1lOlwiVml2YWxkaVwifSxyPWkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC92aXZhbGRpXFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiByJiYodC52ZXJzaW9uPXIpLHR9fSx7dGVzdDpbL3NlYW1vbmtleS9pXSxkZXNjcmliZTpmdW5jdGlvbihlKXt2YXIgdD17bmFtZTpcIlNlYU1vbmtleVwifSxyPWkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC9zZWFtb25rZXlcXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIHImJih0LnZlcnNpb249ciksdH19LHt0ZXN0Olsvc2FpbGZpc2gvaV0sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9e25hbWU6XCJTYWlsZmlzaFwifSxyPWkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC9zYWlsZmlzaFxccz9icm93c2VyXFwvKFxcZCsoXFwuXFxkKyk/KS9pLGUpO3JldHVybiByJiYodC52ZXJzaW9uPXIpLHR9fSx7dGVzdDpbL3NpbGsvaV0sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9e25hbWU6XCJBbWF6b24gU2lsa1wifSxyPWkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC9zaWxrXFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiByJiYodC52ZXJzaW9uPXIpLHR9fSx7dGVzdDpbL3BoYW50b20vaV0sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9e25hbWU6XCJQaGFudG9tSlNcIn0scj1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvcGhhbnRvbWpzXFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiByJiYodC52ZXJzaW9uPXIpLHR9fSx7dGVzdDpbL3NsaW1lcmpzL2ldLGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PXtuYW1lOlwiU2xpbWVySlNcIn0scj1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvc2xpbWVyanNcXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIHImJih0LnZlcnNpb249ciksdH19LHt0ZXN0OlsvYmxhY2tiZXJyeXxcXGJiYlxcZCsvaSwvcmltXFxzdGFibGV0L2ldLGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PXtuYW1lOlwiQmxhY2tCZXJyeVwifSxyPWkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKHMsZSl8fGkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC9ibGFja2JlcnJ5W1xcZF0rXFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiByJiYodC52ZXJzaW9uPXIpLHR9fSx7dGVzdDpbLyh3ZWJ8aHB3KVtvMF1zL2ldLGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PXtuYW1lOlwiV2ViT1MgQnJvd3NlclwifSxyPWkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKHMsZSl8fGkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC93KD86ZWIpP1tvMF1zYnJvd3NlclxcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gciYmKHQudmVyc2lvbj1yKSx0fX0se3Rlc3Q6Wy9iYWRhL2ldLGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PXtuYW1lOlwiQmFkYVwifSxyPWkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC9kb2xmaW5cXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIHImJih0LnZlcnNpb249ciksdH19LHt0ZXN0OlsvdGl6ZW4vaV0sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9e25hbWU6XCJUaXplblwifSxyPWkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC8oPzp0aXplblxccz8pP2Jyb3dzZXJcXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSl8fGkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKHMsZSk7cmV0dXJuIHImJih0LnZlcnNpb249ciksdH19LHt0ZXN0OlsvcXVwemlsbGEvaV0sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9e25hbWU6XCJRdXBaaWxsYVwifSxyPWkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC8oPzpxdXB6aWxsYSlbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSl8fGkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKHMsZSk7cmV0dXJuIHImJih0LnZlcnNpb249ciksdH19LHt0ZXN0OlsvZmlyZWZveHxpY2V3ZWFzZWx8Znhpb3MvaV0sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9e25hbWU6XCJGaXJlZm94XCJ9LHI9aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2goLyg/OmZpcmVmb3h8aWNld2Vhc2VsfGZ4aW9zKVtcXHMvXShcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gciYmKHQudmVyc2lvbj1yKSx0fX0se3Rlc3Q6Wy9lbGVjdHJvbi9pXSxkZXNjcmliZTpmdW5jdGlvbihlKXt2YXIgdD17bmFtZTpcIkVsZWN0cm9uXCJ9LHI9aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2goLyg/OmVsZWN0cm9uKVxcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gciYmKHQudmVyc2lvbj1yKSx0fX0se3Rlc3Q6Wy9NaXVpQnJvd3Nlci9pXSxkZXNjcmliZTpmdW5jdGlvbihlKXt2YXIgdD17bmFtZTpcIk1pdWlcIn0scj1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvKD86TWl1aUJyb3dzZXIpW1xccy9dKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiByJiYodC52ZXJzaW9uPXIpLHR9fSx7dGVzdDpbL2Nocm9taXVtL2ldLGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PXtuYW1lOlwiQ2hyb21pdW1cIn0scj1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvKD86Y2hyb21pdW0pW1xccy9dKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpfHxpLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaChzLGUpO3JldHVybiByJiYodC52ZXJzaW9uPXIpLHR9fSx7dGVzdDpbL2Nocm9tZXxjcmlvc3xjcm1vL2ldLGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PXtuYW1lOlwiQ2hyb21lXCJ9LHI9aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2goLyg/OmNocm9tZXxjcmlvc3xjcm1vKVxcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gciYmKHQudmVyc2lvbj1yKSx0fX0se3Rlc3Q6Wy9HU0EvaV0sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9e25hbWU6XCJHb29nbGUgU2VhcmNoXCJ9LHI9aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2goLyg/OkdTQSlcXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIHImJih0LnZlcnNpb249ciksdH19LHt0ZXN0OmZ1bmN0aW9uKGUpe3ZhciB0PSFlLnRlc3QoL2xpa2UgYW5kcm9pZC9pKSxyPWUudGVzdCgvYW5kcm9pZC9pKTtyZXR1cm4gdCYmcn0sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9e25hbWU6XCJBbmRyb2lkIEJyb3dzZXJcIn0scj1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaChzLGUpO3JldHVybiByJiYodC52ZXJzaW9uPXIpLHR9fSx7dGVzdDpbL3BsYXlzdGF0aW9uIDQvaV0sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9e25hbWU6XCJQbGF5U3RhdGlvbiA0XCJ9LHI9aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2gocyxlKTtyZXR1cm4gciYmKHQudmVyc2lvbj1yKSx0fX0se3Rlc3Q6Wy9zYWZhcml8YXBwbGV3ZWJraXQvaV0sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9e25hbWU6XCJTYWZhcmlcIn0scj1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaChzLGUpO3JldHVybiByJiYodC52ZXJzaW9uPXIpLHR9fSx7dGVzdDpbLy4qL2ldLGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PS0xIT09ZS5zZWFyY2goXCJcXFxcKFwiKT8vXiguKilcXC8oLiopWyBcXHRdXFwoKC4qKS86L14oLiopXFwvKC4qKSAvO3JldHVybntuYW1lOmkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKHQsZSksdmVyc2lvbjppLmRlZmF1bHQuZ2V0U2Vjb25kTWF0Y2godCxlKX19fV07dC5kZWZhdWx0PWEsZS5leHBvcnRzPXQuZGVmYXVsdH0sOTM6ZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3QuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9dm9pZCAwO3ZhciBuLGk9KG49cigxNykpJiZuLl9fZXNNb2R1bGU/bjp7ZGVmYXVsdDpufSxzPXIoMTgpO3ZhciBhPVt7dGVzdDpbL1Jva3VcXC9EVlAvXSxkZXNjcmliZTpmdW5jdGlvbihlKXt2YXIgdD1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvUm9rdVxcL0RWUC0oXFxkK1xcLlxcZCspL2ksZSk7cmV0dXJue25hbWU6cy5PU19NQVAuUm9rdSx2ZXJzaW9uOnR9fX0se3Rlc3Q6Wy93aW5kb3dzIHBob25lL2ldLGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PWkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC93aW5kb3dzIHBob25lICg/Om9zKT9cXHM/KFxcZCsoXFwuXFxkKykqKS9pLGUpO3JldHVybntuYW1lOnMuT1NfTUFQLldpbmRvd3NQaG9uZSx2ZXJzaW9uOnR9fX0se3Rlc3Q6Wy93aW5kb3dzIC9pXSxkZXNjcmliZTpmdW5jdGlvbihlKXt2YXIgdD1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvV2luZG93cyAoKE5UfFhQKSggXFxkXFxkPy5cXGQpPykvaSxlKSxyPWkuZGVmYXVsdC5nZXRXaW5kb3dzVmVyc2lvbk5hbWUodCk7cmV0dXJue25hbWU6cy5PU19NQVAuV2luZG93cyx2ZXJzaW9uOnQsdmVyc2lvbk5hbWU6cn19fSx7dGVzdDpbL01hY2ludG9zaCguKj8pIEZ4aU9TKC4qPylcXC8vXSxkZXNjcmliZTpmdW5jdGlvbihlKXt2YXIgdD17bmFtZTpzLk9TX01BUC5pT1N9LHI9aS5kZWZhdWx0LmdldFNlY29uZE1hdGNoKC8oVmVyc2lvblxcLykoXFxkW1xcZC5dKykvLGUpO3JldHVybiByJiYodC52ZXJzaW9uPXIpLHR9fSx7dGVzdDpbL21hY2ludG9zaC9pXSxkZXNjcmliZTpmdW5jdGlvbihlKXt2YXIgdD1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvbWFjIG9zIHggKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpLnJlcGxhY2UoL1tfXFxzXS9nLFwiLlwiKSxyPWkuZGVmYXVsdC5nZXRNYWNPU1ZlcnNpb25OYW1lKHQpLG49e25hbWU6cy5PU19NQVAuTWFjT1MsdmVyc2lvbjp0fTtyZXR1cm4gciYmKG4udmVyc2lvbk5hbWU9ciksbn19LHt0ZXN0OlsvKGlwb2R8aXBob25lfGlwYWQpL2ldLGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PWkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC9vcyAoXFxkKyhbX1xcc11cXGQrKSopIGxpa2UgbWFjIG9zIHgvaSxlKS5yZXBsYWNlKC9bX1xcc10vZyxcIi5cIik7cmV0dXJue25hbWU6cy5PU19NQVAuaU9TLHZlcnNpb246dH19fSx7dGVzdDpmdW5jdGlvbihlKXt2YXIgdD0hZS50ZXN0KC9saWtlIGFuZHJvaWQvaSkscj1lLnRlc3QoL2FuZHJvaWQvaSk7cmV0dXJuIHQmJnJ9LGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PWkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC9hbmRyb2lkW1xccy8tXShcXGQrKFxcLlxcZCspKikvaSxlKSxyPWkuZGVmYXVsdC5nZXRBbmRyb2lkVmVyc2lvbk5hbWUodCksbj17bmFtZTpzLk9TX01BUC5BbmRyb2lkLHZlcnNpb246dH07cmV0dXJuIHImJihuLnZlcnNpb25OYW1lPXIpLG59fSx7dGVzdDpbLyh3ZWJ8aHB3KVtvMF1zL2ldLGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PWkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC8oPzp3ZWJ8aHB3KVtvMF1zXFwvKFxcZCsoXFwuXFxkKykqKS9pLGUpLHI9e25hbWU6cy5PU19NQVAuV2ViT1N9O3JldHVybiB0JiZ0Lmxlbmd0aCYmKHIudmVyc2lvbj10KSxyfX0se3Rlc3Q6Wy9ibGFja2JlcnJ5fFxcYmJiXFxkKy9pLC9yaW1cXHN0YWJsZXQvaV0sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2goL3JpbVxcc3RhYmxldFxcc29zXFxzKFxcZCsoXFwuXFxkKykqKS9pLGUpfHxpLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvYmxhY2tiZXJyeVxcZCtcXC8oXFxkKyhbX1xcc11cXGQrKSopL2ksZSl8fGkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC9cXGJiYihcXGQrKS9pLGUpO3JldHVybntuYW1lOnMuT1NfTUFQLkJsYWNrQmVycnksdmVyc2lvbjp0fX19LHt0ZXN0OlsvYmFkYS9pXSxkZXNjcmliZTpmdW5jdGlvbihlKXt2YXIgdD1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvYmFkYVxcLyhcXGQrKFxcLlxcZCspKikvaSxlKTtyZXR1cm57bmFtZTpzLk9TX01BUC5CYWRhLHZlcnNpb246dH19fSx7dGVzdDpbL3RpemVuL2ldLGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PWkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC90aXplblsvXFxzXShcXGQrKFxcLlxcZCspKikvaSxlKTtyZXR1cm57bmFtZTpzLk9TX01BUC5UaXplbix2ZXJzaW9uOnR9fX0se3Rlc3Q6Wy9saW51eC9pXSxkZXNjcmliZTpmdW5jdGlvbigpe3JldHVybntuYW1lOnMuT1NfTUFQLkxpbnV4fX19LHt0ZXN0OlsvQ3JPUy9dLGRlc2NyaWJlOmZ1bmN0aW9uKCl7cmV0dXJue25hbWU6cy5PU19NQVAuQ2hyb21lT1N9fX0se3Rlc3Q6Wy9QbGF5U3RhdGlvbiA0L10sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2goL1BsYXlTdGF0aW9uIDRbL1xcc10oXFxkKyhcXC5cXGQrKSopL2ksZSk7cmV0dXJue25hbWU6cy5PU19NQVAuUGxheVN0YXRpb240LHZlcnNpb246dH19fV07dC5kZWZhdWx0PWEsZS5leHBvcnRzPXQuZGVmYXVsdH0sOTQ6ZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3QuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9dm9pZCAwO3ZhciBuLGk9KG49cigxNykpJiZuLl9fZXNNb2R1bGU/bjp7ZGVmYXVsdDpufSxzPXIoMTgpO3ZhciBhPVt7dGVzdDpbL2dvb2dsZWJvdC9pXSxkZXNjcmliZTpmdW5jdGlvbigpe3JldHVybnt0eXBlOlwiYm90XCIsdmVuZG9yOlwiR29vZ2xlXCJ9fX0se3Rlc3Q6Wy9odWF3ZWkvaV0sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2goLyhjYW4tbDAxKS9pLGUpJiZcIk5vdmFcIixyPXt0eXBlOnMuUExBVEZPUk1TX01BUC5tb2JpbGUsdmVuZG9yOlwiSHVhd2VpXCJ9O3JldHVybiB0JiYoci5tb2RlbD10KSxyfX0se3Rlc3Q6Wy9uZXh1c1xccyooPzo3fDh8OXwxMCkuKi9pXSxkZXNjcmliZTpmdW5jdGlvbigpe3JldHVybnt0eXBlOnMuUExBVEZPUk1TX01BUC50YWJsZXQsdmVuZG9yOlwiTmV4dXNcIn19fSx7dGVzdDpbL2lwYWQvaV0sZGVzY3JpYmU6ZnVuY3Rpb24oKXtyZXR1cm57dHlwZTpzLlBMQVRGT1JNU19NQVAudGFibGV0LHZlbmRvcjpcIkFwcGxlXCIsbW9kZWw6XCJpUGFkXCJ9fX0se3Rlc3Q6Wy9NYWNpbnRvc2goLio/KSBGeGlPUyguKj8pXFwvL10sZGVzY3JpYmU6ZnVuY3Rpb24oKXtyZXR1cm57dHlwZTpzLlBMQVRGT1JNU19NQVAudGFibGV0LHZlbmRvcjpcIkFwcGxlXCIsbW9kZWw6XCJpUGFkXCJ9fX0se3Rlc3Q6Wy9rZnR0IGJ1aWxkL2ldLGRlc2NyaWJlOmZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6cy5QTEFURk9STVNfTUFQLnRhYmxldCx2ZW5kb3I6XCJBbWF6b25cIixtb2RlbDpcIktpbmRsZSBGaXJlIEhEIDdcIn19fSx7dGVzdDpbL3NpbGsvaV0sZGVzY3JpYmU6ZnVuY3Rpb24oKXtyZXR1cm57dHlwZTpzLlBMQVRGT1JNU19NQVAudGFibGV0LHZlbmRvcjpcIkFtYXpvblwifX19LHt0ZXN0OlsvdGFibGV0KD8hIHBjKS9pXSxkZXNjcmliZTpmdW5jdGlvbigpe3JldHVybnt0eXBlOnMuUExBVEZPUk1TX01BUC50YWJsZXR9fX0se3Rlc3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50ZXN0KC9pcG9kfGlwaG9uZS9pKSxyPWUudGVzdCgvbGlrZSAoaXBvZHxpcGhvbmUpL2kpO3JldHVybiB0JiYhcn0sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2goLyhpcG9kfGlwaG9uZSkvaSxlKTtyZXR1cm57dHlwZTpzLlBMQVRGT1JNU19NQVAubW9iaWxlLHZlbmRvcjpcIkFwcGxlXCIsbW9kZWw6dH19fSx7dGVzdDpbL25leHVzXFxzKlswLTZdLiovaSwvZ2FsYXh5IG5leHVzL2ldLGRlc2NyaWJlOmZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6cy5QTEFURk9STVNfTUFQLm1vYmlsZSx2ZW5kb3I6XCJOZXh1c1wifX19LHt0ZXN0OlsvW14tXW1vYmkvaV0sZGVzY3JpYmU6ZnVuY3Rpb24oKXtyZXR1cm57dHlwZTpzLlBMQVRGT1JNU19NQVAubW9iaWxlfX19LHt0ZXN0OmZ1bmN0aW9uKGUpe3JldHVyblwiYmxhY2tiZXJyeVwiPT09ZS5nZXRCcm93c2VyTmFtZSghMCl9LGRlc2NyaWJlOmZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6cy5QTEFURk9STVNfTUFQLm1vYmlsZSx2ZW5kb3I6XCJCbGFja0JlcnJ5XCJ9fX0se3Rlc3Q6ZnVuY3Rpb24oZSl7cmV0dXJuXCJiYWRhXCI9PT1lLmdldEJyb3dzZXJOYW1lKCEwKX0sZGVzY3JpYmU6ZnVuY3Rpb24oKXtyZXR1cm57dHlwZTpzLlBMQVRGT1JNU19NQVAubW9iaWxlfX19LHt0ZXN0OmZ1bmN0aW9uKGUpe3JldHVyblwid2luZG93cyBwaG9uZVwiPT09ZS5nZXRCcm93c2VyTmFtZSgpfSxkZXNjcmliZTpmdW5jdGlvbigpe3JldHVybnt0eXBlOnMuUExBVEZPUk1TX01BUC5tb2JpbGUsdmVuZG9yOlwiTWljcm9zb2Z0XCJ9fX0se3Rlc3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9TnVtYmVyKFN0cmluZyhlLmdldE9TVmVyc2lvbigpKS5zcGxpdChcIi5cIilbMF0pO3JldHVyblwiYW5kcm9pZFwiPT09ZS5nZXRPU05hbWUoITApJiZ0Pj0zfSxkZXNjcmliZTpmdW5jdGlvbigpe3JldHVybnt0eXBlOnMuUExBVEZPUk1TX01BUC50YWJsZXR9fX0se3Rlc3Q6ZnVuY3Rpb24oZSl7cmV0dXJuXCJhbmRyb2lkXCI9PT1lLmdldE9TTmFtZSghMCl9LGRlc2NyaWJlOmZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6cy5QTEFURk9STVNfTUFQLm1vYmlsZX19fSx7dGVzdDpmdW5jdGlvbihlKXtyZXR1cm5cIm1hY29zXCI9PT1lLmdldE9TTmFtZSghMCl9LGRlc2NyaWJlOmZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6cy5QTEFURk9STVNfTUFQLmRlc2t0b3AsdmVuZG9yOlwiQXBwbGVcIn19fSx7dGVzdDpmdW5jdGlvbihlKXtyZXR1cm5cIndpbmRvd3NcIj09PWUuZ2V0T1NOYW1lKCEwKX0sZGVzY3JpYmU6ZnVuY3Rpb24oKXtyZXR1cm57dHlwZTpzLlBMQVRGT1JNU19NQVAuZGVza3RvcH19fSx7dGVzdDpmdW5jdGlvbihlKXtyZXR1cm5cImxpbnV4XCI9PT1lLmdldE9TTmFtZSghMCl9LGRlc2NyaWJlOmZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6cy5QTEFURk9STVNfTUFQLmRlc2t0b3B9fX0se3Rlc3Q6ZnVuY3Rpb24oZSl7cmV0dXJuXCJwbGF5c3RhdGlvbiA0XCI9PT1lLmdldE9TTmFtZSghMCl9LGRlc2NyaWJlOmZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6cy5QTEFURk9STVNfTUFQLnR2fX19LHt0ZXN0OmZ1bmN0aW9uKGUpe3JldHVyblwicm9rdVwiPT09ZS5nZXRPU05hbWUoITApfSxkZXNjcmliZTpmdW5jdGlvbigpe3JldHVybnt0eXBlOnMuUExBVEZPUk1TX01BUC50dn19fV07dC5kZWZhdWx0PWEsZS5leHBvcnRzPXQuZGVmYXVsdH0sOTU6ZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3QuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9dm9pZCAwO3ZhciBuLGk9KG49cigxNykpJiZuLl9fZXNNb2R1bGU/bjp7ZGVmYXVsdDpufSxzPXIoMTgpO3ZhciBhPVt7dGVzdDpmdW5jdGlvbihlKXtyZXR1cm5cIm1pY3Jvc29mdCBlZGdlXCI9PT1lLmdldEJyb3dzZXJOYW1lKCEwKX0sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7aWYoL1xcc2VkZ1xcLy9pLnRlc3QoZSkpcmV0dXJue25hbWU6cy5FTkdJTkVfTUFQLkJsaW5rfTt2YXIgdD1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvZWRnZVxcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm57bmFtZTpzLkVOR0lORV9NQVAuRWRnZUhUTUwsdmVyc2lvbjp0fX19LHt0ZXN0OlsvdHJpZGVudC9pXSxkZXNjcmliZTpmdW5jdGlvbihlKXt2YXIgdD17bmFtZTpzLkVOR0lORV9NQVAuVHJpZGVudH0scj1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvdHJpZGVudFxcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gciYmKHQudmVyc2lvbj1yKSx0fX0se3Rlc3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudGVzdCgvcHJlc3RvL2kpfSxkZXNjcmliZTpmdW5jdGlvbihlKXt2YXIgdD17bmFtZTpzLkVOR0lORV9NQVAuUHJlc3RvfSxyPWkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC9wcmVzdG9cXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIHImJih0LnZlcnNpb249ciksdH19LHt0ZXN0OmZ1bmN0aW9uKGUpe3ZhciB0PWUudGVzdCgvZ2Vja28vaSkscj1lLnRlc3QoL2xpa2UgZ2Vja28vaSk7cmV0dXJuIHQmJiFyfSxkZXNjcmliZTpmdW5jdGlvbihlKXt2YXIgdD17bmFtZTpzLkVOR0lORV9NQVAuR2Vja299LHI9aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2goL2dlY2tvXFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiByJiYodC52ZXJzaW9uPXIpLHR9fSx7dGVzdDpbLyhhcHBsZSk/d2Via2l0XFwvNTM3XFwuMzYvaV0sZGVzY3JpYmU6ZnVuY3Rpb24oKXtyZXR1cm57bmFtZTpzLkVOR0lORV9NQVAuQmxpbmt9fX0se3Rlc3Q6Wy8oYXBwbGUpP3dlYmtpdC9pXSxkZXNjcmliZTpmdW5jdGlvbihlKXt2YXIgdD17bmFtZTpzLkVOR0lORV9NQVAuV2ViS2l0fSxyPWkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC93ZWJraXRcXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIHImJih0LnZlcnNpb249ciksdH19XTt0LmRlZmF1bHQ9YSxlLmV4cG9ydHM9dC5kZWZhdWx0fX0pfSkpOyIsIi8qIVxuICogVGhlIGJ1ZmZlciBtb2R1bGUgZnJvbSBub2RlLmpzLCBmb3IgdGhlIGJyb3dzZXIuXG4gKlxuICogQGF1dGhvciAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGh0dHA6Ly9mZXJvc3Mub3JnPlxuICogQGxpY2Vuc2UgIE1JVFxuICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1wcm90byAqL1xuXG4ndXNlIHN0cmljdCdcblxudmFyIGJhc2U2NCA9IHJlcXVpcmUoJ2Jhc2U2NC1qcycpXG52YXIgaWVlZTc1NCA9IHJlcXVpcmUoJ2llZWU3NTQnKVxudmFyIGlzQXJyYXkgPSByZXF1aXJlKCdpc2FycmF5JylcblxuZXhwb3J0cy5CdWZmZXIgPSBCdWZmZXJcbmV4cG9ydHMuU2xvd0J1ZmZlciA9IFNsb3dCdWZmZXJcbmV4cG9ydHMuSU5TUEVDVF9NQVhfQllURVMgPSA1MFxuXG4vKipcbiAqIElmIGBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVGA6XG4gKiAgID09PSB0cnVlICAgIFVzZSBVaW50OEFycmF5IGltcGxlbWVudGF0aW9uIChmYXN0ZXN0KVxuICogICA9PT0gZmFsc2UgICBVc2UgT2JqZWN0IGltcGxlbWVudGF0aW9uIChtb3N0IGNvbXBhdGlibGUsIGV2ZW4gSUU2KVxuICpcbiAqIEJyb3dzZXJzIHRoYXQgc3VwcG9ydCB0eXBlZCBhcnJheXMgYXJlIElFIDEwKywgRmlyZWZveCA0KywgQ2hyb21lIDcrLCBTYWZhcmkgNS4xKyxcbiAqIE9wZXJhIDExLjYrLCBpT1MgNC4yKy5cbiAqXG4gKiBEdWUgdG8gdmFyaW91cyBicm93c2VyIGJ1Z3MsIHNvbWV0aW1lcyB0aGUgT2JqZWN0IGltcGxlbWVudGF0aW9uIHdpbGwgYmUgdXNlZCBldmVuXG4gKiB3aGVuIHRoZSBicm93c2VyIHN1cHBvcnRzIHR5cGVkIGFycmF5cy5cbiAqXG4gKiBOb3RlOlxuICpcbiAqICAgLSBGaXJlZm94IDQtMjkgbGFja3Mgc3VwcG9ydCBmb3IgYWRkaW5nIG5ldyBwcm9wZXJ0aWVzIHRvIGBVaW50OEFycmF5YCBpbnN0YW5jZXMsXG4gKiAgICAgU2VlOiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD02OTU0MzguXG4gKlxuICogICAtIENocm9tZSA5LTEwIGlzIG1pc3NpbmcgdGhlIGBUeXBlZEFycmF5LnByb3RvdHlwZS5zdWJhcnJheWAgZnVuY3Rpb24uXG4gKlxuICogICAtIElFMTAgaGFzIGEgYnJva2VuIGBUeXBlZEFycmF5LnByb3RvdHlwZS5zdWJhcnJheWAgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyBhcnJheXMgb2ZcbiAqICAgICBpbmNvcnJlY3QgbGVuZ3RoIGluIHNvbWUgc2l0dWF0aW9ucy5cblxuICogV2UgZGV0ZWN0IHRoZXNlIGJ1Z2d5IGJyb3dzZXJzIGFuZCBzZXQgYEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUYCB0byBgZmFsc2VgIHNvIHRoZXlcbiAqIGdldCB0aGUgT2JqZWN0IGltcGxlbWVudGF0aW9uLCB3aGljaCBpcyBzbG93ZXIgYnV0IGJlaGF2ZXMgY29ycmVjdGx5LlxuICovXG5CdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCA9IGdsb2JhbC5UWVBFRF9BUlJBWV9TVVBQT1JUICE9PSB1bmRlZmluZWRcbiAgPyBnbG9iYWwuVFlQRURfQVJSQVlfU1VQUE9SVFxuICA6IHR5cGVkQXJyYXlTdXBwb3J0KClcblxuLypcbiAqIEV4cG9ydCBrTWF4TGVuZ3RoIGFmdGVyIHR5cGVkIGFycmF5IHN1cHBvcnQgaXMgZGV0ZXJtaW5lZC5cbiAqL1xuZXhwb3J0cy5rTWF4TGVuZ3RoID0ga01heExlbmd0aCgpXG5cbmZ1bmN0aW9uIHR5cGVkQXJyYXlTdXBwb3J0ICgpIHtcbiAgdHJ5IHtcbiAgICB2YXIgYXJyID0gbmV3IFVpbnQ4QXJyYXkoMSlcbiAgICBhcnIuX19wcm90b19fID0ge19fcHJvdG9fXzogVWludDhBcnJheS5wcm90b3R5cGUsIGZvbzogZnVuY3Rpb24gKCkgeyByZXR1cm4gNDIgfX1cbiAgICByZXR1cm4gYXJyLmZvbygpID09PSA0MiAmJiAvLyB0eXBlZCBhcnJheSBpbnN0YW5jZXMgY2FuIGJlIGF1Z21lbnRlZFxuICAgICAgICB0eXBlb2YgYXJyLnN1YmFycmF5ID09PSAnZnVuY3Rpb24nICYmIC8vIGNocm9tZSA5LTEwIGxhY2sgYHN1YmFycmF5YFxuICAgICAgICBhcnIuc3ViYXJyYXkoMSwgMSkuYnl0ZUxlbmd0aCA9PT0gMCAvLyBpZTEwIGhhcyBicm9rZW4gYHN1YmFycmF5YFxuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuZnVuY3Rpb24ga01heExlbmd0aCAoKSB7XG4gIHJldHVybiBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVFxuICAgID8gMHg3ZmZmZmZmZlxuICAgIDogMHgzZmZmZmZmZlxufVxuXG5mdW5jdGlvbiBjcmVhdGVCdWZmZXIgKHRoYXQsIGxlbmd0aCkge1xuICBpZiAoa01heExlbmd0aCgpIDwgbGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0ludmFsaWQgdHlwZWQgYXJyYXkgbGVuZ3RoJylcbiAgfVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZSwgZm9yIGJlc3QgcGVyZm9ybWFuY2VcbiAgICB0aGF0ID0gbmV3IFVpbnQ4QXJyYXkobGVuZ3RoKVxuICAgIHRoYXQuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICB9IGVsc2Uge1xuICAgIC8vIEZhbGxiYWNrOiBSZXR1cm4gYW4gb2JqZWN0IGluc3RhbmNlIG9mIHRoZSBCdWZmZXIgY2xhc3NcbiAgICBpZiAodGhhdCA9PT0gbnVsbCkge1xuICAgICAgdGhhdCA9IG5ldyBCdWZmZXIobGVuZ3RoKVxuICAgIH1cbiAgICB0aGF0Lmxlbmd0aCA9IGxlbmd0aFxuICB9XG5cbiAgcmV0dXJuIHRoYXRcbn1cblxuLyoqXG4gKiBUaGUgQnVmZmVyIGNvbnN0cnVjdG9yIHJldHVybnMgaW5zdGFuY2VzIG9mIGBVaW50OEFycmF5YCB0aGF0IGhhdmUgdGhlaXJcbiAqIHByb3RvdHlwZSBjaGFuZ2VkIHRvIGBCdWZmZXIucHJvdG90eXBlYC4gRnVydGhlcm1vcmUsIGBCdWZmZXJgIGlzIGEgc3ViY2xhc3Mgb2ZcbiAqIGBVaW50OEFycmF5YCwgc28gdGhlIHJldHVybmVkIGluc3RhbmNlcyB3aWxsIGhhdmUgYWxsIHRoZSBub2RlIGBCdWZmZXJgIG1ldGhvZHNcbiAqIGFuZCB0aGUgYFVpbnQ4QXJyYXlgIG1ldGhvZHMuIFNxdWFyZSBicmFja2V0IG5vdGF0aW9uIHdvcmtzIGFzIGV4cGVjdGVkIC0tIGl0XG4gKiByZXR1cm5zIGEgc2luZ2xlIG9jdGV0LlxuICpcbiAqIFRoZSBgVWludDhBcnJheWAgcHJvdG90eXBlIHJlbWFpbnMgdW5tb2RpZmllZC5cbiAqL1xuXG5mdW5jdGlvbiBCdWZmZXIgKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgJiYgISh0aGlzIGluc3RhbmNlb2YgQnVmZmVyKSkge1xuICAgIHJldHVybiBuZXcgQnVmZmVyKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgLy8gQ29tbW9uIGNhc2UuXG4gIGlmICh0eXBlb2YgYXJnID09PSAnbnVtYmVyJykge1xuICAgIGlmICh0eXBlb2YgZW5jb2RpbmdPck9mZnNldCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ0lmIGVuY29kaW5nIGlzIHNwZWNpZmllZCB0aGVuIHRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgc3RyaW5nJ1xuICAgICAgKVxuICAgIH1cbiAgICByZXR1cm4gYWxsb2NVbnNhZmUodGhpcywgYXJnKVxuICB9XG4gIHJldHVybiBmcm9tKHRoaXMsIGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxufVxuXG5CdWZmZXIucG9vbFNpemUgPSA4MTkyIC8vIG5vdCB1c2VkIGJ5IHRoaXMgaW1wbGVtZW50YXRpb25cblxuLy8gVE9ETzogTGVnYWN5LCBub3QgbmVlZGVkIGFueW1vcmUuIFJlbW92ZSBpbiBuZXh0IG1ham9yIHZlcnNpb24uXG5CdWZmZXIuX2F1Z21lbnQgPSBmdW5jdGlvbiAoYXJyKSB7XG4gIGFyci5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIHJldHVybiBhcnJcbn1cblxuZnVuY3Rpb24gZnJvbSAodGhhdCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1widmFsdWVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBhIG51bWJlcicpXG4gIH1cblxuICBpZiAodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJiB2YWx1ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgcmV0dXJuIGZyb21BcnJheUJ1ZmZlcih0aGF0LCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gZnJvbVN0cmluZyh0aGF0LCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldClcbiAgfVxuXG4gIHJldHVybiBmcm9tT2JqZWN0KHRoYXQsIHZhbHVlKVxufVxuXG4vKipcbiAqIEZ1bmN0aW9uYWxseSBlcXVpdmFsZW50IHRvIEJ1ZmZlcihhcmcsIGVuY29kaW5nKSBidXQgdGhyb3dzIGEgVHlwZUVycm9yXG4gKiBpZiB2YWx1ZSBpcyBhIG51bWJlci5cbiAqIEJ1ZmZlci5mcm9tKHN0clssIGVuY29kaW5nXSlcbiAqIEJ1ZmZlci5mcm9tKGFycmF5KVxuICogQnVmZmVyLmZyb20oYnVmZmVyKVxuICogQnVmZmVyLmZyb20oYXJyYXlCdWZmZXJbLCBieXRlT2Zmc2V0WywgbGVuZ3RoXV0pXG4gKiovXG5CdWZmZXIuZnJvbSA9IGZ1bmN0aW9uICh2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBmcm9tKG51bGwsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG59XG5cbmlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICBCdWZmZXIucHJvdG90eXBlLl9fcHJvdG9fXyA9IFVpbnQ4QXJyYXkucHJvdG90eXBlXG4gIEJ1ZmZlci5fX3Byb3RvX18gPSBVaW50OEFycmF5XG4gIGlmICh0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wuc3BlY2llcyAmJlxuICAgICAgQnVmZmVyW1N5bWJvbC5zcGVjaWVzXSA9PT0gQnVmZmVyKSB7XG4gICAgLy8gRml4IHN1YmFycmF5KCkgaW4gRVMyMDE2LiBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyL3B1bGwvOTdcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQnVmZmVyLCBTeW1ib2wuc3BlY2llcywge1xuICAgICAgdmFsdWU6IG51bGwsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KVxuICB9XG59XG5cbmZ1bmN0aW9uIGFzc2VydFNpemUgKHNpemUpIHtcbiAgaWYgKHR5cGVvZiBzaXplICE9PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wic2l6ZVwiIGFyZ3VtZW50IG11c3QgYmUgYSBudW1iZXInKVxuICB9IGVsc2UgaWYgKHNpemUgPCAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1wic2l6ZVwiIGFyZ3VtZW50IG11c3Qgbm90IGJlIG5lZ2F0aXZlJylcbiAgfVxufVxuXG5mdW5jdGlvbiBhbGxvYyAodGhhdCwgc2l6ZSwgZmlsbCwgZW5jb2RpbmcpIHtcbiAgYXNzZXJ0U2l6ZShzaXplKVxuICBpZiAoc2l6ZSA8PSAwKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKVxuICB9XG4gIGlmIChmaWxsICE9PSB1bmRlZmluZWQpIHtcbiAgICAvLyBPbmx5IHBheSBhdHRlbnRpb24gdG8gZW5jb2RpbmcgaWYgaXQncyBhIHN0cmluZy4gVGhpc1xuICAgIC8vIHByZXZlbnRzIGFjY2lkZW50YWxseSBzZW5kaW5nIGluIGEgbnVtYmVyIHRoYXQgd291bGRcbiAgICAvLyBiZSBpbnRlcnByZXR0ZWQgYXMgYSBzdGFydCBvZmZzZXQuXG4gICAgcmV0dXJuIHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZydcbiAgICAgID8gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUpLmZpbGwoZmlsbCwgZW5jb2RpbmcpXG4gICAgICA6IGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKS5maWxsKGZpbGwpXG4gIH1cbiAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cbiAqIGFsbG9jKHNpemVbLCBmaWxsWywgZW5jb2RpbmddXSlcbiAqKi9cbkJ1ZmZlci5hbGxvYyA9IGZ1bmN0aW9uIChzaXplLCBmaWxsLCBlbmNvZGluZykge1xuICByZXR1cm4gYWxsb2MobnVsbCwgc2l6ZSwgZmlsbCwgZW5jb2RpbmcpXG59XG5cbmZ1bmN0aW9uIGFsbG9jVW5zYWZlICh0aGF0LCBzaXplKSB7XG4gIGFzc2VydFNpemUoc2l6ZSlcbiAgdGhhdCA9IGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplIDwgMCA/IDAgOiBjaGVja2VkKHNpemUpIHwgMClcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgKytpKSB7XG4gICAgICB0aGF0W2ldID0gMFxuICAgIH1cbiAgfVxuICByZXR1cm4gdGhhdFxufVxuXG4vKipcbiAqIEVxdWl2YWxlbnQgdG8gQnVmZmVyKG51bSksIGJ5IGRlZmF1bHQgY3JlYXRlcyBhIG5vbi16ZXJvLWZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKiAqL1xuQnVmZmVyLmFsbG9jVW5zYWZlID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgcmV0dXJuIGFsbG9jVW5zYWZlKG51bGwsIHNpemUpXG59XG4vKipcbiAqIEVxdWl2YWxlbnQgdG8gU2xvd0J1ZmZlcihudW0pLCBieSBkZWZhdWx0IGNyZWF0ZXMgYSBub24temVyby1maWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICovXG5CdWZmZXIuYWxsb2NVbnNhZmVTbG93ID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgcmV0dXJuIGFsbG9jVW5zYWZlKG51bGwsIHNpemUpXG59XG5cbmZ1bmN0aW9uIGZyb21TdHJpbmcgKHRoYXQsIHN0cmluZywgZW5jb2RpbmcpIHtcbiAgaWYgKHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycgfHwgZW5jb2RpbmcgPT09ICcnKSB7XG4gICAgZW5jb2RpbmcgPSAndXRmOCdcbiAgfVxuXG4gIGlmICghQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJlbmNvZGluZ1wiIG11c3QgYmUgYSB2YWxpZCBzdHJpbmcgZW5jb2RpbmcnKVxuICB9XG5cbiAgdmFyIGxlbmd0aCA9IGJ5dGVMZW5ndGgoc3RyaW5nLCBlbmNvZGluZykgfCAwXG4gIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgbGVuZ3RoKVxuXG4gIHZhciBhY3R1YWwgPSB0aGF0LndyaXRlKHN0cmluZywgZW5jb2RpbmcpXG5cbiAgaWYgKGFjdHVhbCAhPT0gbGVuZ3RoKSB7XG4gICAgLy8gV3JpdGluZyBhIGhleCBzdHJpbmcsIGZvciBleGFtcGxlLCB0aGF0IGNvbnRhaW5zIGludmFsaWQgY2hhcmFjdGVycyB3aWxsXG4gICAgLy8gY2F1c2UgZXZlcnl0aGluZyBhZnRlciB0aGUgZmlyc3QgaW52YWxpZCBjaGFyYWN0ZXIgdG8gYmUgaWdub3JlZC4gKGUuZy5cbiAgICAvLyAnYWJ4eGNkJyB3aWxsIGJlIHRyZWF0ZWQgYXMgJ2FiJylcbiAgICB0aGF0ID0gdGhhdC5zbGljZSgwLCBhY3R1YWwpXG4gIH1cblxuICByZXR1cm4gdGhhdFxufVxuXG5mdW5jdGlvbiBmcm9tQXJyYXlMaWtlICh0aGF0LCBhcnJheSkge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoIDwgMCA/IDAgOiBjaGVja2VkKGFycmF5Lmxlbmd0aCkgfCAwXG4gIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgbGVuZ3RoKVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgdGhhdFtpXSA9IGFycmF5W2ldICYgMjU1XG4gIH1cbiAgcmV0dXJuIHRoYXRcbn1cblxuZnVuY3Rpb24gZnJvbUFycmF5QnVmZmVyICh0aGF0LCBhcnJheSwgYnl0ZU9mZnNldCwgbGVuZ3RoKSB7XG4gIGFycmF5LmJ5dGVMZW5ndGggLy8gdGhpcyB0aHJvd3MgaWYgYGFycmF5YCBpcyBub3QgYSB2YWxpZCBBcnJheUJ1ZmZlclxuXG4gIGlmIChieXRlT2Zmc2V0IDwgMCB8fCBhcnJheS5ieXRlTGVuZ3RoIDwgYnl0ZU9mZnNldCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcXCdvZmZzZXRcXCcgaXMgb3V0IG9mIGJvdW5kcycpXG4gIH1cblxuICBpZiAoYXJyYXkuYnl0ZUxlbmd0aCA8IGJ5dGVPZmZzZXQgKyAobGVuZ3RoIHx8IDApKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1xcJ2xlbmd0aFxcJyBpcyBvdXQgb2YgYm91bmRzJylcbiAgfVxuXG4gIGlmIChieXRlT2Zmc2V0ID09PSB1bmRlZmluZWQgJiYgbGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBhcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5KVxuICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheSwgYnl0ZU9mZnNldClcbiAgfSBlbHNlIHtcbiAgICBhcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5LCBieXRlT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZSwgZm9yIGJlc3QgcGVyZm9ybWFuY2VcbiAgICB0aGF0ID0gYXJyYXlcbiAgICB0aGF0Ll9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgfSBlbHNlIHtcbiAgICAvLyBGYWxsYmFjazogUmV0dXJuIGFuIG9iamVjdCBpbnN0YW5jZSBvZiB0aGUgQnVmZmVyIGNsYXNzXG4gICAgdGhhdCA9IGZyb21BcnJheUxpa2UodGhhdCwgYXJyYXkpXG4gIH1cbiAgcmV0dXJuIHRoYXRcbn1cblxuZnVuY3Rpb24gZnJvbU9iamVjdCAodGhhdCwgb2JqKSB7XG4gIGlmIChCdWZmZXIuaXNCdWZmZXIob2JqKSkge1xuICAgIHZhciBsZW4gPSBjaGVja2VkKG9iai5sZW5ndGgpIHwgMFxuICAgIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgbGVuKVxuXG4gICAgaWYgKHRoYXQubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhhdFxuICAgIH1cblxuICAgIG9iai5jb3B5KHRoYXQsIDAsIDAsIGxlbilcbiAgICByZXR1cm4gdGhhdFxuICB9XG5cbiAgaWYgKG9iaikge1xuICAgIGlmICgodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICBvYmouYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHx8ICdsZW5ndGgnIGluIG9iaikge1xuICAgICAgaWYgKHR5cGVvZiBvYmoubGVuZ3RoICE9PSAnbnVtYmVyJyB8fCBpc25hbihvYmoubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlQnVmZmVyKHRoYXQsIDApXG4gICAgICB9XG4gICAgICByZXR1cm4gZnJvbUFycmF5TGlrZSh0aGF0LCBvYmopXG4gICAgfVxuXG4gICAgaWYgKG9iai50eXBlID09PSAnQnVmZmVyJyAmJiBpc0FycmF5KG9iai5kYXRhKSkge1xuICAgICAgcmV0dXJuIGZyb21BcnJheUxpa2UodGhhdCwgb2JqLmRhdGEpXG4gICAgfVxuICB9XG5cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcignRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksIG9yIGFycmF5LWxpa2Ugb2JqZWN0LicpXG59XG5cbmZ1bmN0aW9uIGNoZWNrZWQgKGxlbmd0aCkge1xuICAvLyBOb3RlOiBjYW5ub3QgdXNlIGBsZW5ndGggPCBrTWF4TGVuZ3RoKClgIGhlcmUgYmVjYXVzZSB0aGF0IGZhaWxzIHdoZW5cbiAgLy8gbGVuZ3RoIGlzIE5hTiAod2hpY2ggaXMgb3RoZXJ3aXNlIGNvZXJjZWQgdG8gemVyby4pXG4gIGlmIChsZW5ndGggPj0ga01heExlbmd0aCgpKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0F0dGVtcHQgdG8gYWxsb2NhdGUgQnVmZmVyIGxhcmdlciB0aGFuIG1heGltdW0gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgJ3NpemU6IDB4JyArIGtNYXhMZW5ndGgoKS50b1N0cmluZygxNikgKyAnIGJ5dGVzJylcbiAgfVxuICByZXR1cm4gbGVuZ3RoIHwgMFxufVxuXG5mdW5jdGlvbiBTbG93QnVmZmVyIChsZW5ndGgpIHtcbiAgaWYgKCtsZW5ndGggIT0gbGVuZ3RoKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZXFlcWVxXG4gICAgbGVuZ3RoID0gMFxuICB9XG4gIHJldHVybiBCdWZmZXIuYWxsb2MoK2xlbmd0aClcbn1cblxuQnVmZmVyLmlzQnVmZmVyID0gZnVuY3Rpb24gaXNCdWZmZXIgKGIpIHtcbiAgcmV0dXJuICEhKGIgIT0gbnVsbCAmJiBiLl9pc0J1ZmZlcilcbn1cblxuQnVmZmVyLmNvbXBhcmUgPSBmdW5jdGlvbiBjb21wYXJlIChhLCBiKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGEpIHx8ICFCdWZmZXIuaXNCdWZmZXIoYikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudHMgbXVzdCBiZSBCdWZmZXJzJylcbiAgfVxuXG4gIGlmIChhID09PSBiKSByZXR1cm4gMFxuXG4gIHZhciB4ID0gYS5sZW5ndGhcbiAgdmFyIHkgPSBiLmxlbmd0aFxuXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBNYXRoLm1pbih4LCB5KTsgaSA8IGxlbjsgKytpKSB7XG4gICAgaWYgKGFbaV0gIT09IGJbaV0pIHtcbiAgICAgIHggPSBhW2ldXG4gICAgICB5ID0gYltpXVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICBpZiAoeCA8IHkpIHJldHVybiAtMVxuICBpZiAoeSA8IHgpIHJldHVybiAxXG4gIHJldHVybiAwXG59XG5cbkJ1ZmZlci5pc0VuY29kaW5nID0gZnVuY3Rpb24gaXNFbmNvZGluZyAoZW5jb2RpbmcpIHtcbiAgc3dpdGNoIChTdHJpbmcoZW5jb2RpbmcpLnRvTG93ZXJDYXNlKCkpIHtcbiAgICBjYXNlICdoZXgnOlxuICAgIGNhc2UgJ3V0ZjgnOlxuICAgIGNhc2UgJ3V0Zi04JzpcbiAgICBjYXNlICdhc2NpaSc6XG4gICAgY2FzZSAnbGF0aW4xJzpcbiAgICBjYXNlICdiaW5hcnknOlxuICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgY2FzZSAndWNzMic6XG4gICAgY2FzZSAndWNzLTInOlxuICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgIHJldHVybiB0cnVlXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbkJ1ZmZlci5jb25jYXQgPSBmdW5jdGlvbiBjb25jYXQgKGxpc3QsIGxlbmd0aCkge1xuICBpZiAoIWlzQXJyYXkobGlzdCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKVxuICB9XG5cbiAgaWYgKGxpc3QubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIEJ1ZmZlci5hbGxvYygwKVxuICB9XG5cbiAgdmFyIGlcbiAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbGVuZ3RoID0gMFxuICAgIGZvciAoaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgKytpKSB7XG4gICAgICBsZW5ndGggKz0gbGlzdFtpXS5sZW5ndGhcbiAgICB9XG4gIH1cblxuICB2YXIgYnVmZmVyID0gQnVmZmVyLmFsbG9jVW5zYWZlKGxlbmd0aClcbiAgdmFyIHBvcyA9IDBcbiAgZm9yIChpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyArK2kpIHtcbiAgICB2YXIgYnVmID0gbGlzdFtpXVxuICAgIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZikpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpXG4gICAgfVxuICAgIGJ1Zi5jb3B5KGJ1ZmZlciwgcG9zKVxuICAgIHBvcyArPSBidWYubGVuZ3RoXG4gIH1cbiAgcmV0dXJuIGJ1ZmZlclxufVxuXG5mdW5jdGlvbiBieXRlTGVuZ3RoIChzdHJpbmcsIGVuY29kaW5nKSB7XG4gIGlmIChCdWZmZXIuaXNCdWZmZXIoc3RyaW5nKSkge1xuICAgIHJldHVybiBzdHJpbmcubGVuZ3RoXG4gIH1cbiAgaWYgKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIEFycmF5QnVmZmVyLmlzVmlldyA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgKEFycmF5QnVmZmVyLmlzVmlldyhzdHJpbmcpIHx8IHN0cmluZyBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSkge1xuICAgIHJldHVybiBzdHJpbmcuYnl0ZUxlbmd0aFxuICB9XG4gIGlmICh0eXBlb2Ygc3RyaW5nICE9PSAnc3RyaW5nJykge1xuICAgIHN0cmluZyA9ICcnICsgc3RyaW5nXG4gIH1cblxuICB2YXIgbGVuID0gc3RyaW5nLmxlbmd0aFxuICBpZiAobGVuID09PSAwKSByZXR1cm4gMFxuXG4gIC8vIFVzZSBhIGZvciBsb29wIHRvIGF2b2lkIHJlY3Vyc2lvblxuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuICBmb3IgKDs7KSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsZW5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgY2FzZSB1bmRlZmluZWQ6XG4gICAgICAgIHJldHVybiB1dGY4VG9CeXRlcyhzdHJpbmcpLmxlbmd0aFxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIGxlbiAqIDJcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBsZW4gPj4+IDFcbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIHJldHVybiBiYXNlNjRUb0J5dGVzKHN0cmluZykubGVuZ3RoXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHJldHVybiB1dGY4VG9CeXRlcyhzdHJpbmcpLmxlbmd0aCAvLyBhc3N1bWUgdXRmOFxuICAgICAgICBlbmNvZGluZyA9ICgnJyArIGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuQnVmZmVyLmJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoXG5cbmZ1bmN0aW9uIHNsb3dUb1N0cmluZyAoZW5jb2RpbmcsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2VcblxuICAvLyBObyBuZWVkIHRvIHZlcmlmeSB0aGF0IFwidGhpcy5sZW5ndGggPD0gTUFYX1VJTlQzMlwiIHNpbmNlIGl0J3MgYSByZWFkLW9ubHlcbiAgLy8gcHJvcGVydHkgb2YgYSB0eXBlZCBhcnJheS5cblxuICAvLyBUaGlzIGJlaGF2ZXMgbmVpdGhlciBsaWtlIFN0cmluZyBub3IgVWludDhBcnJheSBpbiB0aGF0IHdlIHNldCBzdGFydC9lbmRcbiAgLy8gdG8gdGhlaXIgdXBwZXIvbG93ZXIgYm91bmRzIGlmIHRoZSB2YWx1ZSBwYXNzZWQgaXMgb3V0IG9mIHJhbmdlLlxuICAvLyB1bmRlZmluZWQgaXMgaGFuZGxlZCBzcGVjaWFsbHkgYXMgcGVyIEVDTUEtMjYyIDZ0aCBFZGl0aW9uLFxuICAvLyBTZWN0aW9uIDEzLjMuMy43IFJ1bnRpbWUgU2VtYW50aWNzOiBLZXllZEJpbmRpbmdJbml0aWFsaXphdGlvbi5cbiAgaWYgKHN0YXJ0ID09PSB1bmRlZmluZWQgfHwgc3RhcnQgPCAwKSB7XG4gICAgc3RhcnQgPSAwXG4gIH1cbiAgLy8gUmV0dXJuIGVhcmx5IGlmIHN0YXJ0ID4gdGhpcy5sZW5ndGguIERvbmUgaGVyZSB0byBwcmV2ZW50IHBvdGVudGlhbCB1aW50MzJcbiAgLy8gY29lcmNpb24gZmFpbCBiZWxvdy5cbiAgaWYgKHN0YXJ0ID4gdGhpcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIGlmIChlbmQgPT09IHVuZGVmaW5lZCB8fCBlbmQgPiB0aGlzLmxlbmd0aCkge1xuICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gIH1cblxuICBpZiAoZW5kIDw9IDApIHtcbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIC8vIEZvcmNlIGNvZXJzaW9uIHRvIHVpbnQzMi4gVGhpcyB3aWxsIGFsc28gY29lcmNlIGZhbHNleS9OYU4gdmFsdWVzIHRvIDAuXG4gIGVuZCA+Pj49IDBcbiAgc3RhcnQgPj4+PSAwXG5cbiAgaWYgKGVuZCA8PSBzdGFydCkge1xuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSAndXRmOCdcblxuICB3aGlsZSAodHJ1ZSkge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBoZXhTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgICAgcmV0dXJuIHV0ZjhTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICAgIHJldHVybiBhc2NpaVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gbGF0aW4xU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgICAgcmV0dXJuIGJhc2U2NFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiB1dGYxNmxlU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgICAgIGVuY29kaW5nID0gKGVuY29kaW5nICsgJycpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlXG4gICAgfVxuICB9XG59XG5cbi8vIFRoZSBwcm9wZXJ0eSBpcyB1c2VkIGJ5IGBCdWZmZXIuaXNCdWZmZXJgIGFuZCBgaXMtYnVmZmVyYCAoaW4gU2FmYXJpIDUtNykgdG8gZGV0ZWN0XG4vLyBCdWZmZXIgaW5zdGFuY2VzLlxuQnVmZmVyLnByb3RvdHlwZS5faXNCdWZmZXIgPSB0cnVlXG5cbmZ1bmN0aW9uIHN3YXAgKGIsIG4sIG0pIHtcbiAgdmFyIGkgPSBiW25dXG4gIGJbbl0gPSBiW21dXG4gIGJbbV0gPSBpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDE2ID0gZnVuY3Rpb24gc3dhcDE2ICgpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSAyICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAxNi1iaXRzJylcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSAyKSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgMSlcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXAzMiA9IGZ1bmN0aW9uIHN3YXAzMiAoKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgNCAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMzItYml0cycpXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDMpXG4gICAgc3dhcCh0aGlzLCBpICsgMSwgaSArIDIpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwNjQgPSBmdW5jdGlvbiBzd2FwNjQgKCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDggIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDY0LWJpdHMnKVxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDgpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyA3KVxuICAgIHN3YXAodGhpcywgaSArIDEsIGkgKyA2KVxuICAgIHN3YXAodGhpcywgaSArIDIsIGkgKyA1KVxuICAgIHN3YXAodGhpcywgaSArIDMsIGkgKyA0KVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyAoKSB7XG4gIHZhciBsZW5ndGggPSB0aGlzLmxlbmd0aCB8IDBcbiAgaWYgKGxlbmd0aCA9PT0gMCkgcmV0dXJuICcnXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSByZXR1cm4gdXRmOFNsaWNlKHRoaXMsIDAsIGxlbmd0aClcbiAgcmV0dXJuIHNsb3dUb1N0cmluZy5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzIChiKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyJylcbiAgaWYgKHRoaXMgPT09IGIpIHJldHVybiB0cnVlXG4gIHJldHVybiBCdWZmZXIuY29tcGFyZSh0aGlzLCBiKSA9PT0gMFxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluc3BlY3QgPSBmdW5jdGlvbiBpbnNwZWN0ICgpIHtcbiAgdmFyIHN0ciA9ICcnXG4gIHZhciBtYXggPSBleHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTXG4gIGlmICh0aGlzLmxlbmd0aCA+IDApIHtcbiAgICBzdHIgPSB0aGlzLnRvU3RyaW5nKCdoZXgnLCAwLCBtYXgpLm1hdGNoKC8uezJ9L2cpLmpvaW4oJyAnKVxuICAgIGlmICh0aGlzLmxlbmd0aCA+IG1heCkgc3RyICs9ICcgLi4uICdcbiAgfVxuICByZXR1cm4gJzxCdWZmZXIgJyArIHN0ciArICc+J1xufVxuXG5CdWZmZXIucHJvdG90eXBlLmNvbXBhcmUgPSBmdW5jdGlvbiBjb21wYXJlICh0YXJnZXQsIHN0YXJ0LCBlbmQsIHRoaXNTdGFydCwgdGhpc0VuZCkge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcih0YXJnZXQpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlcicpXG4gIH1cblxuICBpZiAoc3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHN0YXJ0ID0gMFxuICB9XG4gIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgIGVuZCA9IHRhcmdldCA/IHRhcmdldC5sZW5ndGggOiAwXG4gIH1cbiAgaWYgKHRoaXNTdGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpc1N0YXJ0ID0gMFxuICB9XG4gIGlmICh0aGlzRW5kID09PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzRW5kID0gdGhpcy5sZW5ndGhcbiAgfVxuXG4gIGlmIChzdGFydCA8IDAgfHwgZW5kID4gdGFyZ2V0Lmxlbmd0aCB8fCB0aGlzU3RhcnQgPCAwIHx8IHRoaXNFbmQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdvdXQgb2YgcmFuZ2UgaW5kZXgnKVxuICB9XG5cbiAgaWYgKHRoaXNTdGFydCA+PSB0aGlzRW5kICYmIHN0YXJ0ID49IGVuZCkge1xuICAgIHJldHVybiAwXG4gIH1cbiAgaWYgKHRoaXNTdGFydCA+PSB0aGlzRW5kKSB7XG4gICAgcmV0dXJuIC0xXG4gIH1cbiAgaWYgKHN0YXJ0ID49IGVuZCkge1xuICAgIHJldHVybiAxXG4gIH1cblxuICBzdGFydCA+Pj49IDBcbiAgZW5kID4+Pj0gMFxuICB0aGlzU3RhcnQgPj4+PSAwXG4gIHRoaXNFbmQgPj4+PSAwXG5cbiAgaWYgKHRoaXMgPT09IHRhcmdldCkgcmV0dXJuIDBcblxuICB2YXIgeCA9IHRoaXNFbmQgLSB0aGlzU3RhcnRcbiAgdmFyIHkgPSBlbmQgLSBzdGFydFxuICB2YXIgbGVuID0gTWF0aC5taW4oeCwgeSlcblxuICB2YXIgdGhpc0NvcHkgPSB0aGlzLnNsaWNlKHRoaXNTdGFydCwgdGhpc0VuZClcbiAgdmFyIHRhcmdldENvcHkgPSB0YXJnZXQuc2xpY2Uoc3RhcnQsIGVuZClcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgaWYgKHRoaXNDb3B5W2ldICE9PSB0YXJnZXRDb3B5W2ldKSB7XG4gICAgICB4ID0gdGhpc0NvcHlbaV1cbiAgICAgIHkgPSB0YXJnZXRDb3B5W2ldXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIGlmICh4IDwgeSkgcmV0dXJuIC0xXG4gIGlmICh5IDwgeCkgcmV0dXJuIDFcbiAgcmV0dXJuIDBcbn1cblxuLy8gRmluZHMgZWl0aGVyIHRoZSBmaXJzdCBpbmRleCBvZiBgdmFsYCBpbiBgYnVmZmVyYCBhdCBvZmZzZXQgPj0gYGJ5dGVPZmZzZXRgLFxuLy8gT1IgdGhlIGxhc3QgaW5kZXggb2YgYHZhbGAgaW4gYGJ1ZmZlcmAgYXQgb2Zmc2V0IDw9IGBieXRlT2Zmc2V0YC5cbi8vXG4vLyBBcmd1bWVudHM6XG4vLyAtIGJ1ZmZlciAtIGEgQnVmZmVyIHRvIHNlYXJjaFxuLy8gLSB2YWwgLSBhIHN0cmluZywgQnVmZmVyLCBvciBudW1iZXJcbi8vIC0gYnl0ZU9mZnNldCAtIGFuIGluZGV4IGludG8gYGJ1ZmZlcmA7IHdpbGwgYmUgY2xhbXBlZCB0byBhbiBpbnQzMlxuLy8gLSBlbmNvZGluZyAtIGFuIG9wdGlvbmFsIGVuY29kaW5nLCByZWxldmFudCBpcyB2YWwgaXMgYSBzdHJpbmdcbi8vIC0gZGlyIC0gdHJ1ZSBmb3IgaW5kZXhPZiwgZmFsc2UgZm9yIGxhc3RJbmRleE9mXG5mdW5jdGlvbiBiaWRpcmVjdGlvbmFsSW5kZXhPZiAoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpIHtcbiAgLy8gRW1wdHkgYnVmZmVyIG1lYW5zIG5vIG1hdGNoXG4gIGlmIChidWZmZXIubGVuZ3RoID09PSAwKSByZXR1cm4gLTFcblxuICAvLyBOb3JtYWxpemUgYnl0ZU9mZnNldFxuICBpZiAodHlwZW9mIGJ5dGVPZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgZW5jb2RpbmcgPSBieXRlT2Zmc2V0XG4gICAgYnl0ZU9mZnNldCA9IDBcbiAgfSBlbHNlIGlmIChieXRlT2Zmc2V0ID4gMHg3ZmZmZmZmZikge1xuICAgIGJ5dGVPZmZzZXQgPSAweDdmZmZmZmZmXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA8IC0weDgwMDAwMDAwKSB7XG4gICAgYnl0ZU9mZnNldCA9IC0weDgwMDAwMDAwXG4gIH1cbiAgYnl0ZU9mZnNldCA9ICtieXRlT2Zmc2V0ICAvLyBDb2VyY2UgdG8gTnVtYmVyLlxuICBpZiAoaXNOYU4oYnl0ZU9mZnNldCkpIHtcbiAgICAvLyBieXRlT2Zmc2V0OiBpdCBpdCdzIHVuZGVmaW5lZCwgbnVsbCwgTmFOLCBcImZvb1wiLCBldGMsIHNlYXJjaCB3aG9sZSBidWZmZXJcbiAgICBieXRlT2Zmc2V0ID0gZGlyID8gMCA6IChidWZmZXIubGVuZ3RoIC0gMSlcbiAgfVxuXG4gIC8vIE5vcm1hbGl6ZSBieXRlT2Zmc2V0OiBuZWdhdGl2ZSBvZmZzZXRzIHN0YXJ0IGZyb20gdGhlIGVuZCBvZiB0aGUgYnVmZmVyXG4gIGlmIChieXRlT2Zmc2V0IDwgMCkgYnl0ZU9mZnNldCA9IGJ1ZmZlci5sZW5ndGggKyBieXRlT2Zmc2V0XG4gIGlmIChieXRlT2Zmc2V0ID49IGJ1ZmZlci5sZW5ndGgpIHtcbiAgICBpZiAoZGlyKSByZXR1cm4gLTFcbiAgICBlbHNlIGJ5dGVPZmZzZXQgPSBidWZmZXIubGVuZ3RoIC0gMVxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPCAwKSB7XG4gICAgaWYgKGRpcikgYnl0ZU9mZnNldCA9IDBcbiAgICBlbHNlIHJldHVybiAtMVxuICB9XG5cbiAgLy8gTm9ybWFsaXplIHZhbFxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICB2YWwgPSBCdWZmZXIuZnJvbSh2YWwsIGVuY29kaW5nKVxuICB9XG5cbiAgLy8gRmluYWxseSwgc2VhcmNoIGVpdGhlciBpbmRleE9mIChpZiBkaXIgaXMgdHJ1ZSkgb3IgbGFzdEluZGV4T2ZcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcih2YWwpKSB7XG4gICAgLy8gU3BlY2lhbCBjYXNlOiBsb29raW5nIGZvciBlbXB0eSBzdHJpbmcvYnVmZmVyIGFsd2F5cyBmYWlsc1xuICAgIGlmICh2YWwubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gLTFcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5SW5kZXhPZihidWZmZXIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcilcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIHZhbCA9IHZhbCAmIDB4RkYgLy8gU2VhcmNoIGZvciBhIGJ5dGUgdmFsdWUgWzAtMjU1XVxuICAgIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCAmJlxuICAgICAgICB0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaWYgKGRpcikge1xuICAgICAgICByZXR1cm4gVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mLmNhbGwoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJheUluZGV4T2YoYnVmZmVyLCBbIHZhbCBdLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKVxuICB9XG5cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcigndmFsIG11c3QgYmUgc3RyaW5nLCBudW1iZXIgb3IgQnVmZmVyJylcbn1cblxuZnVuY3Rpb24gYXJyYXlJbmRleE9mIChhcnIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcikge1xuICB2YXIgaW5kZXhTaXplID0gMVxuICB2YXIgYXJyTGVuZ3RoID0gYXJyLmxlbmd0aFxuICB2YXIgdmFsTGVuZ3RoID0gdmFsLmxlbmd0aFxuXG4gIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZW5jb2RpbmcgPSBTdHJpbmcoZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICBpZiAoZW5jb2RpbmcgPT09ICd1Y3MyJyB8fCBlbmNvZGluZyA9PT0gJ3Vjcy0yJyB8fFxuICAgICAgICBlbmNvZGluZyA9PT0gJ3V0ZjE2bGUnIHx8IGVuY29kaW5nID09PSAndXRmLTE2bGUnKSB7XG4gICAgICBpZiAoYXJyLmxlbmd0aCA8IDIgfHwgdmFsLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIC0xXG4gICAgICB9XG4gICAgICBpbmRleFNpemUgPSAyXG4gICAgICBhcnJMZW5ndGggLz0gMlxuICAgICAgdmFsTGVuZ3RoIC89IDJcbiAgICAgIGJ5dGVPZmZzZXQgLz0gMlxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWQgKGJ1ZiwgaSkge1xuICAgIGlmIChpbmRleFNpemUgPT09IDEpIHtcbiAgICAgIHJldHVybiBidWZbaV1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGJ1Zi5yZWFkVUludDE2QkUoaSAqIGluZGV4U2l6ZSlcbiAgICB9XG4gIH1cblxuICB2YXIgaVxuICBpZiAoZGlyKSB7XG4gICAgdmFyIGZvdW5kSW5kZXggPSAtMVxuICAgIGZvciAoaSA9IGJ5dGVPZmZzZXQ7IGkgPCBhcnJMZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHJlYWQoYXJyLCBpKSA9PT0gcmVhZCh2YWwsIGZvdW5kSW5kZXggPT09IC0xID8gMCA6IGkgLSBmb3VuZEluZGV4KSkge1xuICAgICAgICBpZiAoZm91bmRJbmRleCA9PT0gLTEpIGZvdW5kSW5kZXggPSBpXG4gICAgICAgIGlmIChpIC0gZm91bmRJbmRleCArIDEgPT09IHZhbExlbmd0aCkgcmV0dXJuIGZvdW5kSW5kZXggKiBpbmRleFNpemVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChmb3VuZEluZGV4ICE9PSAtMSkgaSAtPSBpIC0gZm91bmRJbmRleFxuICAgICAgICBmb3VuZEluZGV4ID0gLTFcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGJ5dGVPZmZzZXQgKyB2YWxMZW5ndGggPiBhcnJMZW5ndGgpIGJ5dGVPZmZzZXQgPSBhcnJMZW5ndGggLSB2YWxMZW5ndGhcbiAgICBmb3IgKGkgPSBieXRlT2Zmc2V0OyBpID49IDA7IGktLSkge1xuICAgICAgdmFyIGZvdW5kID0gdHJ1ZVxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB2YWxMZW5ndGg7IGorKykge1xuICAgICAgICBpZiAocmVhZChhcnIsIGkgKyBqKSAhPT0gcmVhZCh2YWwsIGopKSB7XG4gICAgICAgICAgZm91bmQgPSBmYWxzZVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChmb3VuZCkgcmV0dXJuIGlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gLTFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbmNsdWRlcyA9IGZ1bmN0aW9uIGluY2x1ZGVzICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiB0aGlzLmluZGV4T2YodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykgIT09IC0xXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uIGluZGV4T2YgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIHRydWUpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUubGFzdEluZGV4T2YgPSBmdW5jdGlvbiBsYXN0SW5kZXhPZiAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcywgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZmFsc2UpXG59XG5cbmZ1bmN0aW9uIGhleFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgb2Zmc2V0ID0gTnVtYmVyKG9mZnNldCkgfHwgMFxuICB2YXIgcmVtYWluaW5nID0gYnVmLmxlbmd0aCAtIG9mZnNldFxuICBpZiAoIWxlbmd0aCkge1xuICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuICB9IGVsc2Uge1xuICAgIGxlbmd0aCA9IE51bWJlcihsZW5ndGgpXG4gICAgaWYgKGxlbmd0aCA+IHJlbWFpbmluZykge1xuICAgICAgbGVuZ3RoID0gcmVtYWluaW5nXG4gICAgfVxuICB9XG5cbiAgLy8gbXVzdCBiZSBhbiBldmVuIG51bWJlciBvZiBkaWdpdHNcbiAgdmFyIHN0ckxlbiA9IHN0cmluZy5sZW5ndGhcbiAgaWYgKHN0ckxlbiAlIDIgIT09IDApIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgaGV4IHN0cmluZycpXG5cbiAgaWYgKGxlbmd0aCA+IHN0ckxlbiAvIDIpIHtcbiAgICBsZW5ndGggPSBzdHJMZW4gLyAyXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIHZhciBwYXJzZWQgPSBwYXJzZUludChzdHJpbmcuc3Vic3RyKGkgKiAyLCAyKSwgMTYpXG4gICAgaWYgKGlzTmFOKHBhcnNlZCkpIHJldHVybiBpXG4gICAgYnVmW29mZnNldCArIGldID0gcGFyc2VkXG4gIH1cbiAgcmV0dXJuIGlcbn1cblxuZnVuY3Rpb24gdXRmOFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIodXRmOFRvQnl0ZXMoc3RyaW5nLCBidWYubGVuZ3RoIC0gb2Zmc2V0KSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gYXNjaWlXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKGFzY2lpVG9CeXRlcyhzdHJpbmcpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBsYXRpbjFXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBhc2NpaVdyaXRlKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gYmFzZTY0V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcihiYXNlNjRUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIHVjczJXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKHV0ZjE2bGVUb0J5dGVzKHN0cmluZywgYnVmLmxlbmd0aCAtIG9mZnNldCksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiB3cml0ZSAoc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCwgZW5jb2RpbmcpIHtcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZylcbiAgaWYgKG9mZnNldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZW5jb2RpbmcgPSAndXRmOCdcbiAgICBsZW5ndGggPSB0aGlzLmxlbmd0aFxuICAgIG9mZnNldCA9IDBcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZywgZW5jb2RpbmcpXG4gIH0gZWxzZSBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9mZnNldCA9PT0gJ3N0cmluZycpIHtcbiAgICBlbmNvZGluZyA9IG9mZnNldFxuICAgIGxlbmd0aCA9IHRoaXMubGVuZ3RoXG4gICAgb2Zmc2V0ID0gMFxuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nLCBvZmZzZXRbLCBsZW5ndGhdWywgZW5jb2RpbmddKVxuICB9IGVsc2UgaWYgKGlzRmluaXRlKG9mZnNldCkpIHtcbiAgICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gICAgaWYgKGlzRmluaXRlKGxlbmd0aCkpIHtcbiAgICAgIGxlbmd0aCA9IGxlbmd0aCB8IDBcbiAgICAgIGlmIChlbmNvZGluZyA9PT0gdW5kZWZpbmVkKSBlbmNvZGluZyA9ICd1dGY4J1xuICAgIH0gZWxzZSB7XG4gICAgICBlbmNvZGluZyA9IGxlbmd0aFxuICAgICAgbGVuZ3RoID0gdW5kZWZpbmVkXG4gICAgfVxuICAvLyBsZWdhY3kgd3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0LCBsZW5ndGgpIC0gcmVtb3ZlIGluIHYwLjEzXG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ0J1ZmZlci53cml0ZShzdHJpbmcsIGVuY29kaW5nLCBvZmZzZXRbLCBsZW5ndGhdKSBpcyBubyBsb25nZXIgc3VwcG9ydGVkJ1xuICAgIClcbiAgfVxuXG4gIHZhciByZW1haW5pbmcgPSB0aGlzLmxlbmd0aCAtIG9mZnNldFxuICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQgfHwgbGVuZ3RoID4gcmVtYWluaW5nKSBsZW5ndGggPSByZW1haW5pbmdcblxuICBpZiAoKHN0cmluZy5sZW5ndGggPiAwICYmIChsZW5ndGggPCAwIHx8IG9mZnNldCA8IDApKSB8fCBvZmZzZXQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdBdHRlbXB0IHRvIHdyaXRlIG91dHNpZGUgYnVmZmVyIGJvdW5kcycpXG4gIH1cblxuICBpZiAoIWVuY29kaW5nKSBlbmNvZGluZyA9ICd1dGY4J1xuXG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG4gIGZvciAoOzspIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gaGV4V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiB1dGY4V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgICByZXR1cm4gYXNjaWlXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxhdGluMVdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIC8vIFdhcm5pbmc6IG1heExlbmd0aCBub3QgdGFrZW4gaW50byBhY2NvdW50IGluIGJhc2U2NFdyaXRlXG4gICAgICAgIHJldHVybiBiYXNlNjRXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gdWNzMldyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgICAgICBlbmNvZGluZyA9ICgnJyArIGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTiAoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ0J1ZmZlcicsXG4gICAgZGF0YTogQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5fYXJyIHx8IHRoaXMsIDApXG4gIH1cbn1cblxuZnVuY3Rpb24gYmFzZTY0U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBpZiAoc3RhcnQgPT09IDAgJiYgZW5kID09PSBidWYubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1ZilcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYmFzZTY0LmZyb21CeXRlQXJyYXkoYnVmLnNsaWNlKHN0YXJ0LCBlbmQpKVxuICB9XG59XG5cbmZ1bmN0aW9uIHV0ZjhTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcbiAgdmFyIHJlcyA9IFtdXG5cbiAgdmFyIGkgPSBzdGFydFxuICB3aGlsZSAoaSA8IGVuZCkge1xuICAgIHZhciBmaXJzdEJ5dGUgPSBidWZbaV1cbiAgICB2YXIgY29kZVBvaW50ID0gbnVsbFxuICAgIHZhciBieXRlc1BlclNlcXVlbmNlID0gKGZpcnN0Qnl0ZSA+IDB4RUYpID8gNFxuICAgICAgOiAoZmlyc3RCeXRlID4gMHhERikgPyAzXG4gICAgICA6IChmaXJzdEJ5dGUgPiAweEJGKSA/IDJcbiAgICAgIDogMVxuXG4gICAgaWYgKGkgKyBieXRlc1BlclNlcXVlbmNlIDw9IGVuZCkge1xuICAgICAgdmFyIHNlY29uZEJ5dGUsIHRoaXJkQnl0ZSwgZm91cnRoQnl0ZSwgdGVtcENvZGVQb2ludFxuXG4gICAgICBzd2l0Y2ggKGJ5dGVzUGVyU2VxdWVuY2UpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGlmIChmaXJzdEJ5dGUgPCAweDgwKSB7XG4gICAgICAgICAgICBjb2RlUG9pbnQgPSBmaXJzdEJ5dGVcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHgxRikgPDwgMHg2IHwgKHNlY29uZEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweDdGKSB7XG4gICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG4gICAgICAgICAgdGhpcmRCeXRlID0gYnVmW2kgKyAyXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwICYmICh0aGlyZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweEYpIDw8IDB4QyB8IChzZWNvbmRCeXRlICYgMHgzRikgPDwgMHg2IHwgKHRoaXJkQnl0ZSAmIDB4M0YpXG4gICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4N0ZGICYmICh0ZW1wQ29kZVBvaW50IDwgMHhEODAwIHx8IHRlbXBDb2RlUG9pbnQgPiAweERGRkYpKSB7XG4gICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG4gICAgICAgICAgdGhpcmRCeXRlID0gYnVmW2kgKyAyXVxuICAgICAgICAgIGZvdXJ0aEJ5dGUgPSBidWZbaSArIDNdXG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKHRoaXJkQnl0ZSAmIDB4QzApID09PSAweDgwICYmIChmb3VydGhCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHhGKSA8PCAweDEyIHwgKHNlY29uZEJ5dGUgJiAweDNGKSA8PCAweEMgfCAodGhpcmRCeXRlICYgMHgzRikgPDwgMHg2IHwgKGZvdXJ0aEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweEZGRkYgJiYgdGVtcENvZGVQb2ludCA8IDB4MTEwMDAwKSB7XG4gICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNvZGVQb2ludCA9PT0gbnVsbCkge1xuICAgICAgLy8gd2UgZGlkIG5vdCBnZW5lcmF0ZSBhIHZhbGlkIGNvZGVQb2ludCBzbyBpbnNlcnQgYVxuICAgICAgLy8gcmVwbGFjZW1lbnQgY2hhciAoVStGRkZEKSBhbmQgYWR2YW5jZSBvbmx5IDEgYnl0ZVxuICAgICAgY29kZVBvaW50ID0gMHhGRkZEXG4gICAgICBieXRlc1BlclNlcXVlbmNlID0gMVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50ID4gMHhGRkZGKSB7XG4gICAgICAvLyBlbmNvZGUgdG8gdXRmMTYgKHN1cnJvZ2F0ZSBwYWlyIGRhbmNlKVxuICAgICAgY29kZVBvaW50IC09IDB4MTAwMDBcbiAgICAgIHJlcy5wdXNoKGNvZGVQb2ludCA+Pj4gMTAgJiAweDNGRiB8IDB4RDgwMClcbiAgICAgIGNvZGVQb2ludCA9IDB4REMwMCB8IGNvZGVQb2ludCAmIDB4M0ZGXG4gICAgfVxuXG4gICAgcmVzLnB1c2goY29kZVBvaW50KVxuICAgIGkgKz0gYnl0ZXNQZXJTZXF1ZW5jZVxuICB9XG5cbiAgcmV0dXJuIGRlY29kZUNvZGVQb2ludHNBcnJheShyZXMpXG59XG5cbi8vIEJhc2VkIG9uIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIyNzQ3MjcyLzY4MDc0MiwgdGhlIGJyb3dzZXIgd2l0aFxuLy8gdGhlIGxvd2VzdCBsaW1pdCBpcyBDaHJvbWUsIHdpdGggMHgxMDAwMCBhcmdzLlxuLy8gV2UgZ28gMSBtYWduaXR1ZGUgbGVzcywgZm9yIHNhZmV0eVxudmFyIE1BWF9BUkdVTUVOVFNfTEVOR1RIID0gMHgxMDAwXG5cbmZ1bmN0aW9uIGRlY29kZUNvZGVQb2ludHNBcnJheSAoY29kZVBvaW50cykge1xuICB2YXIgbGVuID0gY29kZVBvaW50cy5sZW5ndGhcbiAgaWYgKGxlbiA8PSBNQVhfQVJHVU1FTlRTX0xFTkdUSCkge1xuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgY29kZVBvaW50cykgLy8gYXZvaWQgZXh0cmEgc2xpY2UoKVxuICB9XG5cbiAgLy8gRGVjb2RlIGluIGNodW5rcyB0byBhdm9pZCBcImNhbGwgc3RhY2sgc2l6ZSBleGNlZWRlZFwiLlxuICB2YXIgcmVzID0gJydcbiAgdmFyIGkgPSAwXG4gIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoXG4gICAgICBTdHJpbmcsXG4gICAgICBjb2RlUG9pbnRzLnNsaWNlKGksIGkgKz0gTUFYX0FSR1VNRU5UU19MRU5HVEgpXG4gICAgKVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuZnVuY3Rpb24gYXNjaWlTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciByZXQgPSAnJ1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICByZXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0gJiAweDdGKVxuICB9XG4gIHJldHVybiByZXRcbn1cblxuZnVuY3Rpb24gbGF0aW4xU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgcmV0ID0gJydcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldKVxuICB9XG4gIHJldHVybiByZXRcbn1cblxuZnVuY3Rpb24gaGV4U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgbGVuID0gYnVmLmxlbmd0aFxuXG4gIGlmICghc3RhcnQgfHwgc3RhcnQgPCAwKSBzdGFydCA9IDBcbiAgaWYgKCFlbmQgfHwgZW5kIDwgMCB8fCBlbmQgPiBsZW4pIGVuZCA9IGxlblxuXG4gIHZhciBvdXQgPSAnJ1xuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIG91dCArPSB0b0hleChidWZbaV0pXG4gIH1cbiAgcmV0dXJuIG91dFxufVxuXG5mdW5jdGlvbiB1dGYxNmxlU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgYnl0ZXMgPSBidWYuc2xpY2Uoc3RhcnQsIGVuZClcbiAgdmFyIHJlcyA9ICcnXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICByZXMgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShieXRlc1tpXSArIGJ5dGVzW2kgKyAxXSAqIDI1NilcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbiBzbGljZSAoc3RhcnQsIGVuZCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgc3RhcnQgPSB+fnN0YXJ0XG4gIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuIDogfn5lbmRcblxuICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgc3RhcnQgKz0gbGVuXG4gICAgaWYgKHN0YXJ0IDwgMCkgc3RhcnQgPSAwXG4gIH0gZWxzZSBpZiAoc3RhcnQgPiBsZW4pIHtcbiAgICBzdGFydCA9IGxlblxuICB9XG5cbiAgaWYgKGVuZCA8IDApIHtcbiAgICBlbmQgKz0gbGVuXG4gICAgaWYgKGVuZCA8IDApIGVuZCA9IDBcbiAgfSBlbHNlIGlmIChlbmQgPiBsZW4pIHtcbiAgICBlbmQgPSBsZW5cbiAgfVxuXG4gIGlmIChlbmQgPCBzdGFydCkgZW5kID0gc3RhcnRcblxuICB2YXIgbmV3QnVmXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIG5ld0J1ZiA9IHRoaXMuc3ViYXJyYXkoc3RhcnQsIGVuZClcbiAgICBuZXdCdWYuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICB9IGVsc2Uge1xuICAgIHZhciBzbGljZUxlbiA9IGVuZCAtIHN0YXJ0XG4gICAgbmV3QnVmID0gbmV3IEJ1ZmZlcihzbGljZUxlbiwgdW5kZWZpbmVkKVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2xpY2VMZW47ICsraSkge1xuICAgICAgbmV3QnVmW2ldID0gdGhpc1tpICsgc3RhcnRdXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ld0J1ZlxufVxuXG4vKlxuICogTmVlZCB0byBtYWtlIHN1cmUgdGhhdCBidWZmZXIgaXNuJ3QgdHJ5aW5nIHRvIHdyaXRlIG91dCBvZiBib3VuZHMuXG4gKi9cbmZ1bmN0aW9uIGNoZWNrT2Zmc2V0IChvZmZzZXQsIGV4dCwgbGVuZ3RoKSB7XG4gIGlmICgob2Zmc2V0ICUgMSkgIT09IDAgfHwgb2Zmc2V0IDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ29mZnNldCBpcyBub3QgdWludCcpXG4gIGlmIChvZmZzZXQgKyBleHQgPiBsZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdUcnlpbmcgdG8gYWNjZXNzIGJleW9uZCBidWZmZXIgbGVuZ3RoJylcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludExFID0gZnVuY3Rpb24gcmVhZFVJbnRMRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldF1cbiAgdmFyIG11bCA9IDFcbiAgdmFyIGkgPSAwXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgaV0gKiBtdWxcbiAgfVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludEJFID0gZnVuY3Rpb24gcmVhZFVJbnRCRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcbiAgfVxuXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIC0tYnl0ZUxlbmd0aF1cbiAgdmFyIG11bCA9IDFcbiAgd2hpbGUgKGJ5dGVMZW5ndGggPiAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgLS1ieXRlTGVuZ3RoXSAqIG11bFxuICB9XG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50OCA9IGZ1bmN0aW9uIHJlYWRVSW50OCAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDEsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gdGhpc1tvZmZzZXRdXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkxFID0gZnVuY3Rpb24gcmVhZFVJbnQxNkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiB0aGlzW29mZnNldF0gfCAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZCRSA9IGZ1bmN0aW9uIHJlYWRVSW50MTZCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSA8PCA4KSB8IHRoaXNbb2Zmc2V0ICsgMV1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyTEUgPSBmdW5jdGlvbiByZWFkVUludDMyTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKCh0aGlzW29mZnNldF0pIHxcbiAgICAgICh0aGlzW29mZnNldCArIDFdIDw8IDgpIHxcbiAgICAgICh0aGlzW29mZnNldCArIDJdIDw8IDE2KSkgK1xuICAgICAgKHRoaXNbb2Zmc2V0ICsgM10gKiAweDEwMDAwMDApXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkJFID0gZnVuY3Rpb24gcmVhZFVJbnQzMkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0gKiAweDEwMDAwMDApICtcbiAgICAoKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8XG4gICAgdGhpc1tvZmZzZXQgKyAzXSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50TEUgPSBmdW5jdGlvbiByZWFkSW50TEUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIGldICogbXVsXG4gIH1cbiAgbXVsICo9IDB4ODBcblxuICBpZiAodmFsID49IG11bCkgdmFsIC09IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50QkUgPSBmdW5jdGlvbiByZWFkSW50QkUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICB2YXIgaSA9IGJ5dGVMZW5ndGhcbiAgdmFyIG11bCA9IDFcbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0ICsgLS1pXVxuICB3aGlsZSAoaSA+IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyAtLWldICogbXVsXG4gIH1cbiAgbXVsICo9IDB4ODBcblxuICBpZiAodmFsID49IG11bCkgdmFsIC09IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50OCA9IGZ1bmN0aW9uIHJlYWRJbnQ4IChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMSwgdGhpcy5sZW5ndGgpXG4gIGlmICghKHRoaXNbb2Zmc2V0XSAmIDB4ODApKSByZXR1cm4gKHRoaXNbb2Zmc2V0XSlcbiAgcmV0dXJuICgoMHhmZiAtIHRoaXNbb2Zmc2V0XSArIDEpICogLTEpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2TEUgPSBmdW5jdGlvbiByZWFkSW50MTZMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdIHwgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOClcbiAgcmV0dXJuICh2YWwgJiAweDgwMDApID8gdmFsIHwgMHhGRkZGMDAwMCA6IHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkJFID0gZnVuY3Rpb24gcmVhZEludDE2QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0ICsgMV0gfCAodGhpc1tvZmZzZXRdIDw8IDgpXG4gIHJldHVybiAodmFsICYgMHg4MDAwKSA/IHZhbCB8IDB4RkZGRjAwMDAgOiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MzJMRSA9IGZ1bmN0aW9uIHJlYWRJbnQzMkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0pIHxcbiAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAzXSA8PCAyNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MzJCRSA9IGZ1bmN0aW9uIHJlYWRJbnQzMkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0gPDwgMjQpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDgpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAzXSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXRMRSA9IGZ1bmN0aW9uIHJlYWRGbG9hdExFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCB0cnVlLCAyMywgNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXRCRSA9IGZ1bmN0aW9uIHJlYWRGbG9hdEJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCBmYWxzZSwgMjMsIDQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUxFID0gZnVuY3Rpb24gcmVhZERvdWJsZUxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgOCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCB0cnVlLCA1MiwgOClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlQkUgPSBmdW5jdGlvbiByZWFkRG91YmxlQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA4LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIGZhbHNlLCA1MiwgOClcbn1cblxuZnVuY3Rpb24gY2hlY2tJbnQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgZXh0LCBtYXgsIG1pbikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImJ1ZmZlclwiIGFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIgaW5zdGFuY2UnKVxuICBpZiAodmFsdWUgPiBtYXggfHwgdmFsdWUgPCBtaW4pIHRocm93IG5ldyBSYW5nZUVycm9yKCdcInZhbHVlXCIgYXJndW1lbnQgaXMgb3V0IG9mIGJvdW5kcycpXG4gIGlmIChvZmZzZXQgKyBleHQgPiBidWYubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnRMRSA9IGZ1bmN0aW9uIHdyaXRlVUludExFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIG1heEJ5dGVzID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpIC0gMVxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG1heEJ5dGVzLCAwKVxuICB9XG5cbiAgdmFyIG11bCA9IDFcbiAgdmFyIGkgPSAwXG4gIHRoaXNbb2Zmc2V0XSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAodmFsdWUgLyBtdWwpICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnRCRSA9IGZ1bmN0aW9uIHdyaXRlVUludEJFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIG1heEJ5dGVzID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpIC0gMVxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG1heEJ5dGVzLCAwKVxuICB9XG5cbiAgdmFyIGkgPSBieXRlTGVuZ3RoIC0gMVxuICB2YXIgbXVsID0gMVxuICB0aGlzW29mZnNldCArIGldID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgtLWkgPj0gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAodmFsdWUgLyBtdWwpICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQ4ID0gZnVuY3Rpb24gd3JpdGVVSW50OCAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAxLCAweGZmLCAwKVxuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB2YWx1ZSA9IE1hdGguZmxvb3IodmFsdWUpXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyAxXG59XG5cbmZ1bmN0aW9uIG9iamVjdFdyaXRlVUludDE2IChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbikge1xuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZiArIHZhbHVlICsgMVxuICBmb3IgKHZhciBpID0gMCwgaiA9IE1hdGgubWluKGJ1Zi5sZW5ndGggLSBvZmZzZXQsIDIpOyBpIDwgajsgKytpKSB7XG4gICAgYnVmW29mZnNldCArIGldID0gKHZhbHVlICYgKDB4ZmYgPDwgKDggKiAobGl0dGxlRW5kaWFuID8gaSA6IDEgLSBpKSkpKSA+Pj5cbiAgICAgIChsaXR0bGVFbmRpYW4gPyBpIDogMSAtIGkpICogOFxuICB9XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MTZMRSA9IGZ1bmN0aW9uIHdyaXRlVUludDE2TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHhmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2QkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4ZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbmZ1bmN0aW9uIG9iamVjdFdyaXRlVUludDMyIChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbikge1xuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZmZmZmYgKyB2YWx1ZSArIDFcbiAgZm9yICh2YXIgaSA9IDAsIGogPSBNYXRoLm1pbihidWYubGVuZ3RoIC0gb2Zmc2V0LCA0KTsgaSA8IGo7ICsraSkge1xuICAgIGJ1ZltvZmZzZXQgKyBpXSA9ICh2YWx1ZSA+Pj4gKGxpdHRsZUVuZGlhbiA/IGkgOiAzIC0gaSkgKiA4KSAmIDB4ZmZcbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyTEUgPSBmdW5jdGlvbiB3cml0ZVVJbnQzMkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4ZmZmZmZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgPj4+IDI0KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MzJCRSA9IGZ1bmN0aW9uIHdyaXRlVUludDMyQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHhmZmZmZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiAyNClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnRMRSA9IGZ1bmN0aW9uIHdyaXRlSW50TEUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBsaW1pdCA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoIC0gMSlcblxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIGxpbWl0IC0gMSwgLWxpbWl0KVxuICB9XG5cbiAgdmFyIGkgPSAwXG4gIHZhciBtdWwgPSAxXG4gIHZhciBzdWIgPSAwXG4gIHRoaXNbb2Zmc2V0XSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIGlmICh2YWx1ZSA8IDAgJiYgc3ViID09PSAwICYmIHRoaXNbb2Zmc2V0ICsgaSAtIDFdICE9PSAwKSB7XG4gICAgICBzdWIgPSAxXG4gICAgfVxuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAoKHZhbHVlIC8gbXVsKSA+PiAwKSAtIHN1YiAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnRCRSA9IGZ1bmN0aW9uIHdyaXRlSW50QkUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBsaW1pdCA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoIC0gMSlcblxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIGxpbWl0IC0gMSwgLWxpbWl0KVxuICB9XG5cbiAgdmFyIGkgPSBieXRlTGVuZ3RoIC0gMVxuICB2YXIgbXVsID0gMVxuICB2YXIgc3ViID0gMFxuICB0aGlzW29mZnNldCArIGldID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgtLWkgPj0gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIGlmICh2YWx1ZSA8IDAgJiYgc3ViID09PSAwICYmIHRoaXNbb2Zmc2V0ICsgaSArIDFdICE9PSAwKSB7XG4gICAgICBzdWIgPSAxXG4gICAgfVxuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAoKHZhbHVlIC8gbXVsKSA+PiAwKSAtIHN1YiAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQ4ID0gZnVuY3Rpb24gd3JpdGVJbnQ4ICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDEsIDB4N2YsIC0weDgwKVxuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB2YWx1ZSA9IE1hdGguZmxvb3IodmFsdWUpXG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZiArIHZhbHVlICsgMVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZMRSA9IGZ1bmN0aW9uIHdyaXRlSW50MTZMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweDdmZmYsIC0weDgwMDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQxNkJFID0gZnVuY3Rpb24gd3JpdGVJbnQxNkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4N2ZmZiwgLTB4ODAwMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkxFID0gZnVuY3Rpb24gd3JpdGVJbnQzMkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4N2ZmZmZmZmYsIC0weDgwMDAwMDAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSA+Pj4gMjQpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJCRSA9IGZ1bmN0aW9uIHdyaXRlSW50MzJCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweDdmZmZmZmZmLCAtMHg4MDAwMDAwMClcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmZmZmZmICsgdmFsdWUgKyAxXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gMjQpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5mdW5jdGlvbiBjaGVja0lFRUU3NTQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgZXh0LCBtYXgsIG1pbikge1xuICBpZiAob2Zmc2V0ICsgZXh0ID4gYnVmLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG4gIGlmIChvZmZzZXQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbn1cblxuZnVuY3Rpb24gd3JpdGVGbG9hdCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja0lFRUU3NTQoYnVmLCB2YWx1ZSwgb2Zmc2V0LCA0LCAzLjQwMjgyMzQ2NjM4NTI4ODZlKzM4LCAtMy40MDI4MjM0NjYzODUyODg2ZSszOClcbiAgfVxuICBpZWVlNzU0LndyaXRlKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCAyMywgNClcbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0TEUgPSBmdW5jdGlvbiB3cml0ZUZsb2F0TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZUZsb2F0KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRmxvYXRCRSA9IGZ1bmN0aW9uIHdyaXRlRmxvYXRCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRmxvYXQodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxufVxuXG5mdW5jdGlvbiB3cml0ZURvdWJsZSAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja0lFRUU3NTQoYnVmLCB2YWx1ZSwgb2Zmc2V0LCA4LCAxLjc5NzY5MzEzNDg2MjMxNTdFKzMwOCwgLTEuNzk3NjkzMTM0ODYyMzE1N0UrMzA4KVxuICB9XG4gIGllZWU3NTQud3JpdGUoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIDUyLCA4KVxuICByZXR1cm4gb2Zmc2V0ICsgOFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlTEUgPSBmdW5jdGlvbiB3cml0ZURvdWJsZUxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVCRSA9IGZ1bmN0aW9uIHdyaXRlRG91YmxlQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZURvdWJsZSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbi8vIGNvcHkodGFyZ2V0QnVmZmVyLCB0YXJnZXRTdGFydD0wLCBzb3VyY2VTdGFydD0wLCBzb3VyY2VFbmQ9YnVmZmVyLmxlbmd0aClcbkJ1ZmZlci5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkgKHRhcmdldCwgdGFyZ2V0U3RhcnQsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKCFzdGFydCkgc3RhcnQgPSAwXG4gIGlmICghZW5kICYmIGVuZCAhPT0gMCkgZW5kID0gdGhpcy5sZW5ndGhcbiAgaWYgKHRhcmdldFN0YXJ0ID49IHRhcmdldC5sZW5ndGgpIHRhcmdldFN0YXJ0ID0gdGFyZ2V0Lmxlbmd0aFxuICBpZiAoIXRhcmdldFN0YXJ0KSB0YXJnZXRTdGFydCA9IDBcbiAgaWYgKGVuZCA+IDAgJiYgZW5kIDwgc3RhcnQpIGVuZCA9IHN0YXJ0XG5cbiAgLy8gQ29weSAwIGJ5dGVzOyB3ZSdyZSBkb25lXG4gIGlmIChlbmQgPT09IHN0YXJ0KSByZXR1cm4gMFxuICBpZiAodGFyZ2V0Lmxlbmd0aCA9PT0gMCB8fCB0aGlzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIDBcblxuICAvLyBGYXRhbCBlcnJvciBjb25kaXRpb25zXG4gIGlmICh0YXJnZXRTdGFydCA8IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigndGFyZ2V0U3RhcnQgb3V0IG9mIGJvdW5kcycpXG4gIH1cbiAgaWYgKHN0YXJ0IDwgMCB8fCBzdGFydCA+PSB0aGlzLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3NvdXJjZVN0YXJ0IG91dCBvZiBib3VuZHMnKVxuICBpZiAoZW5kIDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3NvdXJjZUVuZCBvdXQgb2YgYm91bmRzJylcblxuICAvLyBBcmUgd2Ugb29iP1xuICBpZiAoZW5kID4gdGhpcy5sZW5ndGgpIGVuZCA9IHRoaXMubGVuZ3RoXG4gIGlmICh0YXJnZXQubGVuZ3RoIC0gdGFyZ2V0U3RhcnQgPCBlbmQgLSBzdGFydCkge1xuICAgIGVuZCA9IHRhcmdldC5sZW5ndGggLSB0YXJnZXRTdGFydCArIHN0YXJ0XG4gIH1cblxuICB2YXIgbGVuID0gZW5kIC0gc3RhcnRcbiAgdmFyIGlcblxuICBpZiAodGhpcyA9PT0gdGFyZ2V0ICYmIHN0YXJ0IDwgdGFyZ2V0U3RhcnQgJiYgdGFyZ2V0U3RhcnQgPCBlbmQpIHtcbiAgICAvLyBkZXNjZW5kaW5nIGNvcHkgZnJvbSBlbmRcbiAgICBmb3IgKGkgPSBsZW4gLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgdGFyZ2V0W2kgKyB0YXJnZXRTdGFydF0gPSB0aGlzW2kgKyBzdGFydF1cbiAgICB9XG4gIH0gZWxzZSBpZiAobGVuIDwgMTAwMCB8fCAhQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICAvLyBhc2NlbmRpbmcgY29weSBmcm9tIHN0YXJ0XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICB0YXJnZXRbaSArIHRhcmdldFN0YXJ0XSA9IHRoaXNbaSArIHN0YXJ0XVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbChcbiAgICAgIHRhcmdldCxcbiAgICAgIHRoaXMuc3ViYXJyYXkoc3RhcnQsIHN0YXJ0ICsgbGVuKSxcbiAgICAgIHRhcmdldFN0YXJ0XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIGxlblxufVxuXG4vLyBVc2FnZTpcbi8vICAgIGJ1ZmZlci5maWxsKG51bWJlclssIG9mZnNldFssIGVuZF1dKVxuLy8gICAgYnVmZmVyLmZpbGwoYnVmZmVyWywgb2Zmc2V0WywgZW5kXV0pXG4vLyAgICBidWZmZXIuZmlsbChzdHJpbmdbLCBvZmZzZXRbLCBlbmRdXVssIGVuY29kaW5nXSlcbkJ1ZmZlci5wcm90b3R5cGUuZmlsbCA9IGZ1bmN0aW9uIGZpbGwgKHZhbCwgc3RhcnQsIGVuZCwgZW5jb2RpbmcpIHtcbiAgLy8gSGFuZGxlIHN0cmluZyBjYXNlczpcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKHR5cGVvZiBzdGFydCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVuY29kaW5nID0gc3RhcnRcbiAgICAgIHN0YXJ0ID0gMFxuICAgICAgZW5kID0gdGhpcy5sZW5ndGhcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBlbmQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbmNvZGluZyA9IGVuZFxuICAgICAgZW5kID0gdGhpcy5sZW5ndGhcbiAgICB9XG4gICAgaWYgKHZhbC5sZW5ndGggPT09IDEpIHtcbiAgICAgIHZhciBjb2RlID0gdmFsLmNoYXJDb2RlQXQoMClcbiAgICAgIGlmIChjb2RlIDwgMjU2KSB7XG4gICAgICAgIHZhbCA9IGNvZGVcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGVuY29kaW5nICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIGVuY29kaW5nICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZW5jb2RpbmcgbXVzdCBiZSBhIHN0cmluZycpXG4gICAgfVxuICAgIGlmICh0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnICYmICFCdWZmZXIuaXNFbmNvZGluZyhlbmNvZGluZykpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICB2YWwgPSB2YWwgJiAyNTVcbiAgfVxuXG4gIC8vIEludmFsaWQgcmFuZ2VzIGFyZSBub3Qgc2V0IHRvIGEgZGVmYXVsdCwgc28gY2FuIHJhbmdlIGNoZWNrIGVhcmx5LlxuICBpZiAoc3RhcnQgPCAwIHx8IHRoaXMubGVuZ3RoIDwgc3RhcnQgfHwgdGhpcy5sZW5ndGggPCBlbmQpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignT3V0IG9mIHJhbmdlIGluZGV4JylcbiAgfVxuXG4gIGlmIChlbmQgPD0gc3RhcnQpIHtcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgc3RhcnQgPSBzdGFydCA+Pj4gMFxuICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IHRoaXMubGVuZ3RoIDogZW5kID4+PiAwXG5cbiAgaWYgKCF2YWwpIHZhbCA9IDBcblxuICB2YXIgaVxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICBmb3IgKGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgICB0aGlzW2ldID0gdmFsXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciBieXRlcyA9IEJ1ZmZlci5pc0J1ZmZlcih2YWwpXG4gICAgICA/IHZhbFxuICAgICAgOiB1dGY4VG9CeXRlcyhuZXcgQnVmZmVyKHZhbCwgZW5jb2RpbmcpLnRvU3RyaW5nKCkpXG4gICAgdmFyIGxlbiA9IGJ5dGVzLmxlbmd0aFxuICAgIGZvciAoaSA9IDA7IGkgPCBlbmQgLSBzdGFydDsgKytpKSB7XG4gICAgICB0aGlzW2kgKyBzdGFydF0gPSBieXRlc1tpICUgbGVuXVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzXG59XG5cbi8vIEhFTFBFUiBGVU5DVElPTlNcbi8vID09PT09PT09PT09PT09PT1cblxudmFyIElOVkFMSURfQkFTRTY0X1JFID0gL1teK1xcLzAtOUEtWmEtei1fXS9nXG5cbmZ1bmN0aW9uIGJhc2U2NGNsZWFuIChzdHIpIHtcbiAgLy8gTm9kZSBzdHJpcHMgb3V0IGludmFsaWQgY2hhcmFjdGVycyBsaWtlIFxcbiBhbmQgXFx0IGZyb20gdGhlIHN0cmluZywgYmFzZTY0LWpzIGRvZXMgbm90XG4gIHN0ciA9IHN0cmluZ3RyaW0oc3RyKS5yZXBsYWNlKElOVkFMSURfQkFTRTY0X1JFLCAnJylcbiAgLy8gTm9kZSBjb252ZXJ0cyBzdHJpbmdzIHdpdGggbGVuZ3RoIDwgMiB0byAnJ1xuICBpZiAoc3RyLmxlbmd0aCA8IDIpIHJldHVybiAnJ1xuICAvLyBOb2RlIGFsbG93cyBmb3Igbm9uLXBhZGRlZCBiYXNlNjQgc3RyaW5ncyAobWlzc2luZyB0cmFpbGluZyA9PT0pLCBiYXNlNjQtanMgZG9lcyBub3RcbiAgd2hpbGUgKHN0ci5sZW5ndGggJSA0ICE9PSAwKSB7XG4gICAgc3RyID0gc3RyICsgJz0nXG4gIH1cbiAgcmV0dXJuIHN0clxufVxuXG5mdW5jdGlvbiBzdHJpbmd0cmltIChzdHIpIHtcbiAgaWYgKHN0ci50cmltKSByZXR1cm4gc3RyLnRyaW0oKVxuICByZXR1cm4gc3RyLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKVxufVxuXG5mdW5jdGlvbiB0b0hleCAobikge1xuICBpZiAobiA8IDE2KSByZXR1cm4gJzAnICsgbi50b1N0cmluZygxNilcbiAgcmV0dXJuIG4udG9TdHJpbmcoMTYpXG59XG5cbmZ1bmN0aW9uIHV0ZjhUb0J5dGVzIChzdHJpbmcsIHVuaXRzKSB7XG4gIHVuaXRzID0gdW5pdHMgfHwgSW5maW5pdHlcbiAgdmFyIGNvZGVQb2ludFxuICB2YXIgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aFxuICB2YXIgbGVhZFN1cnJvZ2F0ZSA9IG51bGxcbiAgdmFyIGJ5dGVzID0gW11cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgY29kZVBvaW50ID0gc3RyaW5nLmNoYXJDb2RlQXQoaSlcblxuICAgIC8vIGlzIHN1cnJvZ2F0ZSBjb21wb25lbnRcbiAgICBpZiAoY29kZVBvaW50ID4gMHhEN0ZGICYmIGNvZGVQb2ludCA8IDB4RTAwMCkge1xuICAgICAgLy8gbGFzdCBjaGFyIHdhcyBhIGxlYWRcbiAgICAgIGlmICghbGVhZFN1cnJvZ2F0ZSkge1xuICAgICAgICAvLyBubyBsZWFkIHlldFxuICAgICAgICBpZiAoY29kZVBvaW50ID4gMHhEQkZGKSB7XG4gICAgICAgICAgLy8gdW5leHBlY3RlZCB0cmFpbFxuICAgICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH0gZWxzZSBpZiAoaSArIDEgPT09IGxlbmd0aCkge1xuICAgICAgICAgIC8vIHVucGFpcmVkIGxlYWRcbiAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdmFsaWQgbGVhZFxuICAgICAgICBsZWFkU3Vycm9nYXRlID0gY29kZVBvaW50XG5cbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgLy8gMiBsZWFkcyBpbiBhIHJvd1xuICAgICAgaWYgKGNvZGVQb2ludCA8IDB4REMwMCkge1xuICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgbGVhZFN1cnJvZ2F0ZSA9IGNvZGVQb2ludFxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICAvLyB2YWxpZCBzdXJyb2dhdGUgcGFpclxuICAgICAgY29kZVBvaW50ID0gKGxlYWRTdXJyb2dhdGUgLSAweEQ4MDAgPDwgMTAgfCBjb2RlUG9pbnQgLSAweERDMDApICsgMHgxMDAwMFxuICAgIH0gZWxzZSBpZiAobGVhZFN1cnJvZ2F0ZSkge1xuICAgICAgLy8gdmFsaWQgYm1wIGNoYXIsIGJ1dCBsYXN0IGNoYXIgd2FzIGEgbGVhZFxuICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgfVxuXG4gICAgbGVhZFN1cnJvZ2F0ZSA9IG51bGxcblxuICAgIC8vIGVuY29kZSB1dGY4XG4gICAgaWYgKGNvZGVQb2ludCA8IDB4ODApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMSkgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChjb2RlUG9pbnQpXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDgwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAyKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2IHwgMHhDMCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4MTAwMDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMykgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4QyB8IDB4RTAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4MTEwMDAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDQpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDEyIHwgMHhGMCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4QyAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2ICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBjb2RlIHBvaW50JylcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYnl0ZXNcbn1cblxuZnVuY3Rpb24gYXNjaWlUb0J5dGVzIChzdHIpIHtcbiAgdmFyIGJ5dGVBcnJheSA9IFtdXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgLy8gTm9kZSdzIGNvZGUgc2VlbXMgdG8gYmUgZG9pbmcgdGhpcyBhbmQgbm90ICYgMHg3Ri4uXG4gICAgYnl0ZUFycmF5LnB1c2goc3RyLmNoYXJDb2RlQXQoaSkgJiAweEZGKVxuICB9XG4gIHJldHVybiBieXRlQXJyYXlcbn1cblxuZnVuY3Rpb24gdXRmMTZsZVRvQnl0ZXMgKHN0ciwgdW5pdHMpIHtcbiAgdmFyIGMsIGhpLCBsb1xuICB2YXIgYnl0ZUFycmF5ID0gW11cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoKHVuaXRzIC09IDIpIDwgMCkgYnJlYWtcblxuICAgIGMgPSBzdHIuY2hhckNvZGVBdChpKVxuICAgIGhpID0gYyA+PiA4XG4gICAgbG8gPSBjICUgMjU2XG4gICAgYnl0ZUFycmF5LnB1c2gobG8pXG4gICAgYnl0ZUFycmF5LnB1c2goaGkpXG4gIH1cblxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFRvQnl0ZXMgKHN0cikge1xuICByZXR1cm4gYmFzZTY0LnRvQnl0ZUFycmF5KGJhc2U2NGNsZWFuKHN0cikpXG59XG5cbmZ1bmN0aW9uIGJsaXRCdWZmZXIgKHNyYywgZHN0LCBvZmZzZXQsIGxlbmd0aCkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgaWYgKChpICsgb2Zmc2V0ID49IGRzdC5sZW5ndGgpIHx8IChpID49IHNyYy5sZW5ndGgpKSBicmVha1xuICAgIGRzdFtpICsgb2Zmc2V0XSA9IHNyY1tpXVxuICB9XG4gIHJldHVybiBpXG59XG5cbmZ1bmN0aW9uIGlzbmFuICh2YWwpIHtcbiAgcmV0dXJuIHZhbCAhPT0gdmFsIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2VsZi1jb21wYXJlXG59XG4iLCJ2YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIChhcnIpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoYXJyKSA9PSAnW29iamVjdCBBcnJheV0nO1xufTtcbiIsIiFmdW5jdGlvbihlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSxlKTooXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzKS5FdmVudEVtaXR0ZXIzPWUoKX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gaShzLGYsYyl7ZnVuY3Rpb24gdSh0LGUpe2lmKCFmW3RdKXtpZighc1t0XSl7dmFyIG49XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZSYmbilyZXR1cm4gbih0LCEwKTtpZihhKXJldHVybiBhKHQsITApO3ZhciByPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrdCtcIidcIik7dGhyb3cgci5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLHJ9dmFyIG89Zlt0XT17ZXhwb3J0czp7fX07c1t0XVswXS5jYWxsKG8uZXhwb3J0cyxmdW5jdGlvbihlKXtyZXR1cm4gdShzW3RdWzFdW2VdfHxlKX0sbyxvLmV4cG9ydHMsaSxzLGYsYyl9cmV0dXJuIGZbdF0uZXhwb3J0c31mb3IodmFyIGE9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxlPTA7ZTxjLmxlbmd0aDtlKyspdShjW2VdKTtyZXR1cm4gdX0oezE6W2Z1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LHY9XCJ+XCI7ZnVuY3Rpb24gbygpe31mdW5jdGlvbiBmKGUsdCxuKXt0aGlzLmZuPWUsdGhpcy5jb250ZXh0PXQsdGhpcy5vbmNlPW58fCExfWZ1bmN0aW9uIGkoZSx0LG4scixvKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBuKXRocm93IG5ldyBUeXBlRXJyb3IoXCJUaGUgbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO3ZhciBpPW5ldyBmKG4scnx8ZSxvKSxzPXY/dit0OnQ7cmV0dXJuIGUuX2V2ZW50c1tzXT9lLl9ldmVudHNbc10uZm4/ZS5fZXZlbnRzW3NdPVtlLl9ldmVudHNbc10saV06ZS5fZXZlbnRzW3NdLnB1c2goaSk6KGUuX2V2ZW50c1tzXT1pLGUuX2V2ZW50c0NvdW50KyspLGV9ZnVuY3Rpb24gdShlLHQpezA9PS0tZS5fZXZlbnRzQ291bnQ/ZS5fZXZlbnRzPW5ldyBvOmRlbGV0ZSBlLl9ldmVudHNbdF19ZnVuY3Rpb24gcygpe3RoaXMuX2V2ZW50cz1uZXcgbyx0aGlzLl9ldmVudHNDb3VudD0wfU9iamVjdC5jcmVhdGUmJihvLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG51bGwpLChuZXcgbykuX19wcm90b19ffHwodj0hMSkpLHMucHJvdG90eXBlLmV2ZW50TmFtZXM9ZnVuY3Rpb24oKXt2YXIgZSx0LG49W107aWYoMD09PXRoaXMuX2V2ZW50c0NvdW50KXJldHVybiBuO2Zvcih0IGluIGU9dGhpcy5fZXZlbnRzKXIuY2FsbChlLHQpJiZuLnB1c2godj90LnNsaWNlKDEpOnQpO3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzP24uY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSkpOm59LHMucHJvdG90eXBlLmxpc3RlbmVycz1mdW5jdGlvbihlKXt2YXIgdD12P3YrZTplLG49dGhpcy5fZXZlbnRzW3RdO2lmKCFuKXJldHVybltdO2lmKG4uZm4pcmV0dXJuW24uZm5dO2Zvcih2YXIgcj0wLG89bi5sZW5ndGgsaT1uZXcgQXJyYXkobyk7cjxvO3IrKylpW3JdPW5bcl0uZm47cmV0dXJuIGl9LHMucHJvdG90eXBlLmxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dj92K2U6ZSxuPXRoaXMuX2V2ZW50c1t0XTtyZXR1cm4gbj9uLmZuPzE6bi5sZW5ndGg6MH0scy5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbihlLHQsbixyLG8saSl7dmFyIHM9dj92K2U6ZTtpZighdGhpcy5fZXZlbnRzW3NdKXJldHVybiExO3ZhciBmLGM9dGhpcy5fZXZlbnRzW3NdLHU9YXJndW1lbnRzLmxlbmd0aDtpZihjLmZuKXtzd2l0Y2goYy5vbmNlJiZ0aGlzLnJlbW92ZUxpc3RlbmVyKGUsYy5mbix2b2lkIDAsITApLHUpe2Nhc2UgMTpyZXR1cm4gYy5mbi5jYWxsKGMuY29udGV4dCksITA7Y2FzZSAyOnJldHVybiBjLmZuLmNhbGwoYy5jb250ZXh0LHQpLCEwO2Nhc2UgMzpyZXR1cm4gYy5mbi5jYWxsKGMuY29udGV4dCx0LG4pLCEwO2Nhc2UgNDpyZXR1cm4gYy5mbi5jYWxsKGMuY29udGV4dCx0LG4sciksITA7Y2FzZSA1OnJldHVybiBjLmZuLmNhbGwoYy5jb250ZXh0LHQsbixyLG8pLCEwO2Nhc2UgNjpyZXR1cm4gYy5mbi5jYWxsKGMuY29udGV4dCx0LG4scixvLGkpLCEwfWZvcihwPTEsZj1uZXcgQXJyYXkodS0xKTtwPHU7cCsrKWZbcC0xXT1hcmd1bWVudHNbcF07Yy5mbi5hcHBseShjLmNvbnRleHQsZil9ZWxzZSBmb3IodmFyIGEsbD1jLmxlbmd0aCxwPTA7cDxsO3ArKylzd2l0Y2goY1twXS5vbmNlJiZ0aGlzLnJlbW92ZUxpc3RlbmVyKGUsY1twXS5mbix2b2lkIDAsITApLHUpe2Nhc2UgMTpjW3BdLmZuLmNhbGwoY1twXS5jb250ZXh0KTticmVhaztjYXNlIDI6Y1twXS5mbi5jYWxsKGNbcF0uY29udGV4dCx0KTticmVhaztjYXNlIDM6Y1twXS5mbi5jYWxsKGNbcF0uY29udGV4dCx0LG4pO2JyZWFrO2Nhc2UgNDpjW3BdLmZuLmNhbGwoY1twXS5jb250ZXh0LHQsbixyKTticmVhaztkZWZhdWx0OmlmKCFmKWZvcihhPTEsZj1uZXcgQXJyYXkodS0xKTthPHU7YSsrKWZbYS0xXT1hcmd1bWVudHNbYV07Y1twXS5mbi5hcHBseShjW3BdLmNvbnRleHQsZil9cmV0dXJuITB9LHMucHJvdG90eXBlLm9uPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gaSh0aGlzLGUsdCxuLCExKX0scy5wcm90b3R5cGUub25jZT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGkodGhpcyxlLHQsbiwhMCl9LHMucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPXY/ditlOmU7aWYoIXRoaXMuX2V2ZW50c1tvXSlyZXR1cm4gdGhpcztpZighdClyZXR1cm4gdSh0aGlzLG8pLHRoaXM7dmFyIGk9dGhpcy5fZXZlbnRzW29dO2lmKGkuZm4paS5mbiE9PXR8fHImJiFpLm9uY2V8fG4mJmkuY29udGV4dCE9PW58fHUodGhpcyxvKTtlbHNle2Zvcih2YXIgcz0wLGY9W10sYz1pLmxlbmd0aDtzPGM7cysrKShpW3NdLmZuIT09dHx8ciYmIWlbc10ub25jZXx8biYmaVtzXS5jb250ZXh0IT09bikmJmYucHVzaChpW3NdKTtmLmxlbmd0aD90aGlzLl9ldmVudHNbb109MT09PWYubGVuZ3RoP2ZbMF06Zjp1KHRoaXMsbyl9cmV0dXJuIHRoaXN9LHMucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gZT8odD12P3YrZTplLHRoaXMuX2V2ZW50c1t0XSYmdSh0aGlzLHQpKToodGhpcy5fZXZlbnRzPW5ldyBvLHRoaXMuX2V2ZW50c0NvdW50PTApLHRoaXN9LHMucHJvdG90eXBlLm9mZj1zLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcixzLnByb3RvdHlwZS5hZGRMaXN0ZW5lcj1zLnByb3RvdHlwZS5vbixzLnByZWZpeGVkPXYscy5FdmVudEVtaXR0ZXI9cyx2b2lkIDAhPT10JiYodC5leHBvcnRzPXMpfSx7fV19LHt9LFsxXSkoMSl9KTsiLCIvKiEgaWVlZTc1NC4gQlNELTMtQ2xhdXNlIExpY2Vuc2UuIEZlcm9zcyBBYm91a2hhZGlqZWggPGh0dHBzOi8vZmVyb3NzLm9yZy9vcGVuc291cmNlPiAqL1xuZXhwb3J0cy5yZWFkID0gZnVuY3Rpb24gKGJ1ZmZlciwgb2Zmc2V0LCBpc0xFLCBtTGVuLCBuQnl0ZXMpIHtcbiAgdmFyIGUsIG1cbiAgdmFyIGVMZW4gPSAobkJ5dGVzICogOCkgLSBtTGVuIC0gMVxuICB2YXIgZU1heCA9ICgxIDw8IGVMZW4pIC0gMVxuICB2YXIgZUJpYXMgPSBlTWF4ID4+IDFcbiAgdmFyIG5CaXRzID0gLTdcbiAgdmFyIGkgPSBpc0xFID8gKG5CeXRlcyAtIDEpIDogMFxuICB2YXIgZCA9IGlzTEUgPyAtMSA6IDFcbiAgdmFyIHMgPSBidWZmZXJbb2Zmc2V0ICsgaV1cblxuICBpICs9IGRcblxuICBlID0gcyAmICgoMSA8PCAoLW5CaXRzKSkgLSAxKVxuICBzID4+PSAoLW5CaXRzKVxuICBuQml0cyArPSBlTGVuXG4gIGZvciAoOyBuQml0cyA+IDA7IGUgPSAoZSAqIDI1NikgKyBidWZmZXJbb2Zmc2V0ICsgaV0sIGkgKz0gZCwgbkJpdHMgLT0gOCkge31cblxuICBtID0gZSAmICgoMSA8PCAoLW5CaXRzKSkgLSAxKVxuICBlID4+PSAoLW5CaXRzKVxuICBuQml0cyArPSBtTGVuXG4gIGZvciAoOyBuQml0cyA+IDA7IG0gPSAobSAqIDI1NikgKyBidWZmZXJbb2Zmc2V0ICsgaV0sIGkgKz0gZCwgbkJpdHMgLT0gOCkge31cblxuICBpZiAoZSA9PT0gMCkge1xuICAgIGUgPSAxIC0gZUJpYXNcbiAgfSBlbHNlIGlmIChlID09PSBlTWF4KSB7XG4gICAgcmV0dXJuIG0gPyBOYU4gOiAoKHMgPyAtMSA6IDEpICogSW5maW5pdHkpXG4gIH0gZWxzZSB7XG4gICAgbSA9IG0gKyBNYXRoLnBvdygyLCBtTGVuKVxuICAgIGUgPSBlIC0gZUJpYXNcbiAgfVxuICByZXR1cm4gKHMgPyAtMSA6IDEpICogbSAqIE1hdGgucG93KDIsIGUgLSBtTGVuKVxufVxuXG5leHBvcnRzLndyaXRlID0gZnVuY3Rpb24gKGJ1ZmZlciwgdmFsdWUsIG9mZnNldCwgaXNMRSwgbUxlbiwgbkJ5dGVzKSB7XG4gIHZhciBlLCBtLCBjXG4gIHZhciBlTGVuID0gKG5CeXRlcyAqIDgpIC0gbUxlbiAtIDFcbiAgdmFyIGVNYXggPSAoMSA8PCBlTGVuKSAtIDFcbiAgdmFyIGVCaWFzID0gZU1heCA+PiAxXG4gIHZhciBydCA9IChtTGVuID09PSAyMyA/IE1hdGgucG93KDIsIC0yNCkgLSBNYXRoLnBvdygyLCAtNzcpIDogMClcbiAgdmFyIGkgPSBpc0xFID8gMCA6IChuQnl0ZXMgLSAxKVxuICB2YXIgZCA9IGlzTEUgPyAxIDogLTFcbiAgdmFyIHMgPSB2YWx1ZSA8IDAgfHwgKHZhbHVlID09PSAwICYmIDEgLyB2YWx1ZSA8IDApID8gMSA6IDBcblxuICB2YWx1ZSA9IE1hdGguYWJzKHZhbHVlKVxuXG4gIGlmIChpc05hTih2YWx1ZSkgfHwgdmFsdWUgPT09IEluZmluaXR5KSB7XG4gICAgbSA9IGlzTmFOKHZhbHVlKSA/IDEgOiAwXG4gICAgZSA9IGVNYXhcbiAgfSBlbHNlIHtcbiAgICBlID0gTWF0aC5mbG9vcihNYXRoLmxvZyh2YWx1ZSkgLyBNYXRoLkxOMilcbiAgICBpZiAodmFsdWUgKiAoYyA9IE1hdGgucG93KDIsIC1lKSkgPCAxKSB7XG4gICAgICBlLS1cbiAgICAgIGMgKj0gMlxuICAgIH1cbiAgICBpZiAoZSArIGVCaWFzID49IDEpIHtcbiAgICAgIHZhbHVlICs9IHJ0IC8gY1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZSArPSBydCAqIE1hdGgucG93KDIsIDEgLSBlQmlhcylcbiAgICB9XG4gICAgaWYgKHZhbHVlICogYyA+PSAyKSB7XG4gICAgICBlKytcbiAgICAgIGMgLz0gMlxuICAgIH1cblxuICAgIGlmIChlICsgZUJpYXMgPj0gZU1heCkge1xuICAgICAgbSA9IDBcbiAgICAgIGUgPSBlTWF4XG4gICAgfSBlbHNlIGlmIChlICsgZUJpYXMgPj0gMSkge1xuICAgICAgbSA9ICgodmFsdWUgKiBjKSAtIDEpICogTWF0aC5wb3coMiwgbUxlbilcbiAgICAgIGUgPSBlICsgZUJpYXNcbiAgICB9IGVsc2Uge1xuICAgICAgbSA9IHZhbHVlICogTWF0aC5wb3coMiwgZUJpYXMgLSAxKSAqIE1hdGgucG93KDIsIG1MZW4pXG4gICAgICBlID0gMFxuICAgIH1cbiAgfVxuXG4gIGZvciAoOyBtTGVuID49IDg7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IG0gJiAweGZmLCBpICs9IGQsIG0gLz0gMjU2LCBtTGVuIC09IDgpIHt9XG5cbiAgZSA9IChlIDw8IG1MZW4pIHwgbVxuICBlTGVuICs9IG1MZW5cbiAgZm9yICg7IGVMZW4gPiAwOyBidWZmZXJbb2Zmc2V0ICsgaV0gPSBlICYgMHhmZiwgaSArPSBkLCBlIC89IDI1NiwgZUxlbiAtPSA4KSB7fVxuXG4gIGJ1ZmZlcltvZmZzZXQgKyBpIC0gZF0gfD0gcyAqIDEyOFxufVxuIiwidmFyIGdyYW1tYXIgPSBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgdjogW3tcbiAgICBuYW1lOiAndmVyc2lvbicsXG4gICAgcmVnOiAvXihcXGQqKSQvXG4gIH1dLFxuICBvOiBbe1xuICAgIC8vIG89LSAyMDUxOCAwIElOIElQNCAyMDMuMC4xMTMuMVxuICAgIC8vIE5COiBzZXNzaW9uSWQgd2lsbCBiZSBhIFN0cmluZyBpbiBtb3N0IGNhc2VzIGJlY2F1c2UgaXQgaXMgaHVnZVxuICAgIG5hbWU6ICdvcmlnaW4nLFxuICAgIHJlZzogL14oXFxTKikgKFxcZCopIChcXGQqKSAoXFxTKikgSVAoXFxkKSAoXFxTKikvLFxuICAgIG5hbWVzOiBbJ3VzZXJuYW1lJywgJ3Nlc3Npb25JZCcsICdzZXNzaW9uVmVyc2lvbicsICduZXRUeXBlJywgJ2lwVmVyJywgJ2FkZHJlc3MnXSxcbiAgICBmb3JtYXQ6ICclcyAlcyAlZCAlcyBJUCVkICVzJ1xuICB9XSxcbiAgLy8gZGVmYXVsdCBwYXJzaW5nIG9mIHRoZXNlIG9ubHkgKHRob3VnaCBzb21lIG9mIHRoZXNlIGZlZWwgb3V0ZGF0ZWQpXG4gIHM6IFt7IG5hbWU6ICduYW1lJyB9XSxcbiAgaTogW3sgbmFtZTogJ2Rlc2NyaXB0aW9uJyB9XSxcbiAgdTogW3sgbmFtZTogJ3VyaScgfV0sXG4gIGU6IFt7IG5hbWU6ICdlbWFpbCcgfV0sXG4gIHA6IFt7IG5hbWU6ICdwaG9uZScgfV0sXG4gIHo6IFt7IG5hbWU6ICd0aW1lem9uZXMnIH1dLCAvLyBUT0RPOiB0aGlzIG9uZSBjYW4gYWN0dWFsbHkgYmUgcGFyc2VkIHByb3Blcmx5Li4uXG4gIHI6IFt7IG5hbWU6ICdyZXBlYXRzJyB9XSwgICAvLyBUT0RPOiB0aGlzIG9uZSBjYW4gYWxzbyBiZSBwYXJzZWQgcHJvcGVybHlcbiAgLy8gazogW3t9XSwgLy8gb3V0ZGF0ZWQgdGhpbmcgaWdub3JlZFxuICB0OiBbe1xuICAgIC8vIHQ9MCAwXG4gICAgbmFtZTogJ3RpbWluZycsXG4gICAgcmVnOiAvXihcXGQqKSAoXFxkKikvLFxuICAgIG5hbWVzOiBbJ3N0YXJ0JywgJ3N0b3AnXSxcbiAgICBmb3JtYXQ6ICclZCAlZCdcbiAgfV0sXG4gIGM6IFt7XG4gICAgLy8gYz1JTiBJUDQgMTAuNDcuMTk3LjI2XG4gICAgbmFtZTogJ2Nvbm5lY3Rpb24nLFxuICAgIHJlZzogL15JTiBJUChcXGQpIChcXFMqKS8sXG4gICAgbmFtZXM6IFsndmVyc2lvbicsICdpcCddLFxuICAgIGZvcm1hdDogJ0lOIElQJWQgJXMnXG4gIH1dLFxuICBiOiBbe1xuICAgIC8vIGI9QVM6NDAwMFxuICAgIHB1c2g6ICdiYW5kd2lkdGgnLFxuICAgIHJlZzogL14oVElBU3xBU3xDVHxSUnxSUyk6KFxcZCopLyxcbiAgICBuYW1lczogWyd0eXBlJywgJ2xpbWl0J10sXG4gICAgZm9ybWF0OiAnJXM6JXMnXG4gIH1dLFxuICBtOiBbe1xuICAgIC8vIG09dmlkZW8gNTE3NDQgUlRQL0FWUCAxMjYgOTcgOTggMzQgMzFcbiAgICAvLyBOQjogc3BlY2lhbCAtIHB1c2hlcyB0byBzZXNzaW9uXG4gICAgLy8gVE9ETzogcnRwL2ZtdHAgc2hvdWxkIGJlIGZpbHRlcmVkIGJ5IHRoZSBwYXlsb2FkcyBmb3VuZCBoZXJlP1xuICAgIHJlZzogL14oXFx3KikgKFxcZCopIChbXFx3L10qKSg/OiAoLiopKT8vLFxuICAgIG5hbWVzOiBbJ3R5cGUnLCAncG9ydCcsICdwcm90b2NvbCcsICdwYXlsb2FkcyddLFxuICAgIGZvcm1hdDogJyVzICVkICVzICVzJ1xuICB9XSxcbiAgYTogW1xuICAgIHtcbiAgICAgIC8vIGE9cnRwbWFwOjExMCBvcHVzLzQ4MDAwLzJcbiAgICAgIHB1c2g6ICdydHAnLFxuICAgICAgcmVnOiAvXnJ0cG1hcDooXFxkKikgKFtcXHdcXC0uXSopKD86XFxzKlxcLyhcXGQqKSg/OlxccypcXC8oXFxTKikpPyk/LyxcbiAgICAgIG5hbWVzOiBbJ3BheWxvYWQnLCAnY29kZWMnLCAncmF0ZScsICdlbmNvZGluZyddLFxuICAgICAgZm9ybWF0OiBmdW5jdGlvbiAobykge1xuICAgICAgICByZXR1cm4gKG8uZW5jb2RpbmcpXG4gICAgICAgICAgPyAncnRwbWFwOiVkICVzLyVzLyVzJ1xuICAgICAgICAgIDogby5yYXRlXG4gICAgICAgICAgICA/ICdydHBtYXA6JWQgJXMvJXMnXG4gICAgICAgICAgICA6ICdydHBtYXA6JWQgJXMnO1xuICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgLy8gYT1mbXRwOjEwOCBwcm9maWxlLWxldmVsLWlkPTI0O29iamVjdD0yMztiaXRyYXRlPTY0MDAwXG4gICAgICAvLyBhPWZtdHA6MTExIG1pbnB0aW1lPTEwOyB1c2VpbmJhbmRmZWM9MVxuICAgICAgcHVzaDogJ2ZtdHAnLFxuICAgICAgcmVnOiAvXmZtdHA6KFxcZCopIChbXFxTfCBdKikvLFxuICAgICAgbmFtZXM6IFsncGF5bG9hZCcsICdjb25maWcnXSxcbiAgICAgIGZvcm1hdDogJ2ZtdHA6JWQgJXMnXG4gICAgfSxcbiAgICB7XG4gICAgICAvLyBhPWNvbnRyb2w6c3RyZWFtaWQ9MFxuICAgICAgbmFtZTogJ2NvbnRyb2wnLFxuICAgICAgcmVnOiAvXmNvbnRyb2w6KC4qKS8sXG4gICAgICBmb3JtYXQ6ICdjb250cm9sOiVzJ1xuICAgIH0sXG4gICAge1xuICAgICAgLy8gYT1ydGNwOjY1MTc5IElOIElQNCAxOTMuODQuNzcuMTk0XG4gICAgICBuYW1lOiAncnRjcCcsXG4gICAgICByZWc6IC9ecnRjcDooXFxkKikoPzogKFxcUyopIElQKFxcZCkgKFxcUyopKT8vLFxuICAgICAgbmFtZXM6IFsncG9ydCcsICduZXRUeXBlJywgJ2lwVmVyJywgJ2FkZHJlc3MnXSxcbiAgICAgIGZvcm1hdDogZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgcmV0dXJuIChvLmFkZHJlc3MgIT0gbnVsbClcbiAgICAgICAgICA/ICdydGNwOiVkICVzIElQJWQgJXMnXG4gICAgICAgICAgOiAncnRjcDolZCc7XG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICAvLyBhPXJ0Y3AtZmI6OTggdHJyLWludCAxMDBcbiAgICAgIHB1c2g6ICdydGNwRmJUcnJJbnQnLFxuICAgICAgcmVnOiAvXnJ0Y3AtZmI6KFxcKnxcXGQqKSB0cnItaW50IChcXGQqKS8sXG4gICAgICBuYW1lczogWydwYXlsb2FkJywgJ3ZhbHVlJ10sXG4gICAgICBmb3JtYXQ6ICdydGNwLWZiOiVzIHRyci1pbnQgJWQnXG4gICAgfSxcbiAgICB7XG4gICAgICAvLyBhPXJ0Y3AtZmI6OTggbmFjayBycHNpXG4gICAgICBwdXNoOiAncnRjcEZiJyxcbiAgICAgIHJlZzogL15ydGNwLWZiOihcXCp8XFxkKikgKFtcXHctX10qKSg/OiAoW1xcdy1fXSopKT8vLFxuICAgICAgbmFtZXM6IFsncGF5bG9hZCcsICd0eXBlJywgJ3N1YnR5cGUnXSxcbiAgICAgIGZvcm1hdDogZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgcmV0dXJuIChvLnN1YnR5cGUgIT0gbnVsbClcbiAgICAgICAgICA/ICdydGNwLWZiOiVzICVzICVzJ1xuICAgICAgICAgIDogJ3J0Y3AtZmI6JXMgJXMnO1xuICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgLy8gYT1leHRtYXA6MiB1cm46aWV0ZjpwYXJhbXM6cnRwLWhkcmV4dDp0b2Zmc2V0XG4gICAgICAvLyBhPWV4dG1hcDoxL3JlY3Zvbmx5IFVSSS1ncHMtc3RyaW5nXG4gICAgICAvLyBhPWV4dG1hcDozIHVybjppZXRmOnBhcmFtczpydHAtaGRyZXh0OmVuY3J5cHQgdXJuOmlldGY6cGFyYW1zOnJ0cC1oZHJleHQ6c21wdGUtdGMgMjVANjAwLzI0XG4gICAgICBwdXNoOiAnZXh0JyxcbiAgICAgIHJlZzogL15leHRtYXA6KFxcZCspKD86XFwvKFxcdyspKT8oPzogKHVybjppZXRmOnBhcmFtczpydHAtaGRyZXh0OmVuY3J5cHQpKT8gKFxcUyopKD86IChcXFMqKSk/LyxcbiAgICAgIG5hbWVzOiBbJ3ZhbHVlJywgJ2RpcmVjdGlvbicsICdlbmNyeXB0LXVyaScsICd1cmknLCAnY29uZmlnJ10sXG4gICAgICBmb3JtYXQ6IGZ1bmN0aW9uIChvKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgJ2V4dG1hcDolZCcgK1xuICAgICAgICAgIChvLmRpcmVjdGlvbiA/ICcvJXMnIDogJyV2JykgK1xuICAgICAgICAgIChvWydlbmNyeXB0LXVyaSddID8gJyAlcycgOiAnJXYnKSArXG4gICAgICAgICAgJyAlcycgK1xuICAgICAgICAgIChvLmNvbmZpZyA/ICcgJXMnIDogJycpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICAvLyBhPWV4dG1hcC1hbGxvdy1taXhlZFxuICAgICAgbmFtZTogJ2V4dG1hcEFsbG93TWl4ZWQnLFxuICAgICAgcmVnOiAvXihleHRtYXAtYWxsb3ctbWl4ZWQpL1xuICAgIH0sXG4gICAge1xuICAgICAgLy8gYT1jcnlwdG86MSBBRVNfQ01fMTI4X0hNQUNfU0hBMV84MCBpbmxpbmU6UFMxdVFDVmVlQ0ZDYW5WbWNqa3BQeXdqTldoY1lEMG1YWHR4YVZCUnwyXjIwfDE6MzJcbiAgICAgIHB1c2g6ICdjcnlwdG8nLFxuICAgICAgcmVnOiAvXmNyeXB0bzooXFxkKikgKFtcXHdfXSopIChcXFMqKSg/OiAoXFxTKikpPy8sXG4gICAgICBuYW1lczogWydpZCcsICdzdWl0ZScsICdjb25maWcnLCAnc2Vzc2lvbkNvbmZpZyddLFxuICAgICAgZm9ybWF0OiBmdW5jdGlvbiAobykge1xuICAgICAgICByZXR1cm4gKG8uc2Vzc2lvbkNvbmZpZyAhPSBudWxsKVxuICAgICAgICAgID8gJ2NyeXB0bzolZCAlcyAlcyAlcydcbiAgICAgICAgICA6ICdjcnlwdG86JWQgJXMgJXMnO1xuICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgLy8gYT1zZXR1cDphY3RwYXNzXG4gICAgICBuYW1lOiAnc2V0dXAnLFxuICAgICAgcmVnOiAvXnNldHVwOihcXHcqKS8sXG4gICAgICBmb3JtYXQ6ICdzZXR1cDolcydcbiAgICB9LFxuICAgIHtcbiAgICAgIC8vIGE9Y29ubmVjdGlvbjpuZXdcbiAgICAgIG5hbWU6ICdjb25uZWN0aW9uVHlwZScsXG4gICAgICByZWc6IC9eY29ubmVjdGlvbjoobmV3fGV4aXN0aW5nKS8sXG4gICAgICBmb3JtYXQ6ICdjb25uZWN0aW9uOiVzJ1xuICAgIH0sXG4gICAge1xuICAgICAgLy8gYT1taWQ6MVxuICAgICAgbmFtZTogJ21pZCcsXG4gICAgICByZWc6IC9ebWlkOihbXlxcc10qKS8sXG4gICAgICBmb3JtYXQ6ICdtaWQ6JXMnXG4gICAgfSxcbiAgICB7XG4gICAgICAvLyBhPW1zaWQ6MGM4YjA2NGQtZDgwNy00M2I0LWI0MzQtZjkyYTg4OWQ4NTg3IDk4MTc4Njg1LWQ0MDktNDZlMC04ZTE2LTdlZjBkYjBkYjY0YVxuICAgICAgbmFtZTogJ21zaWQnLFxuICAgICAgcmVnOiAvXm1zaWQ6KC4qKS8sXG4gICAgICBmb3JtYXQ6ICdtc2lkOiVzJ1xuICAgIH0sXG4gICAge1xuICAgICAgLy8gYT1wdGltZToyMFxuICAgICAgbmFtZTogJ3B0aW1lJyxcbiAgICAgIHJlZzogL15wdGltZTooXFxkKig/OlxcLlxcZCopKikvLFxuICAgICAgZm9ybWF0OiAncHRpbWU6JWQnXG4gICAgfSxcbiAgICB7XG4gICAgICAvLyBhPW1heHB0aW1lOjYwXG4gICAgICBuYW1lOiAnbWF4cHRpbWUnLFxuICAgICAgcmVnOiAvXm1heHB0aW1lOihcXGQqKD86XFwuXFxkKikqKS8sXG4gICAgICBmb3JtYXQ6ICdtYXhwdGltZTolZCdcbiAgICB9LFxuICAgIHtcbiAgICAgIC8vIGE9c2VuZHJlY3ZcbiAgICAgIG5hbWU6ICdkaXJlY3Rpb24nLFxuICAgICAgcmVnOiAvXihzZW5kcmVjdnxyZWN2b25seXxzZW5kb25seXxpbmFjdGl2ZSkvXG4gICAgfSxcbiAgICB7XG4gICAgICAvLyBhPWljZS1saXRlXG4gICAgICBuYW1lOiAnaWNlbGl0ZScsXG4gICAgICByZWc6IC9eKGljZS1saXRlKS9cbiAgICB9LFxuICAgIHtcbiAgICAgIC8vIGE9aWNlLXVmcmFnOkY3Z0lcbiAgICAgIG5hbWU6ICdpY2VVZnJhZycsXG4gICAgICByZWc6IC9eaWNlLXVmcmFnOihcXFMqKS8sXG4gICAgICBmb3JtYXQ6ICdpY2UtdWZyYWc6JXMnXG4gICAgfSxcbiAgICB7XG4gICAgICAvLyBhPWljZS1wd2Q6eDljbWwvWXppY2hWMitYbGhpTXU4Z1xuICAgICAgbmFtZTogJ2ljZVB3ZCcsXG4gICAgICByZWc6IC9eaWNlLXB3ZDooXFxTKikvLFxuICAgICAgZm9ybWF0OiAnaWNlLXB3ZDolcydcbiAgICB9LFxuICAgIHtcbiAgICAgIC8vIGE9ZmluZ2VycHJpbnQ6U0hBLTEgMDA6MTE6MjI6MzM6NDQ6NTU6NjY6Nzc6ODg6OTk6QUE6QkI6Q0M6REQ6RUU6RkY6MDA6MTE6MjI6MzNcbiAgICAgIG5hbWU6ICdmaW5nZXJwcmludCcsXG4gICAgICByZWc6IC9eZmluZ2VycHJpbnQ6KFxcUyopIChcXFMqKS8sXG4gICAgICBuYW1lczogWyd0eXBlJywgJ2hhc2gnXSxcbiAgICAgIGZvcm1hdDogJ2ZpbmdlcnByaW50OiVzICVzJ1xuICAgIH0sXG4gICAge1xuICAgICAgLy8gYT1jYW5kaWRhdGU6MCAxIFVEUCAyMTEzNjY3MzI3IDIwMy4wLjExMy4xIDU0NDAwIHR5cCBob3N0XG4gICAgICAvLyBhPWNhbmRpZGF0ZToxMTYyODc1MDgxIDEgdWRwIDIxMTM5MzcxNTEgMTkyLjE2OC4zNC43NSA2MDAxNyB0eXAgaG9zdCBnZW5lcmF0aW9uIDAgbmV0d29yay1pZCAzIG5ldHdvcmstY29zdCAxMFxuICAgICAgLy8gYT1jYW5kaWRhdGU6MzI4OTkxMjk1NyAyIHVkcCAxODQ1NTAxNjk1IDE5My44NC43Ny4xOTQgNjAwMTcgdHlwIHNyZmx4IHJhZGRyIDE5Mi4xNjguMzQuNzUgcnBvcnQgNjAwMTcgZ2VuZXJhdGlvbiAwIG5ldHdvcmstaWQgMyBuZXR3b3JrLWNvc3QgMTBcbiAgICAgIC8vIGE9Y2FuZGlkYXRlOjIyOTgxNTYyMCAxIHRjcCAxNTE4MjgwNDQ3IDE5Mi4xNjguMTUwLjE5IDYwMDE3IHR5cCBob3N0IHRjcHR5cGUgYWN0aXZlIGdlbmVyYXRpb24gMCBuZXR3b3JrLWlkIDMgbmV0d29yay1jb3N0IDEwXG4gICAgICAvLyBhPWNhbmRpZGF0ZTozMjg5OTEyOTU3IDIgdGNwIDE4NDU1MDE2OTUgMTkzLjg0Ljc3LjE5NCA2MDAxNyB0eXAgc3JmbHggcmFkZHIgMTkyLjE2OC4zNC43NSBycG9ydCA2MDAxNyB0Y3B0eXBlIHBhc3NpdmUgZ2VuZXJhdGlvbiAwIG5ldHdvcmstaWQgMyBuZXR3b3JrLWNvc3QgMTBcbiAgICAgIHB1c2g6J2NhbmRpZGF0ZXMnLFxuICAgICAgcmVnOiAvXmNhbmRpZGF0ZTooXFxTKikgKFxcZCopIChcXFMqKSAoXFxkKikgKFxcUyopIChcXGQqKSB0eXAgKFxcUyopKD86IHJhZGRyIChcXFMqKSBycG9ydCAoXFxkKikpPyg/OiB0Y3B0eXBlIChcXFMqKSk/KD86IGdlbmVyYXRpb24gKFxcZCopKT8oPzogbmV0d29yay1pZCAoXFxkKikpPyg/OiBuZXR3b3JrLWNvc3QgKFxcZCopKT8vLFxuICAgICAgbmFtZXM6IFsnZm91bmRhdGlvbicsICdjb21wb25lbnQnLCAndHJhbnNwb3J0JywgJ3ByaW9yaXR5JywgJ2lwJywgJ3BvcnQnLCAndHlwZScsICdyYWRkcicsICdycG9ydCcsICd0Y3B0eXBlJywgJ2dlbmVyYXRpb24nLCAnbmV0d29yay1pZCcsICduZXR3b3JrLWNvc3QnXSxcbiAgICAgIGZvcm1hdDogZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgdmFyIHN0ciA9ICdjYW5kaWRhdGU6JXMgJWQgJXMgJWQgJXMgJWQgdHlwICVzJztcblxuICAgICAgICBzdHIgKz0gKG8ucmFkZHIgIT0gbnVsbCkgPyAnIHJhZGRyICVzIHJwb3J0ICVkJyA6ICcldiV2JztcblxuICAgICAgICAvLyBOQjogY2FuZGlkYXRlIGhhcyB0aHJlZSBvcHRpb25hbCBjaHVua3MsIHNvICV2b2lkIG1pZGRsZXMgb25lIGlmIGl0J3MgbWlzc2luZ1xuICAgICAgICBzdHIgKz0gKG8udGNwdHlwZSAhPSBudWxsKSA/ICcgdGNwdHlwZSAlcycgOiAnJXYnO1xuXG4gICAgICAgIGlmIChvLmdlbmVyYXRpb24gIT0gbnVsbCkge1xuICAgICAgICAgIHN0ciArPSAnIGdlbmVyYXRpb24gJWQnO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RyICs9IChvWyduZXR3b3JrLWlkJ10gIT0gbnVsbCkgPyAnIG5ldHdvcmstaWQgJWQnIDogJyV2JztcbiAgICAgICAgc3RyICs9IChvWyduZXR3b3JrLWNvc3QnXSAhPSBudWxsKSA/ICcgbmV0d29yay1jb3N0ICVkJyA6ICcldic7XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICAvLyBhPWVuZC1vZi1jYW5kaWRhdGVzIChrZWVwIGFmdGVyIHRoZSBjYW5kaWRhdGVzIGxpbmUgZm9yIHJlYWRhYmlsaXR5KVxuICAgICAgbmFtZTogJ2VuZE9mQ2FuZGlkYXRlcycsXG4gICAgICByZWc6IC9eKGVuZC1vZi1jYW5kaWRhdGVzKS9cbiAgICB9LFxuICAgIHtcbiAgICAgIC8vIGE9cmVtb3RlLWNhbmRpZGF0ZXM6MSAyMDMuMC4xMTMuMSA1NDQwMCAyIDIwMy4wLjExMy4xIDU0NDAxIC4uLlxuICAgICAgbmFtZTogJ3JlbW90ZUNhbmRpZGF0ZXMnLFxuICAgICAgcmVnOiAvXnJlbW90ZS1jYW5kaWRhdGVzOiguKikvLFxuICAgICAgZm9ybWF0OiAncmVtb3RlLWNhbmRpZGF0ZXM6JXMnXG4gICAgfSxcbiAgICB7XG4gICAgICAvLyBhPWljZS1vcHRpb25zOmdvb2dsZS1pY2VcbiAgICAgIG5hbWU6ICdpY2VPcHRpb25zJyxcbiAgICAgIHJlZzogL15pY2Utb3B0aW9uczooXFxTKikvLFxuICAgICAgZm9ybWF0OiAnaWNlLW9wdGlvbnM6JXMnXG4gICAgfSxcbiAgICB7XG4gICAgICAvLyBhPXNzcmM6MjU2NjEwNzU2OSBjbmFtZTp0OVlVOE0xVXhURjhZMUExXG4gICAgICBwdXNoOiAnc3NyY3MnLFxuICAgICAgcmVnOiAvXnNzcmM6KFxcZCopIChbXFx3Xy1dKikoPzo6KC4qKSk/LyxcbiAgICAgIG5hbWVzOiBbJ2lkJywgJ2F0dHJpYnV0ZScsICd2YWx1ZSddLFxuICAgICAgZm9ybWF0OiBmdW5jdGlvbiAobykge1xuICAgICAgICB2YXIgc3RyID0gJ3NzcmM6JWQnO1xuICAgICAgICBpZiAoby5hdHRyaWJ1dGUgIT0gbnVsbCkge1xuICAgICAgICAgIHN0ciArPSAnICVzJztcbiAgICAgICAgICBpZiAoby52YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBzdHIgKz0gJzolcyc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICAvLyBhPXNzcmMtZ3JvdXA6RkVDIDEgMlxuICAgICAgLy8gYT1zc3JjLWdyb3VwOkZFQy1GUiAzMDA0MzY0MTk1IDEwODA3NzIyNDFcbiAgICAgIHB1c2g6ICdzc3JjR3JvdXBzJyxcbiAgICAgIC8vIHRva2VuLWNoYXIgPSAleDIxIC8gJXgyMy0yNyAvICV4MkEtMkIgLyAleDJELTJFIC8gJXgzMC0zOSAvICV4NDEtNUEgLyAleDVFLTdFXG4gICAgICByZWc6IC9ec3NyYy1ncm91cDooW1xceDIxXFx4MjNcXHgyNFxceDI1XFx4MjZcXHgyN1xceDJBXFx4MkJcXHgyRFxceDJFXFx3XSopICguKikvLFxuICAgICAgbmFtZXM6IFsnc2VtYW50aWNzJywgJ3NzcmNzJ10sXG4gICAgICBmb3JtYXQ6ICdzc3JjLWdyb3VwOiVzICVzJ1xuICAgIH0sXG4gICAge1xuICAgICAgLy8gYT1tc2lkLXNlbWFudGljOiBXTVMgSnZsYW01WDNTWDFPUDZwbjIweldvZ3ZhS0p6NUhqZjlPbmxWXG4gICAgICBuYW1lOiAnbXNpZFNlbWFudGljJyxcbiAgICAgIHJlZzogL15tc2lkLXNlbWFudGljOlxccz8oXFx3KikgKFxcUyopLyxcbiAgICAgIG5hbWVzOiBbJ3NlbWFudGljJywgJ3Rva2VuJ10sXG4gICAgICBmb3JtYXQ6ICdtc2lkLXNlbWFudGljOiAlcyAlcycgLy8gc3BhY2UgYWZ0ZXIgJzonIGlzIG5vdCBhY2NpZGVudGFsXG4gICAgfSxcbiAgICB7XG4gICAgICAvLyBhPWdyb3VwOkJVTkRMRSBhdWRpbyB2aWRlb1xuICAgICAgcHVzaDogJ2dyb3VwcycsXG4gICAgICByZWc6IC9eZ3JvdXA6KFxcdyopICguKikvLFxuICAgICAgbmFtZXM6IFsndHlwZScsICdtaWRzJ10sXG4gICAgICBmb3JtYXQ6ICdncm91cDolcyAlcydcbiAgICB9LFxuICAgIHtcbiAgICAgIC8vIGE9cnRjcC1tdXhcbiAgICAgIG5hbWU6ICdydGNwTXV4JyxcbiAgICAgIHJlZzogL14ocnRjcC1tdXgpL1xuICAgIH0sXG4gICAge1xuICAgICAgLy8gYT1ydGNwLXJzaXplXG4gICAgICBuYW1lOiAncnRjcFJzaXplJyxcbiAgICAgIHJlZzogL14ocnRjcC1yc2l6ZSkvXG4gICAgfSxcbiAgICB7XG4gICAgICAvLyBhPXNjdHBtYXA6NTAwMCB3ZWJydGMtZGF0YWNoYW5uZWwgMTAyNFxuICAgICAgbmFtZTogJ3NjdHBtYXAnLFxuICAgICAgcmVnOiAvXnNjdHBtYXA6KFtcXHdfL10qKSAoXFxTKikoPzogKFxcUyopKT8vLFxuICAgICAgbmFtZXM6IFsnc2N0cG1hcE51bWJlcicsICdhcHAnLCAnbWF4TWVzc2FnZVNpemUnXSxcbiAgICAgIGZvcm1hdDogZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgcmV0dXJuIChvLm1heE1lc3NhZ2VTaXplICE9IG51bGwpXG4gICAgICAgICAgPyAnc2N0cG1hcDolcyAlcyAlcydcbiAgICAgICAgICA6ICdzY3RwbWFwOiVzICVzJztcbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIC8vIGE9eC1nb29nbGUtZmxhZzpjb25mZXJlbmNlXG4gICAgICBuYW1lOiAneEdvb2dsZUZsYWcnLFxuICAgICAgcmVnOiAvXngtZ29vZ2xlLWZsYWc6KFteXFxzXSopLyxcbiAgICAgIGZvcm1hdDogJ3gtZ29vZ2xlLWZsYWc6JXMnXG4gICAgfSxcbiAgICB7XG4gICAgICAvLyBhPXJpZDoxIHNlbmQgbWF4LXdpZHRoPTEyODA7bWF4LWhlaWdodD03MjA7bWF4LWZwcz0zMDtkZXBlbmQ9MFxuICAgICAgcHVzaDogJ3JpZHMnLFxuICAgICAgcmVnOiAvXnJpZDooW1xcZFxcd10rKSAoXFx3KykoPzogKFtcXFN8IF0qKSk/LyxcbiAgICAgIG5hbWVzOiBbJ2lkJywgJ2RpcmVjdGlvbicsICdwYXJhbXMnXSxcbiAgICAgIGZvcm1hdDogZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgcmV0dXJuIChvLnBhcmFtcykgPyAncmlkOiVzICVzICVzJyA6ICdyaWQ6JXMgJXMnO1xuICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgLy8gYT1pbWFnZWF0dHI6OTcgc2VuZCBbeD04MDAseT02NDAsc2FyPTEuMSxxPTAuNl0gW3g9NDgwLHk9MzIwXSByZWN2IFt4PTMzMCx5PTI1MF1cbiAgICAgIC8vIGE9aW1hZ2VhdHRyOiogc2VuZCBbeD04MDAseT02NDBdIHJlY3YgKlxuICAgICAgLy8gYT1pbWFnZWF0dHI6MTAwIHJlY3YgW3g9MzIwLHk9MjQwXVxuICAgICAgcHVzaDogJ2ltYWdlYXR0cnMnLFxuICAgICAgcmVnOiBuZXcgUmVnRXhwKFxuICAgICAgICAvLyBhPWltYWdlYXR0cjo5N1xuICAgICAgICAnXmltYWdlYXR0cjooXFxcXGQrfFxcXFwqKScgK1xuICAgICAgICAvLyBzZW5kIFt4PTgwMCx5PTY0MCxzYXI9MS4xLHE9MC42XSBbeD00ODAseT0zMjBdXG4gICAgICAgICdbXFxcXHNcXFxcdF0rKHNlbmR8cmVjdilbXFxcXHNcXFxcdF0rKFxcXFwqfFxcXFxbXFxcXFMrXFxcXF0oPzpbXFxcXHNcXFxcdF0rXFxcXFtcXFxcUytcXFxcXSkqKScgK1xuICAgICAgICAvLyByZWN2IFt4PTMzMCx5PTI1MF1cbiAgICAgICAgJyg/OltcXFxcc1xcXFx0XSsocmVjdnxzZW5kKVtcXFxcc1xcXFx0XSsoXFxcXCp8XFxcXFtcXFxcUytcXFxcXSg/OltcXFxcc1xcXFx0XStcXFxcW1xcXFxTK1xcXFxdKSopKT8nXG4gICAgICApLFxuICAgICAgbmFtZXM6IFsncHQnLCAnZGlyMScsICdhdHRyczEnLCAnZGlyMicsICdhdHRyczInXSxcbiAgICAgIGZvcm1hdDogZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgcmV0dXJuICdpbWFnZWF0dHI6JXMgJXMgJXMnICsgKG8uZGlyMiA/ICcgJXMgJXMnIDogJycpO1xuICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgLy8gYT1zaW11bGNhc3Q6c2VuZCAxLDIsMzt+NCx+NSByZWN2IDY7fjcsfjhcbiAgICAgIC8vIGE9c2ltdWxjYXN0OnJlY3YgMTs0LDUgc2VuZCA2OzdcbiAgICAgIG5hbWU6ICdzaW11bGNhc3QnLFxuICAgICAgcmVnOiBuZXcgUmVnRXhwKFxuICAgICAgICAvLyBhPXNpbXVsY2FzdDpcbiAgICAgICAgJ15zaW11bGNhc3Q6JyArXG4gICAgICAgIC8vIHNlbmQgMSwyLDM7fjQsfjVcbiAgICAgICAgJyhzZW5kfHJlY3YpIChbYS16QS1aMC05XFxcXC1ffjssXSspJyArXG4gICAgICAgIC8vIHNwYWNlICsgcmVjdiA2O343LH44XG4gICAgICAgICcoPzpcXFxccz8oc2VuZHxyZWN2KSAoW2EtekEtWjAtOVxcXFwtX347LF0rKSk/JyArXG4gICAgICAgIC8vIGVuZFxuICAgICAgICAnJCdcbiAgICAgICksXG4gICAgICBuYW1lczogWydkaXIxJywgJ2xpc3QxJywgJ2RpcjInLCAnbGlzdDInXSxcbiAgICAgIGZvcm1hdDogZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgcmV0dXJuICdzaW11bGNhc3Q6JXMgJXMnICsgKG8uZGlyMiA/ICcgJXMgJXMnIDogJycpO1xuICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgLy8gb2xkIHNpbXVsY2FzdCBkcmFmdCAwMyAoaW1wbGVtZW50ZWQgYnkgRmlyZWZveClcbiAgICAgIC8vICAgaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL2RyYWZ0LWlldGYtbW11c2ljLXNkcC1zaW11bGNhc3QtMDNcbiAgICAgIC8vIGE9c2ltdWxjYXN0OiByZWN2IHB0PTk3Ozk4IHNlbmQgcHQ9OTdcbiAgICAgIC8vIGE9c2ltdWxjYXN0OiBzZW5kIHJpZD01OzY7NyBwYXVzZWQ9Niw3XG4gICAgICBuYW1lOiAnc2ltdWxjYXN0XzAzJyxcbiAgICAgIHJlZzogL15zaW11bGNhc3Q6W1xcc1xcdF0rKFtcXFMrXFxzXFx0XSspJC8sXG4gICAgICBuYW1lczogWyd2YWx1ZSddLFxuICAgICAgZm9ybWF0OiAnc2ltdWxjYXN0OiAlcydcbiAgICB9LFxuICAgIHtcbiAgICAgIC8vIGE9ZnJhbWVyYXRlOjI1XG4gICAgICAvLyBhPWZyYW1lcmF0ZToyOS45N1xuICAgICAgbmFtZTogJ2ZyYW1lcmF0ZScsXG4gICAgICByZWc6IC9eZnJhbWVyYXRlOihcXGQrKD86JHxcXC5cXGQrKSkvLFxuICAgICAgZm9ybWF0OiAnZnJhbWVyYXRlOiVzJ1xuICAgIH0sXG4gICAge1xuICAgICAgLy8gUkZDNDU3MFxuICAgICAgLy8gYT1zb3VyY2UtZmlsdGVyOiBpbmNsIElOIElQNCAyMzkuNS4yLjMxIDEwLjEuMTUuNVxuICAgICAgbmFtZTogJ3NvdXJjZUZpbHRlcicsXG4gICAgICByZWc6IC9ec291cmNlLWZpbHRlcjogKihleGNsfGluY2wpIChcXFMqKSAoSVA0fElQNnxcXCopIChcXFMqKSAoLiopLyxcbiAgICAgIG5hbWVzOiBbJ2ZpbHRlck1vZGUnLCAnbmV0VHlwZScsICdhZGRyZXNzVHlwZXMnLCAnZGVzdEFkZHJlc3MnLCAnc3JjTGlzdCddLFxuICAgICAgZm9ybWF0OiAnc291cmNlLWZpbHRlcjogJXMgJXMgJXMgJXMgJXMnXG4gICAgfSxcbiAgICB7XG4gICAgICAvLyBhPWJ1bmRsZS1vbmx5XG4gICAgICBuYW1lOiAnYnVuZGxlT25seScsXG4gICAgICByZWc6IC9eKGJ1bmRsZS1vbmx5KS9cbiAgICB9LFxuICAgIHtcbiAgICAgIC8vIGE9bGFiZWw6MVxuICAgICAgbmFtZTogJ2xhYmVsJyxcbiAgICAgIHJlZzogL15sYWJlbDooLispLyxcbiAgICAgIGZvcm1hdDogJ2xhYmVsOiVzJ1xuICAgIH0sXG4gICAge1xuICAgICAgLy8gUkZDIHZlcnNpb24gMjYgZm9yIFNDVFAgb3ZlciBEVExTXG4gICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvZHJhZnQtaWV0Zi1tbXVzaWMtc2N0cC1zZHAtMjYjc2VjdGlvbi01XG4gICAgICBuYW1lOiAnc2N0cFBvcnQnLFxuICAgICAgcmVnOiAvXnNjdHAtcG9ydDooXFxkKykkLyxcbiAgICAgIGZvcm1hdDogJ3NjdHAtcG9ydDolcydcbiAgICB9LFxuICAgIHtcbiAgICAgIC8vIFJGQyB2ZXJzaW9uIDI2IGZvciBTQ1RQIG92ZXIgRFRMU1xuICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL2RyYWZ0LWlldGYtbW11c2ljLXNjdHAtc2RwLTI2I3NlY3Rpb24tNlxuICAgICAgbmFtZTogJ21heE1lc3NhZ2VTaXplJyxcbiAgICAgIHJlZzogL15tYXgtbWVzc2FnZS1zaXplOihcXGQrKSQvLFxuICAgICAgZm9ybWF0OiAnbWF4LW1lc3NhZ2Utc2l6ZTolcydcbiAgICB9LFxuICAgIHtcbiAgICAgIC8vIFJGQzcyNzNcbiAgICAgIC8vIGE9dHMtcmVmY2xrOnB0cD1JRUVFMTU4OC0yMDA4OjM5LUE3LTk0LUZGLUZFLTA3LUNCLUQwOjM3XG4gICAgICBwdXNoOid0c1JlZkNsb2NrcycsXG4gICAgICByZWc6IC9edHMtcmVmY2xrOihbXlxccz1dKikoPzo9KFxcUyopKT8vLFxuICAgICAgbmFtZXM6IFsnY2xrc3JjJywgJ2Nsa3NyY0V4dCddLFxuICAgICAgZm9ybWF0OiBmdW5jdGlvbiAobykge1xuICAgICAgICByZXR1cm4gJ3RzLXJlZmNsazolcycgKyAoby5jbGtzcmNFeHQgIT0gbnVsbCA/ICc9JXMnIDogJycpO1xuICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgLy8gUkZDNzI3M1xuICAgICAgLy8gYT1tZWRpYWNsazpkaXJlY3Q9OTYzMjE0NDI0XG4gICAgICBuYW1lOidtZWRpYUNsaycsXG4gICAgICByZWc6IC9ebWVkaWFjbGs6KD86aWQ9KFxcUyopKT8gKihbXlxccz1dKikoPzo9KFxcUyopKT8oPzogKnJhdGU9KFxcZCspXFwvKFxcZCspKT8vLFxuICAgICAgbmFtZXM6IFsnaWQnLCAnbWVkaWFDbG9ja05hbWUnLCAnbWVkaWFDbG9ja1ZhbHVlJywgJ3JhdGVOdW1lcmF0b3InLCAncmF0ZURlbm9taW5hdG9yJ10sXG4gICAgICBmb3JtYXQ6IGZ1bmN0aW9uIChvKSB7XG4gICAgICAgIHZhciBzdHIgPSAnbWVkaWFjbGs6JztcbiAgICAgICAgc3RyICs9IChvLmlkICE9IG51bGwgPyAnaWQ9JXMgJXMnIDogJyV2JXMnKTtcbiAgICAgICAgc3RyICs9IChvLm1lZGlhQ2xvY2tWYWx1ZSAhPSBudWxsID8gJz0lcycgOiAnJyk7XG4gICAgICAgIHN0ciArPSAoby5yYXRlTnVtZXJhdG9yICE9IG51bGwgPyAnIHJhdGU9JXMnIDogJycpO1xuICAgICAgICBzdHIgKz0gKG8ucmF0ZURlbm9taW5hdG9yICE9IG51bGwgPyAnLyVzJyA6ICcnKTtcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIC8vIGE9a2V5d2RzOmtleXdvcmRzXG4gICAgICBuYW1lOiAna2V5d29yZHMnLFxuICAgICAgcmVnOiAvXmtleXdkczooLispJC8sXG4gICAgICBmb3JtYXQ6ICdrZXl3ZHM6JXMnXG4gICAgfSxcbiAgICB7XG4gICAgICAvLyBhPWNvbnRlbnQ6bWFpblxuICAgICAgbmFtZTogJ2NvbnRlbnQnLFxuICAgICAgcmVnOiAvXmNvbnRlbnQ6KC4rKS8sXG4gICAgICBmb3JtYXQ6ICdjb250ZW50OiVzJ1xuICAgIH0sXG4gICAgLy8gQkZDUCBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNDU4M1xuICAgIHtcbiAgICAgIC8vIGE9Zmxvb3JjdHJsOmMtc1xuICAgICAgbmFtZTogJ2JmY3BGbG9vckN0cmwnLFxuICAgICAgcmVnOiAvXmZsb29yY3RybDooYy1vbmx5fHMtb25seXxjLXMpLyxcbiAgICAgIGZvcm1hdDogJ2Zsb29yY3RybDolcydcbiAgICB9LFxuICAgIHtcbiAgICAgIC8vIGE9Y29uZmlkOjFcbiAgICAgIG5hbWU6ICdiZmNwQ29uZklkJyxcbiAgICAgIHJlZzogL15jb25maWQ6KFxcZCspLyxcbiAgICAgIGZvcm1hdDogJ2NvbmZpZDolcydcbiAgICB9LFxuICAgIHtcbiAgICAgIC8vIGE9dXNlcmlkOjFcbiAgICAgIG5hbWU6ICdiZmNwVXNlcklkJyxcbiAgICAgIHJlZzogL151c2VyaWQ6KFxcZCspLyxcbiAgICAgIGZvcm1hdDogJ3VzZXJpZDolcydcbiAgICB9LFxuICAgIHtcbiAgICAgIC8vIGE9Zmxvb3JpZDoxXG4gICAgICBuYW1lOiAnYmZjcEZsb29ySWQnLFxuICAgICAgcmVnOiAvXmZsb29yaWQ6KC4rKSAoPzptLXN0cmVhbXxtc3RybSk6KC4rKS8sXG4gICAgICBuYW1lczogWydpZCcsICdtU3RyZWFtJ10sXG4gICAgICBmb3JtYXQ6ICdmbG9vcmlkOiVzIG1zdHJtOiVzJ1xuICAgIH0sXG4gICAge1xuICAgICAgLy8gYW55IGE9IHRoYXQgd2UgZG9uJ3QgdW5kZXJzdGFuZCBpcyBrZXB0IHZlcmJhdGltIG9uIG1lZGlhLmludmFsaWRcbiAgICAgIHB1c2g6ICdpbnZhbGlkJyxcbiAgICAgIG5hbWVzOiBbJ3ZhbHVlJ11cbiAgICB9XG4gIF1cbn07XG5cbi8vIHNldCBzZW5zaWJsZSBkZWZhdWx0cyB0byBhdm9pZCBwb2xsdXRpbmcgdGhlIGdyYW1tYXIgd2l0aCBib3JpbmcgZGV0YWlsc1xuT2JqZWN0LmtleXMoZ3JhbW1hcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gIHZhciBvYmpzID0gZ3JhbW1hcltrZXldO1xuICBvYmpzLmZvckVhY2goZnVuY3Rpb24gKG9iaikge1xuICAgIGlmICghb2JqLnJlZykge1xuICAgICAgb2JqLnJlZyA9IC8oLiopLztcbiAgICB9XG4gICAgaWYgKCFvYmouZm9ybWF0KSB7XG4gICAgICBvYmouZm9ybWF0ID0gJyVzJztcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJ2YXIgcGFyc2VyID0gcmVxdWlyZSgnLi9wYXJzZXInKTtcbnZhciB3cml0ZXIgPSByZXF1aXJlKCcuL3dyaXRlcicpO1xuXG5leHBvcnRzLndyaXRlID0gd3JpdGVyO1xuZXhwb3J0cy5wYXJzZSA9IHBhcnNlci5wYXJzZTtcbmV4cG9ydHMucGFyc2VQYXJhbXMgPSBwYXJzZXIucGFyc2VQYXJhbXM7XG5leHBvcnRzLnBhcnNlRm10cENvbmZpZyA9IHBhcnNlci5wYXJzZUZtdHBDb25maWc7IC8vIEFsaWFzIG9mIHBhcnNlUGFyYW1zKCkuXG5leHBvcnRzLnBhcnNlUGF5bG9hZHMgPSBwYXJzZXIucGFyc2VQYXlsb2FkcztcbmV4cG9ydHMucGFyc2VSZW1vdGVDYW5kaWRhdGVzID0gcGFyc2VyLnBhcnNlUmVtb3RlQ2FuZGlkYXRlcztcbmV4cG9ydHMucGFyc2VJbWFnZUF0dHJpYnV0ZXMgPSBwYXJzZXIucGFyc2VJbWFnZUF0dHJpYnV0ZXM7XG5leHBvcnRzLnBhcnNlU2ltdWxjYXN0U3RyZWFtTGlzdCA9IHBhcnNlci5wYXJzZVNpbXVsY2FzdFN0cmVhbUxpc3Q7XG4iLCJ2YXIgdG9JbnRJZkludCA9IGZ1bmN0aW9uICh2KSB7XG4gIHJldHVybiBTdHJpbmcoTnVtYmVyKHYpKSA9PT0gdiA/IE51bWJlcih2KSA6IHY7XG59O1xuXG52YXIgYXR0YWNoUHJvcGVydGllcyA9IGZ1bmN0aW9uIChtYXRjaCwgbG9jYXRpb24sIG5hbWVzLCByYXdOYW1lKSB7XG4gIGlmIChyYXdOYW1lICYmICFuYW1lcykge1xuICAgIGxvY2F0aW9uW3Jhd05hbWVdID0gdG9JbnRJZkludChtYXRjaFsxXSk7XG4gIH1cbiAgZWxzZSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgaWYgKG1hdGNoW2krMV0gIT0gbnVsbCkge1xuICAgICAgICBsb2NhdGlvbltuYW1lc1tpXV0gPSB0b0ludElmSW50KG1hdGNoW2krMV0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxudmFyIHBhcnNlUmVnID0gZnVuY3Rpb24gKG9iaiwgbG9jYXRpb24sIGNvbnRlbnQpIHtcbiAgdmFyIG5lZWRzQmxhbmsgPSBvYmoubmFtZSAmJiBvYmoubmFtZXM7XG4gIGlmIChvYmoucHVzaCAmJiAhbG9jYXRpb25bb2JqLnB1c2hdKSB7XG4gICAgbG9jYXRpb25bb2JqLnB1c2hdID0gW107XG4gIH1cbiAgZWxzZSBpZiAobmVlZHNCbGFuayAmJiAhbG9jYXRpb25bb2JqLm5hbWVdKSB7XG4gICAgbG9jYXRpb25bb2JqLm5hbWVdID0ge307XG4gIH1cbiAgdmFyIGtleUxvY2F0aW9uID0gb2JqLnB1c2ggP1xuICAgIHt9IDogIC8vIGJsYW5rIG9iamVjdCB0aGF0IHdpbGwgYmUgcHVzaGVkXG4gICAgbmVlZHNCbGFuayA/IGxvY2F0aW9uW29iai5uYW1lXSA6IGxvY2F0aW9uOyAvLyBvdGhlcndpc2UsIG5hbWVkIGxvY2F0aW9uIG9yIHJvb3RcblxuICBhdHRhY2hQcm9wZXJ0aWVzKGNvbnRlbnQubWF0Y2gob2JqLnJlZyksIGtleUxvY2F0aW9uLCBvYmoubmFtZXMsIG9iai5uYW1lKTtcblxuICBpZiAob2JqLnB1c2gpIHtcbiAgICBsb2NhdGlvbltvYmoucHVzaF0ucHVzaChrZXlMb2NhdGlvbik7XG4gIH1cbn07XG5cbnZhciBncmFtbWFyID0gcmVxdWlyZSgnLi9ncmFtbWFyJyk7XG52YXIgdmFsaWRMaW5lID0gUmVnRXhwLnByb3RvdHlwZS50ZXN0LmJpbmQoL14oW2Etel0pPSguKikvKTtcblxuZXhwb3J0cy5wYXJzZSA9IGZ1bmN0aW9uIChzZHApIHtcbiAgdmFyIHNlc3Npb24gPSB7fVxuICAgICwgbWVkaWEgPSBbXVxuICAgICwgbG9jYXRpb24gPSBzZXNzaW9uOyAvLyBwb2ludHMgYXQgd2hlcmUgcHJvcGVydGllcyBnbyB1bmRlciAob25lIG9mIHRoZSBhYm92ZSlcblxuICAvLyBwYXJzZSBsaW5lcyB3ZSB1bmRlcnN0YW5kXG4gIHNkcC5zcGxpdCgvKFxcclxcbnxcXHJ8XFxuKS8pLmZpbHRlcih2YWxpZExpbmUpLmZvckVhY2goZnVuY3Rpb24gKGwpIHtcbiAgICB2YXIgdHlwZSA9IGxbMF07XG4gICAgdmFyIGNvbnRlbnQgPSBsLnNsaWNlKDIpO1xuICAgIGlmICh0eXBlID09PSAnbScpIHtcbiAgICAgIG1lZGlhLnB1c2goe3J0cDogW10sIGZtdHA6IFtdfSk7XG4gICAgICBsb2NhdGlvbiA9IG1lZGlhW21lZGlhLmxlbmd0aC0xXTsgLy8gcG9pbnQgYXQgbGF0ZXN0IG1lZGlhIGxpbmVcbiAgICB9XG5cbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IChncmFtbWFyW3R5cGVdIHx8IFtdKS5sZW5ndGg7IGogKz0gMSkge1xuICAgICAgdmFyIG9iaiA9IGdyYW1tYXJbdHlwZV1bal07XG4gICAgICBpZiAob2JqLnJlZy50ZXN0KGNvbnRlbnQpKSB7XG4gICAgICAgIHJldHVybiBwYXJzZVJlZyhvYmosIGxvY2F0aW9uLCBjb250ZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHNlc3Npb24ubWVkaWEgPSBtZWRpYTsgLy8gbGluayBpdCB1cFxuICByZXR1cm4gc2Vzc2lvbjtcbn07XG5cbnZhciBwYXJhbVJlZHVjZXIgPSBmdW5jdGlvbiAoYWNjLCBleHByKSB7XG4gIHZhciBzID0gZXhwci5zcGxpdCgvPSguKykvLCAyKTtcbiAgaWYgKHMubGVuZ3RoID09PSAyKSB7XG4gICAgYWNjW3NbMF1dID0gdG9JbnRJZkludChzWzFdKTtcbiAgfSBlbHNlIGlmIChzLmxlbmd0aCA9PT0gMSAmJiBleHByLmxlbmd0aCA+IDEpIHtcbiAgICBhY2Nbc1swXV0gPSB1bmRlZmluZWQ7XG4gIH1cbiAgcmV0dXJuIGFjYztcbn07XG5cbmV4cG9ydHMucGFyc2VQYXJhbXMgPSBmdW5jdGlvbiAoc3RyKSB7XG4gIHJldHVybiBzdHIuc3BsaXQoLztcXHM/LykucmVkdWNlKHBhcmFtUmVkdWNlciwge30pO1xufTtcblxuLy8gRm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgLSBhbGlhcyB3aWxsIGJlIHJlbW92ZWQgaW4gMy4wLjBcbmV4cG9ydHMucGFyc2VGbXRwQ29uZmlnID0gZXhwb3J0cy5wYXJzZVBhcmFtcztcblxuZXhwb3J0cy5wYXJzZVBheWxvYWRzID0gZnVuY3Rpb24gKHN0cikge1xuICByZXR1cm4gc3RyLnRvU3RyaW5nKCkuc3BsaXQoJyAnKS5tYXAoTnVtYmVyKTtcbn07XG5cbmV4cG9ydHMucGFyc2VSZW1vdGVDYW5kaWRhdGVzID0gZnVuY3Rpb24gKHN0cikge1xuICB2YXIgY2FuZGlkYXRlcyA9IFtdO1xuICB2YXIgcGFydHMgPSBzdHIuc3BsaXQoJyAnKS5tYXAodG9JbnRJZkludCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpICs9IDMpIHtcbiAgICBjYW5kaWRhdGVzLnB1c2goe1xuICAgICAgY29tcG9uZW50OiBwYXJ0c1tpXSxcbiAgICAgIGlwOiBwYXJ0c1tpICsgMV0sXG4gICAgICBwb3J0OiBwYXJ0c1tpICsgMl1cbiAgICB9KTtcbiAgfVxuICByZXR1cm4gY2FuZGlkYXRlcztcbn07XG5cbmV4cG9ydHMucGFyc2VJbWFnZUF0dHJpYnV0ZXMgPSBmdW5jdGlvbiAoc3RyKSB7XG4gIHJldHVybiBzdHIuc3BsaXQoJyAnKS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICByZXR1cm4gaXRlbS5zdWJzdHJpbmcoMSwgaXRlbS5sZW5ndGgtMSkuc3BsaXQoJywnKS5yZWR1Y2UocGFyYW1SZWR1Y2VyLCB7fSk7XG4gIH0pO1xufTtcblxuZXhwb3J0cy5wYXJzZVNpbXVsY2FzdFN0cmVhbUxpc3QgPSBmdW5jdGlvbiAoc3RyKSB7XG4gIHJldHVybiBzdHIuc3BsaXQoJzsnKS5tYXAoZnVuY3Rpb24gKHN0cmVhbSkge1xuICAgIHJldHVybiBzdHJlYW0uc3BsaXQoJywnKS5tYXAoZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgICAgdmFyIHNjaWQsIHBhdXNlZCA9IGZhbHNlO1xuXG4gICAgICBpZiAoZm9ybWF0WzBdICE9PSAnficpIHtcbiAgICAgICAgc2NpZCA9IHRvSW50SWZJbnQoZm9ybWF0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNjaWQgPSB0b0ludElmSW50KGZvcm1hdC5zdWJzdHJpbmcoMSwgZm9ybWF0Lmxlbmd0aCkpO1xuICAgICAgICBwYXVzZWQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzY2lkOiBzY2lkLFxuICAgICAgICBwYXVzZWQ6IHBhdXNlZFxuICAgICAgfTtcbiAgICB9KTtcbiAgfSk7XG59O1xuIiwidmFyIGdyYW1tYXIgPSByZXF1aXJlKCcuL2dyYW1tYXInKTtcblxuLy8gY3VzdG9taXplZCB1dGlsLmZvcm1hdCAtIGRpc2NhcmRzIGV4Y2VzcyBhcmd1bWVudHMgYW5kIGNhbiB2b2lkIG1pZGRsZSBvbmVzXG52YXIgZm9ybWF0UmVnRXhwID0gLyVbc2R2JV0vZztcbnZhciBmb3JtYXQgPSBmdW5jdGlvbiAoZm9ybWF0U3RyKSB7XG4gIHZhciBpID0gMTtcbiAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gIHZhciBsZW4gPSBhcmdzLmxlbmd0aDtcbiAgcmV0dXJuIGZvcm1hdFN0ci5yZXBsYWNlKGZvcm1hdFJlZ0V4cCwgZnVuY3Rpb24gKHgpIHtcbiAgICBpZiAoaSA+PSBsZW4pIHtcbiAgICAgIHJldHVybiB4OyAvLyBtaXNzaW5nIGFyZ3VtZW50XG4gICAgfVxuICAgIHZhciBhcmcgPSBhcmdzW2ldO1xuICAgIGkgKz0gMTtcbiAgICBzd2l0Y2ggKHgpIHtcbiAgICBjYXNlICclJSc6XG4gICAgICByZXR1cm4gJyUnO1xuICAgIGNhc2UgJyVzJzpcbiAgICAgIHJldHVybiBTdHJpbmcoYXJnKTtcbiAgICBjYXNlICclZCc6XG4gICAgICByZXR1cm4gTnVtYmVyKGFyZyk7XG4gICAgY2FzZSAnJXYnOlxuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgfSk7XG4gIC8vIE5COiB3ZSBkaXNjYXJkIGV4Y2VzcyBhcmd1bWVudHMgLSB0aGV5IGFyZSB0eXBpY2FsbHkgdW5kZWZpbmVkIGZyb20gbWFrZUxpbmVcbn07XG5cbnZhciBtYWtlTGluZSA9IGZ1bmN0aW9uICh0eXBlLCBvYmosIGxvY2F0aW9uKSB7XG4gIHZhciBzdHIgPSBvYmouZm9ybWF0IGluc3RhbmNlb2YgRnVuY3Rpb24gP1xuICAgIChvYmouZm9ybWF0KG9iai5wdXNoID8gbG9jYXRpb24gOiBsb2NhdGlvbltvYmoubmFtZV0pKSA6XG4gICAgb2JqLmZvcm1hdDtcblxuICB2YXIgYXJncyA9IFt0eXBlICsgJz0nICsgc3RyXTtcbiAgaWYgKG9iai5uYW1lcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqLm5hbWVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICB2YXIgbiA9IG9iai5uYW1lc1tpXTtcbiAgICAgIGlmIChvYmoubmFtZSkge1xuICAgICAgICBhcmdzLnB1c2gobG9jYXRpb25bb2JqLm5hbWVdW25dKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgeyAvLyBmb3IgbUxpbmUgYW5kIHB1c2ggYXR0cmlidXRlc1xuICAgICAgICBhcmdzLnB1c2gobG9jYXRpb25bb2JqLm5hbWVzW2ldXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGVsc2Uge1xuICAgIGFyZ3MucHVzaChsb2NhdGlvbltvYmoubmFtZV0pO1xuICB9XG4gIHJldHVybiBmb3JtYXQuYXBwbHkobnVsbCwgYXJncyk7XG59O1xuXG4vLyBSRkMgc3BlY2lmaWVkIG9yZGVyXG4vLyBUT0RPOiBleHRlbmQgdGhpcyB3aXRoIGFsbCB0aGUgcmVzdFxudmFyIGRlZmF1bHRPdXRlck9yZGVyID0gW1xuICAndicsICdvJywgJ3MnLCAnaScsXG4gICd1JywgJ2UnLCAncCcsICdjJyxcbiAgJ2InLCAndCcsICdyJywgJ3onLCAnYSdcbl07XG52YXIgZGVmYXVsdElubmVyT3JkZXIgPSBbJ2knLCAnYycsICdiJywgJ2EnXTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzZXNzaW9uLCBvcHRzKSB7XG4gIG9wdHMgPSBvcHRzIHx8IHt9O1xuICAvLyBlbnN1cmUgY2VydGFpbiBwcm9wZXJ0aWVzIGV4aXN0XG4gIGlmIChzZXNzaW9uLnZlcnNpb24gPT0gbnVsbCkge1xuICAgIHNlc3Npb24udmVyc2lvbiA9IDA7IC8vICd2PTAnIG11c3QgYmUgdGhlcmUgKG9ubHkgZGVmaW5lZCB2ZXJzaW9uIGF0bSlcbiAgfVxuICBpZiAoc2Vzc2lvbi5uYW1lID09IG51bGwpIHtcbiAgICBzZXNzaW9uLm5hbWUgPSAnICc7IC8vICdzPSAnIG11c3QgYmUgdGhlcmUgaWYgbm8gbWVhbmluZ2Z1bCBuYW1lIHNldFxuICB9XG4gIHNlc3Npb24ubWVkaWEuZm9yRWFjaChmdW5jdGlvbiAobUxpbmUpIHtcbiAgICBpZiAobUxpbmUucGF5bG9hZHMgPT0gbnVsbCkge1xuICAgICAgbUxpbmUucGF5bG9hZHMgPSAnJztcbiAgICB9XG4gIH0pO1xuXG4gIHZhciBvdXRlck9yZGVyID0gb3B0cy5vdXRlck9yZGVyIHx8IGRlZmF1bHRPdXRlck9yZGVyO1xuICB2YXIgaW5uZXJPcmRlciA9IG9wdHMuaW5uZXJPcmRlciB8fCBkZWZhdWx0SW5uZXJPcmRlcjtcbiAgdmFyIHNkcCA9IFtdO1xuXG4gIC8vIGxvb3AgdGhyb3VnaCBvdXRlck9yZGVyIGZvciBtYXRjaGluZyBwcm9wZXJ0aWVzIG9uIHNlc3Npb25cbiAgb3V0ZXJPcmRlci5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgZ3JhbW1hclt0eXBlXS5mb3JFYWNoKGZ1bmN0aW9uIChvYmopIHtcbiAgICAgIGlmIChvYmoubmFtZSBpbiBzZXNzaW9uICYmIHNlc3Npb25bb2JqLm5hbWVdICE9IG51bGwpIHtcbiAgICAgICAgc2RwLnB1c2gobWFrZUxpbmUodHlwZSwgb2JqLCBzZXNzaW9uKSk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChvYmoucHVzaCBpbiBzZXNzaW9uICYmIHNlc3Npb25bb2JqLnB1c2hdICE9IG51bGwpIHtcbiAgICAgICAgc2Vzc2lvbltvYmoucHVzaF0uZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICBzZHAucHVzaChtYWtlTGluZSh0eXBlLCBvYmosIGVsKSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICAvLyB0aGVuIGZvciBlYWNoIG1lZGlhIGxpbmUsIGZvbGxvdyB0aGUgaW5uZXJPcmRlclxuICBzZXNzaW9uLm1lZGlhLmZvckVhY2goZnVuY3Rpb24gKG1MaW5lKSB7XG4gICAgc2RwLnB1c2gobWFrZUxpbmUoJ20nLCBncmFtbWFyLm1bMF0sIG1MaW5lKSk7XG5cbiAgICBpbm5lck9yZGVyLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgIGdyYW1tYXJbdHlwZV0uZm9yRWFjaChmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIGlmIChvYmoubmFtZSBpbiBtTGluZSAmJiBtTGluZVtvYmoubmFtZV0gIT0gbnVsbCkge1xuICAgICAgICAgIHNkcC5wdXNoKG1ha2VMaW5lKHR5cGUsIG9iaiwgbUxpbmUpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvYmoucHVzaCBpbiBtTGluZSAmJiBtTGluZVtvYmoucHVzaF0gIT0gbnVsbCkge1xuICAgICAgICAgIG1MaW5lW29iai5wdXNoXS5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgc2RwLnB1c2gobWFrZUxpbmUodHlwZSwgb2JqLCBlbCkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgcmV0dXJuIHNkcC5qb2luKCdcXHJcXG4nKSArICdcXHJcXG4nO1xufTtcbiIsIi8qIVxuICogU29ja2V0LklPIHYyLjQuMFxuICogKGMpIDIwMTQtMjAyMSBHdWlsbGVybW8gUmF1Y2hcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqL1xuIWZ1bmN0aW9uKHQsZSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9ZSgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sZSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5pbz1lKCk6dC5pbz1lKCl9KHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShuKXtpZihyW25dKXJldHVybiByW25dLmV4cG9ydHM7dmFyIG89cltuXT17ZXhwb3J0czp7fSxpZDpuLGxvYWRlZDohMX07cmV0dXJuIHRbbl0uY2FsbChvLmV4cG9ydHMsbyxvLmV4cG9ydHMsZSksby5sb2FkZWQ9ITAsby5leHBvcnRzfXZhciByPXt9O3JldHVybiBlLm09dCxlLmM9cixlLnA9XCJcIixlKDApfShbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCxlKXtcIm9iamVjdFwiPT09KFwidW5kZWZpbmVkXCI9PXR5cGVvZiB0P1widW5kZWZpbmVkXCI6byh0KSkmJihlPXQsdD12b2lkIDApLGU9ZXx8e307dmFyIHIsbj1pKHQpLHM9bi5zb3VyY2UscD1uLmlkLGg9bi5wYXRoLHU9Y1twXSYmaCBpbiBjW3BdLm5zcHMsZj1lLmZvcmNlTmV3fHxlW1wiZm9yY2UgbmV3IGNvbm5lY3Rpb25cIl18fCExPT09ZS5tdWx0aXBsZXh8fHU7cmV0dXJuIGY/cj1hKHMsZSk6KGNbcF18fChjW3BdPWEocyxlKSkscj1jW3BdKSxuLnF1ZXJ5JiYhZS5xdWVyeSYmKGUucXVlcnk9bi5xdWVyeSksci5zb2NrZXQobi5wYXRoLGUpfXZhciBvPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGk9cigxKSxzPXIoNCksYT1yKDkpO3IoMykoXCJzb2NrZXQuaW8tY2xpZW50XCIpO3QuZXhwb3J0cz1lPW47dmFyIGM9ZS5tYW5hZ2Vycz17fTtlLnByb3RvY29sPXMucHJvdG9jb2wsZS5jb25uZWN0PW4sZS5NYW5hZ2VyPXIoOSksZS5Tb2NrZXQ9cigzNCl9LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQsZSl7dmFyIHI9dDtlPWV8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBsb2NhdGlvbiYmbG9jYXRpb24sbnVsbD09dCYmKHQ9ZS5wcm90b2NvbCtcIi8vXCIrZS5ob3N0KSxcInN0cmluZ1wiPT10eXBlb2YgdCYmKFwiL1wiPT09dC5jaGFyQXQoMCkmJih0PVwiL1wiPT09dC5jaGFyQXQoMSk/ZS5wcm90b2NvbCt0OmUuaG9zdCt0KSwvXihodHRwcz98d3NzPyk6XFwvXFwvLy50ZXN0KHQpfHwodD1cInVuZGVmaW5lZFwiIT10eXBlb2YgZT9lLnByb3RvY29sK1wiLy9cIit0OlwiaHR0cHM6Ly9cIit0KSxyPW8odCkpLHIucG9ydHx8KC9eKGh0dHB8d3MpJC8udGVzdChyLnByb3RvY29sKT9yLnBvcnQ9XCI4MFwiOi9eKGh0dHB8d3MpcyQvLnRlc3Qoci5wcm90b2NvbCkmJihyLnBvcnQ9XCI0NDNcIikpLHIucGF0aD1yLnBhdGh8fFwiL1wiO3ZhciBuPXIuaG9zdC5pbmRleE9mKFwiOlwiKSE9PS0xLGk9bj9cIltcIityLmhvc3QrXCJdXCI6ci5ob3N0O3JldHVybiByLmlkPXIucHJvdG9jb2wrXCI6Ly9cIitpK1wiOlwiK3IucG9ydCxyLmhyZWY9ci5wcm90b2NvbCtcIjovL1wiK2krKGUmJmUucG9ydD09PXIucG9ydD9cIlwiOlwiOlwiK3IucG9ydCkscn12YXIgbz1yKDIpO3IoMykoXCJzb2NrZXQuaW8tY2xpZW50OnVybFwiKTt0LmV4cG9ydHM9bn0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiByKHQsZSl7dmFyIHI9L1xcL3syLDl9L2csbj1lLnJlcGxhY2UocixcIi9cIikuc3BsaXQoXCIvXCIpO3JldHVyblwiL1wiIT1lLnN1YnN0cigwLDEpJiYwIT09ZS5sZW5ndGh8fG4uc3BsaWNlKDAsMSksXCIvXCI9PWUuc3Vic3RyKGUubGVuZ3RoLTEsMSkmJm4uc3BsaWNlKG4ubGVuZ3RoLTEsMSksbn1mdW5jdGlvbiBuKHQsZSl7dmFyIHI9e307cmV0dXJuIGUucmVwbGFjZSgvKD86XnwmKShbXiY9XSopPT8oW14mXSopL2csZnVuY3Rpb24odCxlLG4pe2UmJihyW2VdPW4pfSkscn12YXIgbz0vXig/Oig/IVteOkBdKzpbXjpAXFwvXSpAKShodHRwfGh0dHBzfHdzfHdzcyk6XFwvXFwvKT8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPygoPzpbYS1mMC05XXswLDR9Oil7Miw3fVthLWYwLTldezAsNH18W146XFwvPyNdKikoPzo6KFxcZCopKT8pKCgoXFwvKD86W14/I10oPyFbXj8jXFwvXSpcXC5bXj8jXFwvLl0rKD86Wz8jXXwkKSkpKlxcLz8pPyhbXj8jXFwvXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pLyxpPVtcInNvdXJjZVwiLFwicHJvdG9jb2xcIixcImF1dGhvcml0eVwiLFwidXNlckluZm9cIixcInVzZXJcIixcInBhc3N3b3JkXCIsXCJob3N0XCIsXCJwb3J0XCIsXCJyZWxhdGl2ZVwiLFwicGF0aFwiLFwiZGlyZWN0b3J5XCIsXCJmaWxlXCIsXCJxdWVyeVwiLFwiYW5jaG9yXCJdO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT10LHM9dC5pbmRleE9mKFwiW1wiKSxhPXQuaW5kZXhPZihcIl1cIik7cyE9LTEmJmEhPS0xJiYodD10LnN1YnN0cmluZygwLHMpK3Quc3Vic3RyaW5nKHMsYSkucmVwbGFjZSgvOi9nLFwiO1wiKSt0LnN1YnN0cmluZyhhLHQubGVuZ3RoKSk7Zm9yKHZhciBjPW8uZXhlYyh0fHxcIlwiKSxwPXt9LGg9MTQ7aC0tOylwW2lbaF1dPWNbaF18fFwiXCI7cmV0dXJuIHMhPS0xJiZhIT0tMSYmKHAuc291cmNlPWUscC5ob3N0PXAuaG9zdC5zdWJzdHJpbmcoMSxwLmhvc3QubGVuZ3RoLTEpLnJlcGxhY2UoLzsvZyxcIjpcIikscC5hdXRob3JpdHk9cC5hdXRob3JpdHkucmVwbGFjZShcIltcIixcIlwiKS5yZXBsYWNlKFwiXVwiLFwiXCIpLnJlcGxhY2UoLzsvZyxcIjpcIikscC5pcHY2dXJpPSEwKSxwLnBhdGhOYW1lcz1yKHAscC5wYXRoKSxwLnF1ZXJ5S2V5PW4ocCxwLnF1ZXJ5KSxwfX0sZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjt0LmV4cG9ydHM9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt9fX0sZnVuY3Rpb24odCxlLHIpe2Z1bmN0aW9uIG4oKXt9ZnVuY3Rpb24gbyh0KXt2YXIgcj1cIlwiK3QudHlwZTtpZihlLkJJTkFSWV9FVkVOVCE9PXQudHlwZSYmZS5CSU5BUllfQUNLIT09dC50eXBlfHwocis9dC5hdHRhY2htZW50cytcIi1cIiksdC5uc3AmJlwiL1wiIT09dC5uc3AmJihyKz10Lm5zcCtcIixcIiksbnVsbCE9dC5pZCYmKHIrPXQuaWQpLG51bGwhPXQuZGF0YSl7dmFyIG49aSh0LmRhdGEpO2lmKG49PT0hMSlyZXR1cm4gbTtyKz1ufXJldHVybiByfWZ1bmN0aW9uIGkodCl7dHJ5e3JldHVybiBKU09OLnN0cmluZ2lmeSh0KX1jYXRjaCh0KXtyZXR1cm4hMX19ZnVuY3Rpb24gcyh0LGUpe2Z1bmN0aW9uIHIodCl7dmFyIHI9bC5kZWNvbnN0cnVjdFBhY2tldCh0KSxuPW8oci5wYWNrZXQpLGk9ci5idWZmZXJzO2kudW5zaGlmdChuKSxlKGkpfWwucmVtb3ZlQmxvYnModCxyKX1mdW5jdGlvbiBhKCl7dGhpcy5yZWNvbnN0cnVjdG9yPW51bGx9ZnVuY3Rpb24gYyh0KXt2YXIgcj0wLG49e3R5cGU6TnVtYmVyKHQuY2hhckF0KDApKX07aWYobnVsbD09ZS50eXBlc1tuLnR5cGVdKXJldHVybiB1KFwidW5rbm93biBwYWNrZXQgdHlwZSBcIituLnR5cGUpO2lmKGUuQklOQVJZX0VWRU5UPT09bi50eXBlfHxlLkJJTkFSWV9BQ0s9PT1uLnR5cGUpe2Zvcih2YXIgbz1cIlwiO1wiLVwiIT09dC5jaGFyQXQoKytyKSYmKG8rPXQuY2hhckF0KHIpLHIhPXQubGVuZ3RoKTspO2lmKG8hPU51bWJlcihvKXx8XCItXCIhPT10LmNoYXJBdChyKSl0aHJvdyBuZXcgRXJyb3IoXCJJbGxlZ2FsIGF0dGFjaG1lbnRzXCIpO24uYXR0YWNobWVudHM9TnVtYmVyKG8pfWlmKFwiL1wiPT09dC5jaGFyQXQocisxKSlmb3Iobi5uc3A9XCJcIjsrK3I7KXt2YXIgaT10LmNoYXJBdChyKTtpZihcIixcIj09PWkpYnJlYWs7aWYobi5uc3ArPWkscj09PXQubGVuZ3RoKWJyZWFrfWVsc2Ugbi5uc3A9XCIvXCI7dmFyIHM9dC5jaGFyQXQocisxKTtpZihcIlwiIT09cyYmTnVtYmVyKHMpPT1zKXtmb3Iobi5pZD1cIlwiOysrcjspe3ZhciBpPXQuY2hhckF0KHIpO2lmKG51bGw9PWl8fE51bWJlcihpKSE9aSl7LS1yO2JyZWFrfWlmKG4uaWQrPXQuY2hhckF0KHIpLHI9PT10Lmxlbmd0aClicmVha31uLmlkPU51bWJlcihuLmlkKX1pZih0LmNoYXJBdCgrK3IpKXt2YXIgYT1wKHQuc3Vic3RyKHIpKSxjPWEhPT0hMSYmKG4udHlwZT09PWUuRVJST1J8fGQoYSkpO2lmKCFjKXJldHVybiB1KFwiaW52YWxpZCBwYXlsb2FkXCIpO24uZGF0YT1hfXJldHVybiBufWZ1bmN0aW9uIHAodCl7dHJ5e3JldHVybiBKU09OLnBhcnNlKHQpfWNhdGNoKHQpe3JldHVybiExfX1mdW5jdGlvbiBoKHQpe3RoaXMucmVjb25QYWNrPXQsdGhpcy5idWZmZXJzPVtdfWZ1bmN0aW9uIHUodCl7cmV0dXJue3R5cGU6ZS5FUlJPUixkYXRhOlwicGFyc2VyIGVycm9yOiBcIit0fX12YXIgZj0ocigzKShcInNvY2tldC5pby1wYXJzZXJcIikscig1KSksbD1yKDYpLGQ9cig3KSx5PXIoOCk7ZS5wcm90b2NvbD00LGUudHlwZXM9W1wiQ09OTkVDVFwiLFwiRElTQ09OTkVDVFwiLFwiRVZFTlRcIixcIkFDS1wiLFwiRVJST1JcIixcIkJJTkFSWV9FVkVOVFwiLFwiQklOQVJZX0FDS1wiXSxlLkNPTk5FQ1Q9MCxlLkRJU0NPTk5FQ1Q9MSxlLkVWRU5UPTIsZS5BQ0s9MyxlLkVSUk9SPTQsZS5CSU5BUllfRVZFTlQ9NSxlLkJJTkFSWV9BQ0s9NixlLkVuY29kZXI9bixlLkRlY29kZXI9YTt2YXIgbT1lLkVSUk9SKydcImVuY29kZSBlcnJvclwiJztuLnByb3RvdHlwZS5lbmNvZGU9ZnVuY3Rpb24odCxyKXtpZihlLkJJTkFSWV9FVkVOVD09PXQudHlwZXx8ZS5CSU5BUllfQUNLPT09dC50eXBlKXModCxyKTtlbHNle3ZhciBuPW8odCk7cihbbl0pfX0sZihhLnByb3RvdHlwZSksYS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3ZhciByO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXI9Yyh0KSxlLkJJTkFSWV9FVkVOVD09PXIudHlwZXx8ZS5CSU5BUllfQUNLPT09ci50eXBlPyh0aGlzLnJlY29uc3RydWN0b3I9bmV3IGgociksMD09PXRoaXMucmVjb25zdHJ1Y3Rvci5yZWNvblBhY2suYXR0YWNobWVudHMmJnRoaXMuZW1pdChcImRlY29kZWRcIixyKSk6dGhpcy5lbWl0KFwiZGVjb2RlZFwiLHIpO2Vsc2V7aWYoIXkodCkmJiF0LmJhc2U2NCl0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIHR5cGU6IFwiK3QpO2lmKCF0aGlzLnJlY29uc3RydWN0b3IpdGhyb3cgbmV3IEVycm9yKFwiZ290IGJpbmFyeSBkYXRhIHdoZW4gbm90IHJlY29uc3RydWN0aW5nIGEgcGFja2V0XCIpO3I9dGhpcy5yZWNvbnN0cnVjdG9yLnRha2VCaW5hcnlEYXRhKHQpLHImJih0aGlzLnJlY29uc3RydWN0b3I9bnVsbCx0aGlzLmVtaXQoXCJkZWNvZGVkXCIscikpfX0sYS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMucmVjb25zdHJ1Y3RvciYmdGhpcy5yZWNvbnN0cnVjdG9yLmZpbmlzaGVkUmVjb25zdHJ1Y3Rpb24oKX0saC5wcm90b3R5cGUudGFrZUJpbmFyeURhdGE9ZnVuY3Rpb24odCl7aWYodGhpcy5idWZmZXJzLnB1c2godCksdGhpcy5idWZmZXJzLmxlbmd0aD09PXRoaXMucmVjb25QYWNrLmF0dGFjaG1lbnRzKXt2YXIgZT1sLnJlY29uc3RydWN0UGFja2V0KHRoaXMucmVjb25QYWNrLHRoaXMuYnVmZmVycyk7cmV0dXJuIHRoaXMuZmluaXNoZWRSZWNvbnN0cnVjdGlvbigpLGV9cmV0dXJuIG51bGx9LGgucHJvdG90eXBlLmZpbmlzaGVkUmVjb25zdHJ1Y3Rpb249ZnVuY3Rpb24oKXt0aGlzLnJlY29uUGFjaz1udWxsLHRoaXMuYnVmZmVycz1bXX19LGZ1bmN0aW9uKHQsZSxyKXtmdW5jdGlvbiBuKHQpe2lmKHQpcmV0dXJuIG8odCl9ZnVuY3Rpb24gbyh0KXtmb3IodmFyIGUgaW4gbi5wcm90b3R5cGUpdFtlXT1uLnByb3RvdHlwZVtlXTtyZXR1cm4gdH10LmV4cG9ydHM9bixuLnByb3RvdHlwZS5vbj1uLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2NhbGxiYWNrcz10aGlzLl9jYWxsYmFja3N8fHt9LCh0aGlzLl9jYWxsYmFja3NbXCIkXCIrdF09dGhpcy5fY2FsbGJhY2tzW1wiJFwiK3RdfHxbXSkucHVzaChlKSx0aGlzfSxuLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gcigpe3RoaXMub2ZmKHQsciksZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIHIuZm49ZSx0aGlzLm9uKHQsciksdGhpc30sbi5wcm90b3R5cGUub2ZmPW4ucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPW4ucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1uLnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fY2FsbGJhY2tzPXRoaXMuX2NhbGxiYWNrc3x8e30sMD09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5fY2FsbGJhY2tzPXt9LHRoaXM7dmFyIHI9dGhpcy5fY2FsbGJhY2tzW1wiJFwiK3RdO2lmKCFyKXJldHVybiB0aGlzO2lmKDE9PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGRlbGV0ZSB0aGlzLl9jYWxsYmFja3NbXCIkXCIrdF0sdGhpcztmb3IodmFyIG4sbz0wO288ci5sZW5ndGg7bysrKWlmKG49cltvXSxuPT09ZXx8bi5mbj09PWUpe3Iuc3BsaWNlKG8sMSk7YnJlYWt9cmV0dXJuIDA9PT1yLmxlbmd0aCYmZGVsZXRlIHRoaXMuX2NhbGxiYWNrc1tcIiRcIit0XSx0aGlzfSxuLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKHQpe3RoaXMuX2NhbGxiYWNrcz10aGlzLl9jYWxsYmFja3N8fHt9O2Zvcih2YXIgZT1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKSxyPXRoaXMuX2NhbGxiYWNrc1tcIiRcIit0XSxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyllW24tMV09YXJndW1lbnRzW25dO2lmKHIpe3I9ci5zbGljZSgwKTtmb3IodmFyIG49MCxvPXIubGVuZ3RoO248bzsrK24pcltuXS5hcHBseSh0aGlzLGUpfXJldHVybiB0aGlzfSxuLnByb3RvdHlwZS5saXN0ZW5lcnM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NhbGxiYWNrcz10aGlzLl9jYWxsYmFja3N8fHt9LHRoaXMuX2NhbGxiYWNrc1tcIiRcIit0XXx8W119LG4ucHJvdG90eXBlLmhhc0xpc3RlbmVycz1mdW5jdGlvbih0KXtyZXR1cm4hIXRoaXMubGlzdGVuZXJzKHQpLmxlbmd0aH19LGZ1bmN0aW9uKHQsZSxyKXtmdW5jdGlvbiBuKHQsZSl7aWYoIXQpcmV0dXJuIHQ7aWYocyh0KSl7dmFyIHI9e19wbGFjZWhvbGRlcjohMCxudW06ZS5sZW5ndGh9O3JldHVybiBlLnB1c2godCkscn1pZihpKHQpKXtmb3IodmFyIG89bmV3IEFycmF5KHQubGVuZ3RoKSxhPTA7YTx0Lmxlbmd0aDthKyspb1thXT1uKHRbYV0sZSk7cmV0dXJuIG99aWYoXCJvYmplY3RcIj09dHlwZW9mIHQmJiEodCBpbnN0YW5jZW9mIERhdGUpKXt2YXIgbz17fTtmb3IodmFyIGMgaW4gdClvW2NdPW4odFtjXSxlKTtyZXR1cm4gb31yZXR1cm4gdH1mdW5jdGlvbiBvKHQsZSl7aWYoIXQpcmV0dXJuIHQ7aWYodCYmdC5fcGxhY2Vob2xkZXIpcmV0dXJuIGVbdC5udW1dO2lmKGkodCkpZm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspdFtyXT1vKHRbcl0sZSk7ZWxzZSBpZihcIm9iamVjdFwiPT10eXBlb2YgdClmb3IodmFyIG4gaW4gdCl0W25dPW8odFtuXSxlKTtyZXR1cm4gdH12YXIgaT1yKDcpLHM9cig4KSxhPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBCbG9ifHxcInVuZGVmaW5lZFwiIT10eXBlb2YgQmxvYiYmXCJbb2JqZWN0IEJsb2JDb25zdHJ1Y3Rvcl1cIj09PWEuY2FsbChCbG9iKSxwPVwiZnVuY3Rpb25cIj09dHlwZW9mIEZpbGV8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBGaWxlJiZcIltvYmplY3QgRmlsZUNvbnN0cnVjdG9yXVwiPT09YS5jYWxsKEZpbGUpO2UuZGVjb25zdHJ1Y3RQYWNrZXQ9ZnVuY3Rpb24odCl7dmFyIGU9W10scj10LmRhdGEsbz10O3JldHVybiBvLmRhdGE9bihyLGUpLG8uYXR0YWNobWVudHM9ZS5sZW5ndGgse3BhY2tldDpvLGJ1ZmZlcnM6ZX19LGUucmVjb25zdHJ1Y3RQYWNrZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5kYXRhPW8odC5kYXRhLGUpLHQuYXR0YWNobWVudHM9dm9pZCAwLHR9LGUucmVtb3ZlQmxvYnM9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiByKHQsYSxoKXtpZighdClyZXR1cm4gdDtpZihjJiZ0IGluc3RhbmNlb2YgQmxvYnx8cCYmdCBpbnN0YW5jZW9mIEZpbGUpe24rKzt2YXIgdT1uZXcgRmlsZVJlYWRlcjt1Lm9ubG9hZD1mdW5jdGlvbigpe2g/aFthXT10aGlzLnJlc3VsdDpvPXRoaXMucmVzdWx0LC0tbnx8ZShvKX0sdS5yZWFkQXNBcnJheUJ1ZmZlcih0KX1lbHNlIGlmKGkodCkpZm9yKHZhciBmPTA7Zjx0Lmxlbmd0aDtmKyspcih0W2ZdLGYsdCk7ZWxzZSBpZihcIm9iamVjdFwiPT10eXBlb2YgdCYmIXModCkpZm9yKHZhciBsIGluIHQpcih0W2xdLGwsdCl9dmFyIG49MCxvPXQ7cihvKSxufHxlKG8pfX0sZnVuY3Rpb24odCxlKXt2YXIgcj17fS50b1N0cmluZzt0LmV4cG9ydHM9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24odCl7cmV0dXJuXCJbb2JqZWN0IEFycmF5XVwiPT1yLmNhbGwodCl9fSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIHIodCl7cmV0dXJuIG4mJkJ1ZmZlci5pc0J1ZmZlcih0KXx8byYmKHQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8aSh0KSl9dC5leHBvcnRzPXI7dmFyIG49XCJmdW5jdGlvblwiPT10eXBlb2YgQnVmZmVyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBCdWZmZXIuaXNCdWZmZXIsbz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBBcnJheUJ1ZmZlcixpPWZ1bmN0aW9uKHQpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIEFycmF5QnVmZmVyLmlzVmlldz9BcnJheUJ1ZmZlci5pc1ZpZXcodCk6dC5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcn19LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQsZSl7aWYoISh0aGlzIGluc3RhbmNlb2YgbikpcmV0dXJuIG5ldyBuKHQsZSk7dCYmXCJvYmplY3RcIj09PShcInVuZGVmaW5lZFwiPT10eXBlb2YgdD9cInVuZGVmaW5lZFwiOm8odCkpJiYoZT10LHQ9dm9pZCAwKSxlPWV8fHt9LGUucGF0aD1lLnBhdGh8fFwiL3NvY2tldC5pb1wiLHRoaXMubnNwcz17fSx0aGlzLnN1YnM9W10sdGhpcy5vcHRzPWUsdGhpcy5yZWNvbm5lY3Rpb24oZS5yZWNvbm5lY3Rpb24hPT0hMSksdGhpcy5yZWNvbm5lY3Rpb25BdHRlbXB0cyhlLnJlY29ubmVjdGlvbkF0dGVtcHRzfHwxLzApLHRoaXMucmVjb25uZWN0aW9uRGVsYXkoZS5yZWNvbm5lY3Rpb25EZWxheXx8MWUzKSx0aGlzLnJlY29ubmVjdGlvbkRlbGF5TWF4KGUucmVjb25uZWN0aW9uRGVsYXlNYXh8fDVlMyksdGhpcy5yYW5kb21pemF0aW9uRmFjdG9yKGUucmFuZG9taXphdGlvbkZhY3Rvcnx8LjUpLHRoaXMuYmFja29mZj1uZXcgZih7bWluOnRoaXMucmVjb25uZWN0aW9uRGVsYXkoKSxtYXg6dGhpcy5yZWNvbm5lY3Rpb25EZWxheU1heCgpLGppdHRlcjp0aGlzLnJhbmRvbWl6YXRpb25GYWN0b3IoKX0pLHRoaXMudGltZW91dChudWxsPT1lLnRpbWVvdXQ/MmU0OmUudGltZW91dCksdGhpcy5yZWFkeVN0YXRlPVwiY2xvc2VkXCIsdGhpcy51cmk9dCx0aGlzLmNvbm5lY3Rpbmc9W10sdGhpcy5sYXN0UGluZz1udWxsLHRoaXMuZW5jb2Rpbmc9ITEsdGhpcy5wYWNrZXRCdWZmZXI9W107dmFyIHI9ZS5wYXJzZXJ8fGM7dGhpcy5lbmNvZGVyPW5ldyByLkVuY29kZXIsdGhpcy5kZWNvZGVyPW5ldyByLkRlY29kZXIsdGhpcy5hdXRvQ29ubmVjdD1lLmF1dG9Db25uZWN0IT09ITEsdGhpcy5hdXRvQ29ubmVjdCYmdGhpcy5vcGVuKCl9dmFyIG89XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0saT1yKDEwKSxzPXIoMzQpLGE9cig1KSxjPXIoNCkscD1yKDM2KSxoPXIoMzcpLHU9KHIoMykoXCJzb2NrZXQuaW8tY2xpZW50Om1hbmFnZXJcIikscigzMykpLGY9cigzOCksbD1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1uLG4ucHJvdG90eXBlLmVtaXRBbGw9ZnVuY3Rpb24oKXt0aGlzLmVtaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Zvcih2YXIgdCBpbiB0aGlzLm5zcHMpbC5jYWxsKHRoaXMubnNwcyx0KSYmdGhpcy5uc3BzW3RdLmVtaXQuYXBwbHkodGhpcy5uc3BzW3RdLGFyZ3VtZW50cyl9LG4ucHJvdG90eXBlLnVwZGF0ZVNvY2tldElkcz1mdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLm5zcHMpbC5jYWxsKHRoaXMubnNwcyx0KSYmKHRoaXMubnNwc1t0XS5pZD10aGlzLmdlbmVyYXRlSWQodCkpfSxuLnByb3RvdHlwZS5nZW5lcmF0ZUlkPWZ1bmN0aW9uKHQpe3JldHVybihcIi9cIj09PXQ/XCJcIjp0K1wiI1wiKSt0aGlzLmVuZ2luZS5pZH0sYShuLnByb3RvdHlwZSksbi5wcm90b3R5cGUucmVjb25uZWN0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0aGlzLl9yZWNvbm5lY3Rpb249ISF0LHRoaXMpOnRoaXMuX3JlY29ubmVjdGlvbn0sbi5wcm90b3R5cGUucmVjb25uZWN0aW9uQXR0ZW1wdHM9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHRoaXMuX3JlY29ubmVjdGlvbkF0dGVtcHRzPXQsdGhpcyk6dGhpcy5fcmVjb25uZWN0aW9uQXR0ZW1wdHN9LG4ucHJvdG90eXBlLnJlY29ubmVjdGlvbkRlbGF5PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0aGlzLl9yZWNvbm5lY3Rpb25EZWxheT10LHRoaXMuYmFja29mZiYmdGhpcy5iYWNrb2ZmLnNldE1pbih0KSx0aGlzKTp0aGlzLl9yZWNvbm5lY3Rpb25EZWxheX0sbi5wcm90b3R5cGUucmFuZG9taXphdGlvbkZhY3Rvcj1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGhpcy5fcmFuZG9taXphdGlvbkZhY3Rvcj10LHRoaXMuYmFja29mZiYmdGhpcy5iYWNrb2ZmLnNldEppdHRlcih0KSx0aGlzKTp0aGlzLl9yYW5kb21pemF0aW9uRmFjdG9yfSxuLnByb3RvdHlwZS5yZWNvbm5lY3Rpb25EZWxheU1heD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGhpcy5fcmVjb25uZWN0aW9uRGVsYXlNYXg9dCx0aGlzLmJhY2tvZmYmJnRoaXMuYmFja29mZi5zZXRNYXgodCksdGhpcyk6dGhpcy5fcmVjb25uZWN0aW9uRGVsYXlNYXh9LG4ucHJvdG90eXBlLnRpbWVvdXQ9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHRoaXMuX3RpbWVvdXQ9dCx0aGlzKTp0aGlzLl90aW1lb3V0fSxuLnByb3RvdHlwZS5tYXliZVJlY29ubmVjdE9uT3Blbj1mdW5jdGlvbigpeyF0aGlzLnJlY29ubmVjdGluZyYmdGhpcy5fcmVjb25uZWN0aW9uJiYwPT09dGhpcy5iYWNrb2ZmLmF0dGVtcHRzJiZ0aGlzLnJlY29ubmVjdCgpfSxuLnByb3RvdHlwZS5vcGVuPW4ucHJvdG90eXBlLmNvbm5lY3Q9ZnVuY3Rpb24odCxlKXtpZih+dGhpcy5yZWFkeVN0YXRlLmluZGV4T2YoXCJvcGVuXCIpKXJldHVybiB0aGlzO3RoaXMuZW5naW5lPWkodGhpcy51cmksdGhpcy5vcHRzKTt2YXIgcj10aGlzLmVuZ2luZSxuPXRoaXM7dGhpcy5yZWFkeVN0YXRlPVwib3BlbmluZ1wiLHRoaXMuc2tpcFJlY29ubmVjdD0hMTt2YXIgbz1wKHIsXCJvcGVuXCIsZnVuY3Rpb24oKXtuLm9ub3BlbigpLHQmJnQoKX0pLHM9cChyLFwiZXJyb3JcIixmdW5jdGlvbihlKXtpZihuLmNsZWFudXAoKSxuLnJlYWR5U3RhdGU9XCJjbG9zZWRcIixuLmVtaXRBbGwoXCJjb25uZWN0X2Vycm9yXCIsZSksdCl7dmFyIHI9bmV3IEVycm9yKFwiQ29ubmVjdGlvbiBlcnJvclwiKTtyLmRhdGE9ZSx0KHIpfWVsc2Ugbi5tYXliZVJlY29ubmVjdE9uT3BlbigpfSk7aWYoITEhPT10aGlzLl90aW1lb3V0KXt2YXIgYT10aGlzLl90aW1lb3V0OzA9PT1hJiZvLmRlc3Ryb3koKTt2YXIgYz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7by5kZXN0cm95KCksci5jbG9zZSgpLHIuZW1pdChcImVycm9yXCIsXCJ0aW1lb3V0XCIpLG4uZW1pdEFsbChcImNvbm5lY3RfdGltZW91dFwiLGEpfSxhKTt0aGlzLnN1YnMucHVzaCh7ZGVzdHJveTpmdW5jdGlvbigpe2NsZWFyVGltZW91dChjKX19KX1yZXR1cm4gdGhpcy5zdWJzLnB1c2gobyksdGhpcy5zdWJzLnB1c2gocyksdGhpc30sbi5wcm90b3R5cGUub25vcGVuPWZ1bmN0aW9uKCl7dGhpcy5jbGVhbnVwKCksdGhpcy5yZWFkeVN0YXRlPVwib3BlblwiLHRoaXMuZW1pdChcIm9wZW5cIik7dmFyIHQ9dGhpcy5lbmdpbmU7dGhpcy5zdWJzLnB1c2gocCh0LFwiZGF0YVwiLGgodGhpcyxcIm9uZGF0YVwiKSkpLHRoaXMuc3Vicy5wdXNoKHAodCxcInBpbmdcIixoKHRoaXMsXCJvbnBpbmdcIikpKSx0aGlzLnN1YnMucHVzaChwKHQsXCJwb25nXCIsaCh0aGlzLFwib25wb25nXCIpKSksdGhpcy5zdWJzLnB1c2gocCh0LFwiZXJyb3JcIixoKHRoaXMsXCJvbmVycm9yXCIpKSksdGhpcy5zdWJzLnB1c2gocCh0LFwiY2xvc2VcIixoKHRoaXMsXCJvbmNsb3NlXCIpKSksdGhpcy5zdWJzLnB1c2gocCh0aGlzLmRlY29kZXIsXCJkZWNvZGVkXCIsaCh0aGlzLFwib25kZWNvZGVkXCIpKSl9LG4ucHJvdG90eXBlLm9ucGluZz1mdW5jdGlvbigpe3RoaXMubGFzdFBpbmc9bmV3IERhdGUsdGhpcy5lbWl0QWxsKFwicGluZ1wiKX0sbi5wcm90b3R5cGUub25wb25nPWZ1bmN0aW9uKCl7dGhpcy5lbWl0QWxsKFwicG9uZ1wiLG5ldyBEYXRlLXRoaXMubGFzdFBpbmcpfSxuLnByb3RvdHlwZS5vbmRhdGE9ZnVuY3Rpb24odCl7dGhpcy5kZWNvZGVyLmFkZCh0KX0sbi5wcm90b3R5cGUub25kZWNvZGVkPWZ1bmN0aW9uKHQpe3RoaXMuZW1pdChcInBhY2tldFwiLHQpfSxuLnByb3RvdHlwZS5vbmVycm9yPWZ1bmN0aW9uKHQpe3RoaXMuZW1pdEFsbChcImVycm9yXCIsdCl9LG4ucHJvdG90eXBlLnNvY2tldD1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIHIoKXt+dShvLmNvbm5lY3Rpbmcsbil8fG8uY29ubmVjdGluZy5wdXNoKG4pfXZhciBuPXRoaXMubnNwc1t0XTtpZighbil7bj1uZXcgcyh0aGlzLHQsZSksdGhpcy5uc3BzW3RdPW47dmFyIG89dGhpcztuLm9uKFwiY29ubmVjdGluZ1wiLHIpLG4ub24oXCJjb25uZWN0XCIsZnVuY3Rpb24oKXtuLmlkPW8uZ2VuZXJhdGVJZCh0KX0pLHRoaXMuYXV0b0Nvbm5lY3QmJnIoKX1yZXR1cm4gbn0sbi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbih0KXt2YXIgZT11KHRoaXMuY29ubmVjdGluZyx0KTt+ZSYmdGhpcy5jb25uZWN0aW5nLnNwbGljZShlLDEpLHRoaXMuY29ubmVjdGluZy5sZW5ndGh8fHRoaXMuY2xvc2UoKX0sbi5wcm90b3R5cGUucGFja2V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dC5xdWVyeSYmMD09PXQudHlwZSYmKHQubnNwKz1cIj9cIit0LnF1ZXJ5KSxlLmVuY29kaW5nP2UucGFja2V0QnVmZmVyLnB1c2godCk6KGUuZW5jb2Rpbmc9ITAsdGhpcy5lbmNvZGVyLmVuY29kZSh0LGZ1bmN0aW9uKHIpe2Zvcih2YXIgbj0wO248ci5sZW5ndGg7bisrKWUuZW5naW5lLndyaXRlKHJbbl0sdC5vcHRpb25zKTtlLmVuY29kaW5nPSExLGUucHJvY2Vzc1BhY2tldFF1ZXVlKCl9KSl9LG4ucHJvdG90eXBlLnByb2Nlc3NQYWNrZXRRdWV1ZT1mdW5jdGlvbigpe2lmKHRoaXMucGFja2V0QnVmZmVyLmxlbmd0aD4wJiYhdGhpcy5lbmNvZGluZyl7dmFyIHQ9dGhpcy5wYWNrZXRCdWZmZXIuc2hpZnQoKTt0aGlzLnBhY2tldCh0KX19LG4ucHJvdG90eXBlLmNsZWFudXA9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5zdWJzLmxlbmd0aCxlPTA7ZTx0O2UrKyl7dmFyIHI9dGhpcy5zdWJzLnNoaWZ0KCk7ci5kZXN0cm95KCl9dGhpcy5wYWNrZXRCdWZmZXI9W10sdGhpcy5lbmNvZGluZz0hMSx0aGlzLmxhc3RQaW5nPW51bGwsdGhpcy5kZWNvZGVyLmRlc3Ryb3koKX0sbi5wcm90b3R5cGUuY2xvc2U9bi5wcm90b3R5cGUuZGlzY29ubmVjdD1mdW5jdGlvbigpe3RoaXMuc2tpcFJlY29ubmVjdD0hMCx0aGlzLnJlY29ubmVjdGluZz0hMSxcIm9wZW5pbmdcIj09PXRoaXMucmVhZHlTdGF0ZSYmdGhpcy5jbGVhbnVwKCksdGhpcy5iYWNrb2ZmLnJlc2V0KCksdGhpcy5yZWFkeVN0YXRlPVwiY2xvc2VkXCIsdGhpcy5lbmdpbmUmJnRoaXMuZW5naW5lLmNsb3NlKCl9LG4ucHJvdG90eXBlLm9uY2xvc2U9ZnVuY3Rpb24odCl7dGhpcy5jbGVhbnVwKCksdGhpcy5iYWNrb2ZmLnJlc2V0KCksdGhpcy5yZWFkeVN0YXRlPVwiY2xvc2VkXCIsdGhpcy5lbWl0KFwiY2xvc2VcIix0KSx0aGlzLl9yZWNvbm5lY3Rpb24mJiF0aGlzLnNraXBSZWNvbm5lY3QmJnRoaXMucmVjb25uZWN0KCl9LG4ucHJvdG90eXBlLnJlY29ubmVjdD1mdW5jdGlvbigpe2lmKHRoaXMucmVjb25uZWN0aW5nfHx0aGlzLnNraXBSZWNvbm5lY3QpcmV0dXJuIHRoaXM7dmFyIHQ9dGhpcztpZih0aGlzLmJhY2tvZmYuYXR0ZW1wdHM+PXRoaXMuX3JlY29ubmVjdGlvbkF0dGVtcHRzKXRoaXMuYmFja29mZi5yZXNldCgpLHRoaXMuZW1pdEFsbChcInJlY29ubmVjdF9mYWlsZWRcIiksdGhpcy5yZWNvbm5lY3Rpbmc9ITE7ZWxzZXt2YXIgZT10aGlzLmJhY2tvZmYuZHVyYXRpb24oKTt0aGlzLnJlY29ubmVjdGluZz0hMDt2YXIgcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5za2lwUmVjb25uZWN0fHwodC5lbWl0QWxsKFwicmVjb25uZWN0X2F0dGVtcHRcIix0LmJhY2tvZmYuYXR0ZW1wdHMpLHQuZW1pdEFsbChcInJlY29ubmVjdGluZ1wiLHQuYmFja29mZi5hdHRlbXB0cyksdC5za2lwUmVjb25uZWN0fHx0Lm9wZW4oZnVuY3Rpb24oZSl7ZT8odC5yZWNvbm5lY3Rpbmc9ITEsdC5yZWNvbm5lY3QoKSx0LmVtaXRBbGwoXCJyZWNvbm5lY3RfZXJyb3JcIixlLmRhdGEpKTp0Lm9ucmVjb25uZWN0KCl9KSl9LGUpO3RoaXMuc3Vicy5wdXNoKHtkZXN0cm95OmZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHIpfX0pfX0sbi5wcm90b3R5cGUub25yZWNvbm5lY3Q9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmJhY2tvZmYuYXR0ZW1wdHM7dGhpcy5yZWNvbm5lY3Rpbmc9ITEsdGhpcy5iYWNrb2ZmLnJlc2V0KCksdGhpcy51cGRhdGVTb2NrZXRJZHMoKSx0aGlzLmVtaXRBbGwoXCJyZWNvbm5lY3RcIix0KX19LGZ1bmN0aW9uKHQsZSxyKXt0LmV4cG9ydHM9cigxMSksdC5leHBvcnRzLnBhcnNlcj1yKDE5KX0sZnVuY3Rpb24odCxlLHIpe2Z1bmN0aW9uIG4odCxlKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIG4/KGU9ZXx8e30sdCYmXCJvYmplY3RcIj09dHlwZW9mIHQmJihlPXQsdD1udWxsKSx0Pyh0PXAodCksZS5ob3N0bmFtZT10Lmhvc3QsZS5zZWN1cmU9XCJodHRwc1wiPT09dC5wcm90b2NvbHx8XCJ3c3NcIj09PXQucHJvdG9jb2wsZS5wb3J0PXQucG9ydCx0LnF1ZXJ5JiYoZS5xdWVyeT10LnF1ZXJ5KSk6ZS5ob3N0JiYoZS5ob3N0bmFtZT1wKGUuaG9zdCkuaG9zdCksdGhpcy5zZWN1cmU9bnVsbCE9ZS5zZWN1cmU/ZS5zZWN1cmU6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGxvY2F0aW9uJiZcImh0dHBzOlwiPT09bG9jYXRpb24ucHJvdG9jb2wsZS5ob3N0bmFtZSYmIWUucG9ydCYmKGUucG9ydD10aGlzLnNlY3VyZT9cIjQ0M1wiOlwiODBcIiksdGhpcy5hZ2VudD1lLmFnZW50fHwhMSx0aGlzLmhvc3RuYW1lPWUuaG9zdG5hbWV8fChcInVuZGVmaW5lZFwiIT10eXBlb2YgbG9jYXRpb24/bG9jYXRpb24uaG9zdG5hbWU6XCJsb2NhbGhvc3RcIiksdGhpcy5wb3J0PWUucG9ydHx8KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBsb2NhdGlvbiYmbG9jYXRpb24ucG9ydD9sb2NhdGlvbi5wb3J0OnRoaXMuc2VjdXJlPzQ0Mzo4MCksdGhpcy5xdWVyeT1lLnF1ZXJ5fHx7fSxcInN0cmluZ1wiPT10eXBlb2YgdGhpcy5xdWVyeSYmKHRoaXMucXVlcnk9aC5kZWNvZGUodGhpcy5xdWVyeSkpLHRoaXMudXBncmFkZT0hMSE9PWUudXBncmFkZSx0aGlzLnBhdGg9KGUucGF0aHx8XCIvZW5naW5lLmlvXCIpLnJlcGxhY2UoL1xcLyQvLFwiXCIpK1wiL1wiLHRoaXMuZm9yY2VKU09OUD0hIWUuZm9yY2VKU09OUCx0aGlzLmpzb25wPSExIT09ZS5qc29ucCx0aGlzLmZvcmNlQmFzZTY0PSEhZS5mb3JjZUJhc2U2NCx0aGlzLmVuYWJsZXNYRFI9ISFlLmVuYWJsZXNYRFIsdGhpcy53aXRoQ3JlZGVudGlhbHM9ITEhPT1lLndpdGhDcmVkZW50aWFscyx0aGlzLnRpbWVzdGFtcFBhcmFtPWUudGltZXN0YW1wUGFyYW18fFwidFwiLHRoaXMudGltZXN0YW1wUmVxdWVzdHM9ZS50aW1lc3RhbXBSZXF1ZXN0cyx0aGlzLnRyYW5zcG9ydHM9ZS50cmFuc3BvcnRzfHxbXCJwb2xsaW5nXCIsXCJ3ZWJzb2NrZXRcIl0sdGhpcy50cmFuc3BvcnRPcHRpb25zPWUudHJhbnNwb3J0T3B0aW9uc3x8e30sdGhpcy5yZWFkeVN0YXRlPVwiXCIsdGhpcy53cml0ZUJ1ZmZlcj1bXSx0aGlzLnByZXZCdWZmZXJMZW49MCx0aGlzLnBvbGljeVBvcnQ9ZS5wb2xpY3lQb3J0fHw4NDMsdGhpcy5yZW1lbWJlclVwZ3JhZGU9ZS5yZW1lbWJlclVwZ3JhZGV8fCExLHRoaXMuYmluYXJ5VHlwZT1udWxsLHRoaXMub25seUJpbmFyeVVwZ3JhZGVzPWUub25seUJpbmFyeVVwZ3JhZGVzLHRoaXMucGVyTWVzc2FnZURlZmxhdGU9ITEhPT1lLnBlck1lc3NhZ2VEZWZsYXRlJiYoZS5wZXJNZXNzYWdlRGVmbGF0ZXx8e30pLCEwPT09dGhpcy5wZXJNZXNzYWdlRGVmbGF0ZSYmKHRoaXMucGVyTWVzc2FnZURlZmxhdGU9e30pLHRoaXMucGVyTWVzc2FnZURlZmxhdGUmJm51bGw9PXRoaXMucGVyTWVzc2FnZURlZmxhdGUudGhyZXNob2xkJiYodGhpcy5wZXJNZXNzYWdlRGVmbGF0ZS50aHJlc2hvbGQ9MTAyNCksdGhpcy5wZng9ZS5wZnh8fG51bGwsdGhpcy5rZXk9ZS5rZXl8fG51bGwsdGhpcy5wYXNzcGhyYXNlPWUucGFzc3BocmFzZXx8bnVsbCx0aGlzLmNlcnQ9ZS5jZXJ0fHxudWxsLHRoaXMuY2E9ZS5jYXx8bnVsbCx0aGlzLmNpcGhlcnM9ZS5jaXBoZXJzfHxudWxsLHRoaXMucmVqZWN0VW5hdXRob3JpemVkPXZvaWQgMD09PWUucmVqZWN0VW5hdXRob3JpemVkfHxlLnJlamVjdFVuYXV0aG9yaXplZCx0aGlzLmZvcmNlTm9kZT0hIWUuZm9yY2VOb2RlLHRoaXMuaXNSZWFjdE5hdGl2ZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgbmF2aWdhdG9yJiZcInN0cmluZ1wiPT10eXBlb2YgbmF2aWdhdG9yLnByb2R1Y3QmJlwicmVhY3RuYXRpdmVcIj09PW5hdmlnYXRvci5wcm9kdWN0LnRvTG93ZXJDYXNlKCksKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBzZWxmfHx0aGlzLmlzUmVhY3ROYXRpdmUpJiYoZS5leHRyYUhlYWRlcnMmJk9iamVjdC5rZXlzKGUuZXh0cmFIZWFkZXJzKS5sZW5ndGg+MCYmKHRoaXMuZXh0cmFIZWFkZXJzPWUuZXh0cmFIZWFkZXJzKSxlLmxvY2FsQWRkcmVzcyYmKHRoaXMubG9jYWxBZGRyZXNzPWUubG9jYWxBZGRyZXNzKSksdGhpcy5pZD1udWxsLHRoaXMudXBncmFkZXM9bnVsbCx0aGlzLnBpbmdJbnRlcnZhbD1udWxsLHRoaXMucGluZ1RpbWVvdXQ9bnVsbCx0aGlzLnBpbmdJbnRlcnZhbFRpbWVyPW51bGwsdGhpcy5waW5nVGltZW91dFRpbWVyPW51bGwsdm9pZCB0aGlzLm9wZW4oKSk6bmV3IG4odCxlKX1mdW5jdGlvbiBvKHQpe3ZhciBlPXt9O2Zvcih2YXIgciBpbiB0KXQuaGFzT3duUHJvcGVydHkocikmJihlW3JdPXRbcl0pO3JldHVybiBlfXZhciBpPXIoMTIpLHM9cig1KSxhPShyKDMpKFwiZW5naW5lLmlvLWNsaWVudDpzb2NrZXRcIikscigzMykpLGM9cigxOSkscD1yKDIpLGg9cigyNyk7dC5leHBvcnRzPW4sbi5wcmlvcldlYnNvY2tldFN1Y2Nlc3M9ITEscyhuLnByb3RvdHlwZSksbi5wcm90b2NvbD1jLnByb3RvY29sLG4uU29ja2V0PW4sbi5UcmFuc3BvcnQ9cigxOCksbi50cmFuc3BvcnRzPXIoMTIpLG4ucGFyc2VyPXIoMTkpLG4ucHJvdG90eXBlLmNyZWF0ZVRyYW5zcG9ydD1mdW5jdGlvbih0KXt2YXIgZT1vKHRoaXMucXVlcnkpO2UuRUlPPWMucHJvdG9jb2wsZS50cmFuc3BvcnQ9dDt2YXIgcj10aGlzLnRyYW5zcG9ydE9wdGlvbnNbdF18fHt9O3RoaXMuaWQmJihlLnNpZD10aGlzLmlkKTt2YXIgbj1uZXcgaVt0XSh7cXVlcnk6ZSxzb2NrZXQ6dGhpcyxhZ2VudDpyLmFnZW50fHx0aGlzLmFnZW50LGhvc3RuYW1lOnIuaG9zdG5hbWV8fHRoaXMuaG9zdG5hbWUscG9ydDpyLnBvcnR8fHRoaXMucG9ydCxzZWN1cmU6ci5zZWN1cmV8fHRoaXMuc2VjdXJlLHBhdGg6ci5wYXRofHx0aGlzLnBhdGgsZm9yY2VKU09OUDpyLmZvcmNlSlNPTlB8fHRoaXMuZm9yY2VKU09OUCxqc29ucDpyLmpzb25wfHx0aGlzLmpzb25wLGZvcmNlQmFzZTY0OnIuZm9yY2VCYXNlNjR8fHRoaXMuZm9yY2VCYXNlNjQsZW5hYmxlc1hEUjpyLmVuYWJsZXNYRFJ8fHRoaXMuZW5hYmxlc1hEUix3aXRoQ3JlZGVudGlhbHM6ci53aXRoQ3JlZGVudGlhbHN8fHRoaXMud2l0aENyZWRlbnRpYWxzLHRpbWVzdGFtcFJlcXVlc3RzOnIudGltZXN0YW1wUmVxdWVzdHN8fHRoaXMudGltZXN0YW1wUmVxdWVzdHMsdGltZXN0YW1wUGFyYW06ci50aW1lc3RhbXBQYXJhbXx8dGhpcy50aW1lc3RhbXBQYXJhbSxwb2xpY3lQb3J0OnIucG9saWN5UG9ydHx8dGhpcy5wb2xpY3lQb3J0LHBmeDpyLnBmeHx8dGhpcy5wZngsa2V5OnIua2V5fHx0aGlzLmtleSxwYXNzcGhyYXNlOnIucGFzc3BocmFzZXx8dGhpcy5wYXNzcGhyYXNlLGNlcnQ6ci5jZXJ0fHx0aGlzLmNlcnQsY2E6ci5jYXx8dGhpcy5jYSxjaXBoZXJzOnIuY2lwaGVyc3x8dGhpcy5jaXBoZXJzLHJlamVjdFVuYXV0aG9yaXplZDpyLnJlamVjdFVuYXV0aG9yaXplZHx8dGhpcy5yZWplY3RVbmF1dGhvcml6ZWQscGVyTWVzc2FnZURlZmxhdGU6ci5wZXJNZXNzYWdlRGVmbGF0ZXx8dGhpcy5wZXJNZXNzYWdlRGVmbGF0ZSxleHRyYUhlYWRlcnM6ci5leHRyYUhlYWRlcnN8fHRoaXMuZXh0cmFIZWFkZXJzLGZvcmNlTm9kZTpyLmZvcmNlTm9kZXx8dGhpcy5mb3JjZU5vZGUsbG9jYWxBZGRyZXNzOnIubG9jYWxBZGRyZXNzfHx0aGlzLmxvY2FsQWRkcmVzcyxyZXF1ZXN0VGltZW91dDpyLnJlcXVlc3RUaW1lb3V0fHx0aGlzLnJlcXVlc3RUaW1lb3V0LHByb3RvY29sczpyLnByb3RvY29sc3x8dm9pZCAwLGlzUmVhY3ROYXRpdmU6dGhpcy5pc1JlYWN0TmF0aXZlfSk7cmV0dXJuIG59LG4ucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oKXt2YXIgdDtpZih0aGlzLnJlbWVtYmVyVXBncmFkZSYmbi5wcmlvcldlYnNvY2tldFN1Y2Nlc3MmJnRoaXMudHJhbnNwb3J0cy5pbmRleE9mKFwid2Vic29ja2V0XCIpIT09LTEpdD1cIndlYnNvY2tldFwiO2Vsc2V7aWYoMD09PXRoaXMudHJhbnNwb3J0cy5sZW5ndGgpe3ZhciBlPXRoaXM7cmV0dXJuIHZvaWQgc2V0VGltZW91dChmdW5jdGlvbigpe2UuZW1pdChcImVycm9yXCIsXCJObyB0cmFuc3BvcnRzIGF2YWlsYWJsZVwiKX0sMCl9dD10aGlzLnRyYW5zcG9ydHNbMF19dGhpcy5yZWFkeVN0YXRlPVwib3BlbmluZ1wiO3RyeXt0PXRoaXMuY3JlYXRlVHJhbnNwb3J0KHQpfWNhdGNoKHQpe3JldHVybiB0aGlzLnRyYW5zcG9ydHMuc2hpZnQoKSx2b2lkIHRoaXMub3BlbigpfXQub3BlbigpLHRoaXMuc2V0VHJhbnNwb3J0KHQpfSxuLnByb3RvdHlwZS5zZXRUcmFuc3BvcnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLnRyYW5zcG9ydCYmdGhpcy50cmFuc3BvcnQucmVtb3ZlQWxsTGlzdGVuZXJzKCksdGhpcy50cmFuc3BvcnQ9dCx0Lm9uKFwiZHJhaW5cIixmdW5jdGlvbigpe2Uub25EcmFpbigpfSkub24oXCJwYWNrZXRcIixmdW5jdGlvbih0KXtlLm9uUGFja2V0KHQpfSkub24oXCJlcnJvclwiLGZ1bmN0aW9uKHQpe2Uub25FcnJvcih0KX0pLm9uKFwiY2xvc2VcIixmdW5jdGlvbigpe2Uub25DbG9zZShcInRyYW5zcG9ydCBjbG9zZVwiKX0pfSxuLnByb3RvdHlwZS5wcm9iZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7aWYodS5vbmx5QmluYXJ5VXBncmFkZXMpe3ZhciB0PSF0aGlzLnN1cHBvcnRzQmluYXJ5JiZ1LnRyYW5zcG9ydC5zdXBwb3J0c0JpbmFyeTtoPWh8fHR9aHx8KHAuc2VuZChbe3R5cGU6XCJwaW5nXCIsZGF0YTpcInByb2JlXCJ9XSkscC5vbmNlKFwicGFja2V0XCIsZnVuY3Rpb24odCl7aWYoIWgpaWYoXCJwb25nXCI9PT10LnR5cGUmJlwicHJvYmVcIj09PXQuZGF0YSl7aWYodS51cGdyYWRpbmc9ITAsdS5lbWl0KFwidXBncmFkaW5nXCIscCksIXApcmV0dXJuO24ucHJpb3JXZWJzb2NrZXRTdWNjZXNzPVwid2Vic29ja2V0XCI9PT1wLm5hbWUsdS50cmFuc3BvcnQucGF1c2UoZnVuY3Rpb24oKXtofHxcImNsb3NlZFwiIT09dS5yZWFkeVN0YXRlJiYoYygpLHUuc2V0VHJhbnNwb3J0KHApLHAuc2VuZChbe3R5cGU6XCJ1cGdyYWRlXCJ9XSksdS5lbWl0KFwidXBncmFkZVwiLHApLHA9bnVsbCx1LnVwZ3JhZGluZz0hMSx1LmZsdXNoKCkpfSl9ZWxzZXt2YXIgZT1uZXcgRXJyb3IoXCJwcm9iZSBlcnJvclwiKTtlLnRyYW5zcG9ydD1wLm5hbWUsdS5lbWl0KFwidXBncmFkZUVycm9yXCIsZSl9fSkpfWZ1bmN0aW9uIHIoKXtofHwoaD0hMCxjKCkscC5jbG9zZSgpLHA9bnVsbCl9ZnVuY3Rpb24gbyh0KXt2YXIgZT1uZXcgRXJyb3IoXCJwcm9iZSBlcnJvcjogXCIrdCk7ZS50cmFuc3BvcnQ9cC5uYW1lLHIoKSx1LmVtaXQoXCJ1cGdyYWRlRXJyb3JcIixlKX1mdW5jdGlvbiBpKCl7byhcInRyYW5zcG9ydCBjbG9zZWRcIil9ZnVuY3Rpb24gcygpe28oXCJzb2NrZXQgY2xvc2VkXCIpfWZ1bmN0aW9uIGEodCl7cCYmdC5uYW1lIT09cC5uYW1lJiZyKCl9ZnVuY3Rpb24gYygpe3AucmVtb3ZlTGlzdGVuZXIoXCJvcGVuXCIsZSkscC5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsbykscC5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsaSksdS5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIscyksdS5yZW1vdmVMaXN0ZW5lcihcInVwZ3JhZGluZ1wiLGEpfXZhciBwPXRoaXMuY3JlYXRlVHJhbnNwb3J0KHQse3Byb2JlOjF9KSxoPSExLHU9dGhpcztuLnByaW9yV2Vic29ja2V0U3VjY2Vzcz0hMSxwLm9uY2UoXCJvcGVuXCIsZSkscC5vbmNlKFwiZXJyb3JcIixvKSxwLm9uY2UoXCJjbG9zZVwiLGkpLHRoaXMub25jZShcImNsb3NlXCIscyksdGhpcy5vbmNlKFwidXBncmFkaW5nXCIsYSkscC5vcGVuKCl9LG4ucHJvdG90eXBlLm9uT3Blbj1mdW5jdGlvbigpe2lmKHRoaXMucmVhZHlTdGF0ZT1cIm9wZW5cIixuLnByaW9yV2Vic29ja2V0U3VjY2Vzcz1cIndlYnNvY2tldFwiPT09dGhpcy50cmFuc3BvcnQubmFtZSx0aGlzLmVtaXQoXCJvcGVuXCIpLHRoaXMuZmx1c2goKSxcIm9wZW5cIj09PXRoaXMucmVhZHlTdGF0ZSYmdGhpcy51cGdyYWRlJiZ0aGlzLnRyYW5zcG9ydC5wYXVzZSlmb3IodmFyIHQ9MCxlPXRoaXMudXBncmFkZXMubGVuZ3RoO3Q8ZTt0KyspdGhpcy5wcm9iZSh0aGlzLnVwZ3JhZGVzW3RdKX0sbi5wcm90b3R5cGUub25QYWNrZXQ9ZnVuY3Rpb24odCl7aWYoXCJvcGVuaW5nXCI9PT10aGlzLnJlYWR5U3RhdGV8fFwib3BlblwiPT09dGhpcy5yZWFkeVN0YXRlfHxcImNsb3NpbmdcIj09PXRoaXMucmVhZHlTdGF0ZSlzd2l0Y2godGhpcy5lbWl0KFwicGFja2V0XCIsdCksdGhpcy5lbWl0KFwiaGVhcnRiZWF0XCIpLHQudHlwZSl7Y2FzZVwib3BlblwiOnRoaXMub25IYW5kc2hha2UoSlNPTi5wYXJzZSh0LmRhdGEpKTticmVhaztjYXNlXCJwb25nXCI6dGhpcy5zZXRQaW5nKCksdGhpcy5lbWl0KFwicG9uZ1wiKTticmVhaztjYXNlXCJlcnJvclwiOnZhciBlPW5ldyBFcnJvcihcInNlcnZlciBlcnJvclwiKTtlLmNvZGU9dC5kYXRhLHRoaXMub25FcnJvcihlKTticmVhaztjYXNlXCJtZXNzYWdlXCI6dGhpcy5lbWl0KFwiZGF0YVwiLHQuZGF0YSksdGhpcy5lbWl0KFwibWVzc2FnZVwiLHQuZGF0YSl9fSxuLnByb3RvdHlwZS5vbkhhbmRzaGFrZT1mdW5jdGlvbih0KXt0aGlzLmVtaXQoXCJoYW5kc2hha2VcIix0KSx0aGlzLmlkPXQuc2lkLHRoaXMudHJhbnNwb3J0LnF1ZXJ5LnNpZD10LnNpZCx0aGlzLnVwZ3JhZGVzPXRoaXMuZmlsdGVyVXBncmFkZXModC51cGdyYWRlcyksdGhpcy5waW5nSW50ZXJ2YWw9dC5waW5nSW50ZXJ2YWwsdGhpcy5waW5nVGltZW91dD10LnBpbmdUaW1lb3V0LHRoaXMub25PcGVuKCksXCJjbG9zZWRcIiE9PXRoaXMucmVhZHlTdGF0ZSYmKHRoaXMuc2V0UGluZygpLHRoaXMucmVtb3ZlTGlzdGVuZXIoXCJoZWFydGJlYXRcIix0aGlzLm9uSGVhcnRiZWF0KSx0aGlzLm9uKFwiaGVhcnRiZWF0XCIsdGhpcy5vbkhlYXJ0YmVhdCkpfSxuLnByb3RvdHlwZS5vbkhlYXJ0YmVhdD1mdW5jdGlvbih0KXtjbGVhclRpbWVvdXQodGhpcy5waW5nVGltZW91dFRpbWVyKTt2YXIgZT10aGlzO2UucGluZ1RpbWVvdXRUaW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XCJjbG9zZWRcIiE9PWUucmVhZHlTdGF0ZSYmZS5vbkNsb3NlKFwicGluZyB0aW1lb3V0XCIpfSx0fHxlLnBpbmdJbnRlcnZhbCtlLnBpbmdUaW1lb3V0KX0sbi5wcm90b3R5cGUuc2V0UGluZz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7Y2xlYXJUaW1lb3V0KHQucGluZ0ludGVydmFsVGltZXIpLHQucGluZ0ludGVydmFsVGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe3QucGluZygpLHQub25IZWFydGJlYXQodC5waW5nVGltZW91dCl9LHQucGluZ0ludGVydmFsKX0sbi5wcm90b3R5cGUucGluZz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5zZW5kUGFja2V0KFwicGluZ1wiLGZ1bmN0aW9uKCl7dC5lbWl0KFwicGluZ1wiKX0pfSxuLnByb3RvdHlwZS5vbkRyYWluPWZ1bmN0aW9uKCl7dGhpcy53cml0ZUJ1ZmZlci5zcGxpY2UoMCx0aGlzLnByZXZCdWZmZXJMZW4pLHRoaXMucHJldkJ1ZmZlckxlbj0wLDA9PT10aGlzLndyaXRlQnVmZmVyLmxlbmd0aD90aGlzLmVtaXQoXCJkcmFpblwiKTp0aGlzLmZsdXNoKCl9LG4ucHJvdG90eXBlLmZsdXNoPWZ1bmN0aW9uKCl7XCJjbG9zZWRcIiE9PXRoaXMucmVhZHlTdGF0ZSYmdGhpcy50cmFuc3BvcnQud3JpdGFibGUmJiF0aGlzLnVwZ3JhZGluZyYmdGhpcy53cml0ZUJ1ZmZlci5sZW5ndGgmJih0aGlzLnRyYW5zcG9ydC5zZW5kKHRoaXMud3JpdGVCdWZmZXIpLHRoaXMucHJldkJ1ZmZlckxlbj10aGlzLndyaXRlQnVmZmVyLmxlbmd0aCx0aGlzLmVtaXQoXCJmbHVzaFwiKSl9LG4ucHJvdG90eXBlLndyaXRlPW4ucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0aGlzLnNlbmRQYWNrZXQoXCJtZXNzYWdlXCIsdCxlLHIpLHRoaXN9LG4ucHJvdG90eXBlLnNlbmRQYWNrZXQ9ZnVuY3Rpb24odCxlLHIsbil7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmKG49ZSxlPXZvaWQgMCksXCJmdW5jdGlvblwiPT10eXBlb2YgciYmKG49cixyPW51bGwpLFwiY2xvc2luZ1wiIT09dGhpcy5yZWFkeVN0YXRlJiZcImNsb3NlZFwiIT09dGhpcy5yZWFkeVN0YXRlKXtyPXJ8fHt9LHIuY29tcHJlc3M9ITEhPT1yLmNvbXByZXNzO3ZhciBvPXt0eXBlOnQsZGF0YTplLG9wdGlvbnM6cn07dGhpcy5lbWl0KFwicGFja2V0Q3JlYXRlXCIsbyksdGhpcy53cml0ZUJ1ZmZlci5wdXNoKG8pLG4mJnRoaXMub25jZShcImZsdXNoXCIsbiksdGhpcy5mbHVzaCgpfX0sbi5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7bi5vbkNsb3NlKFwiZm9yY2VkIGNsb3NlXCIpLG4udHJhbnNwb3J0LmNsb3NlKCl9ZnVuY3Rpb24gZSgpe24ucmVtb3ZlTGlzdGVuZXIoXCJ1cGdyYWRlXCIsZSksbi5yZW1vdmVMaXN0ZW5lcihcInVwZ3JhZGVFcnJvclwiLGUpLHQoKX1mdW5jdGlvbiByKCl7bi5vbmNlKFwidXBncmFkZVwiLGUpLG4ub25jZShcInVwZ3JhZGVFcnJvclwiLGUpfWlmKFwib3BlbmluZ1wiPT09dGhpcy5yZWFkeVN0YXRlfHxcIm9wZW5cIj09PXRoaXMucmVhZHlTdGF0ZSl7dGhpcy5yZWFkeVN0YXRlPVwiY2xvc2luZ1wiO3ZhciBuPXRoaXM7dGhpcy53cml0ZUJ1ZmZlci5sZW5ndGg/dGhpcy5vbmNlKFwiZHJhaW5cIixmdW5jdGlvbigpe3RoaXMudXBncmFkaW5nP3IoKTp0KCl9KTp0aGlzLnVwZ3JhZGluZz9yKCk6dCgpfXJldHVybiB0aGlzfSxuLnByb3RvdHlwZS5vbkVycm9yPWZ1bmN0aW9uKHQpe24ucHJpb3JXZWJzb2NrZXRTdWNjZXNzPSExLHRoaXMuZW1pdChcImVycm9yXCIsdCksdGhpcy5vbkNsb3NlKFwidHJhbnNwb3J0IGVycm9yXCIsdCl9LG4ucHJvdG90eXBlLm9uQ2xvc2U9ZnVuY3Rpb24odCxlKXtpZihcIm9wZW5pbmdcIj09PXRoaXMucmVhZHlTdGF0ZXx8XCJvcGVuXCI9PT10aGlzLnJlYWR5U3RhdGV8fFwiY2xvc2luZ1wiPT09dGhpcy5yZWFkeVN0YXRlKXt2YXIgcj10aGlzO2NsZWFyVGltZW91dCh0aGlzLnBpbmdJbnRlcnZhbFRpbWVyKSxjbGVhclRpbWVvdXQodGhpcy5waW5nVGltZW91dFRpbWVyKSx0aGlzLnRyYW5zcG9ydC5yZW1vdmVBbGxMaXN0ZW5lcnMoXCJjbG9zZVwiKSx0aGlzLnRyYW5zcG9ydC5jbG9zZSgpLHRoaXMudHJhbnNwb3J0LnJlbW92ZUFsbExpc3RlbmVycygpLHRoaXMucmVhZHlTdGF0ZT1cImNsb3NlZFwiLHRoaXMuaWQ9bnVsbCx0aGlzLmVtaXQoXCJjbG9zZVwiLHQsZSksci53cml0ZUJ1ZmZlcj1bXSxyLnByZXZCdWZmZXJMZW49MH19LG4ucHJvdG90eXBlLmZpbHRlclVwZ3JhZGVzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxyPTAsbj10Lmxlbmd0aDtyPG47cisrKX5hKHRoaXMudHJhbnNwb3J0cyx0W3JdKSYmZS5wdXNoKHRbcl0pO3JldHVybiBlfX0sZnVuY3Rpb24odCxlLHIpe2Z1bmN0aW9uIG4odCl7dmFyIGUscj0hMSxuPSExLGE9ITEhPT10Lmpzb25wO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBsb2NhdGlvbil7dmFyIGM9XCJodHRwczpcIj09PWxvY2F0aW9uLnByb3RvY29sLHA9bG9jYXRpb24ucG9ydDtwfHwocD1jPzQ0Mzo4MCkscj10Lmhvc3RuYW1lIT09bG9jYXRpb24uaG9zdG5hbWV8fHAhPT10LnBvcnQsbj10LnNlY3VyZSE9PWN9aWYodC54ZG9tYWluPXIsdC54c2NoZW1lPW4sZT1uZXcgbyh0KSxcIm9wZW5cImluIGUmJiF0LmZvcmNlSlNPTlApcmV0dXJuIG5ldyBpKHQpO2lmKCFhKXRocm93IG5ldyBFcnJvcihcIkpTT05QIGRpc2FibGVkXCIpO3JldHVybiBuZXcgcyh0KX12YXIgbz1yKDEzKSxpPXIoMTYpLHM9cigzMCksYT1yKDMxKTtlLnBvbGxpbmc9bixlLndlYnNvY2tldD1hfSxmdW5jdGlvbih0LGUscil7dmFyIG49cigxNCksbz1yKDE1KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dC54ZG9tYWluLHI9dC54c2NoZW1lLGk9dC5lbmFibGVzWERSO3RyeXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgWE1MSHR0cFJlcXVlc3QmJighZXx8bikpcmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdH1jYXRjaCh0KXt9dHJ5e2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBYRG9tYWluUmVxdWVzdCYmIXImJmkpcmV0dXJuIG5ldyBYRG9tYWluUmVxdWVzdH1jYXRjaCh0KXt9aWYoIWUpdHJ5e3JldHVybiBuZXcob1tbXCJBY3RpdmVcIl0uY29uY2F0KFwiT2JqZWN0XCIpLmpvaW4oXCJYXCIpXSkoXCJNaWNyb3NvZnQuWE1MSFRUUFwiKX1jYXRjaCh0KXt9fX0sZnVuY3Rpb24odCxlKXt0cnl7dC5leHBvcnRzPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBYTUxIdHRwUmVxdWVzdCYmXCJ3aXRoQ3JlZGVudGlhbHNcImluIG5ldyBYTUxIdHRwUmVxdWVzdH1jYXRjaChlKXt0LmV4cG9ydHM9ITF9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbigpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpfSgpfSxmdW5jdGlvbih0LGUscil7ZnVuY3Rpb24gbigpe31mdW5jdGlvbiBvKHQpe2lmKGMuY2FsbCh0aGlzLHQpLHRoaXMucmVxdWVzdFRpbWVvdXQ9dC5yZXF1ZXN0VGltZW91dCx0aGlzLmV4dHJhSGVhZGVycz10LmV4dHJhSGVhZGVycyxcInVuZGVmaW5lZFwiIT10eXBlb2YgbG9jYXRpb24pe3ZhciBlPVwiaHR0cHM6XCI9PT1sb2NhdGlvbi5wcm90b2NvbCxyPWxvY2F0aW9uLnBvcnQ7cnx8KHI9ZT80NDM6ODApLHRoaXMueGQ9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGxvY2F0aW9uJiZ0Lmhvc3RuYW1lIT09bG9jYXRpb24uaG9zdG5hbWV8fHIhPT10LnBvcnQsdGhpcy54cz10LnNlY3VyZSE9PWV9fWZ1bmN0aW9uIGkodCl7dGhpcy5tZXRob2Q9dC5tZXRob2R8fFwiR0VUXCIsdGhpcy51cmk9dC51cmksdGhpcy54ZD0hIXQueGQsdGhpcy54cz0hIXQueHMsdGhpcy5hc3luYz0hMSE9PXQuYXN5bmMsdGhpcy5kYXRhPXZvaWQgMCE9PXQuZGF0YT90LmRhdGE6bnVsbCx0aGlzLmFnZW50PXQuYWdlbnQsdGhpcy5pc0JpbmFyeT10LmlzQmluYXJ5LHRoaXMuc3VwcG9ydHNCaW5hcnk9dC5zdXBwb3J0c0JpbmFyeSx0aGlzLmVuYWJsZXNYRFI9dC5lbmFibGVzWERSLHRoaXMud2l0aENyZWRlbnRpYWxzPXQud2l0aENyZWRlbnRpYWxzLHRoaXMucmVxdWVzdFRpbWVvdXQ9dC5yZXF1ZXN0VGltZW91dCx0aGlzLnBmeD10LnBmeCx0aGlzLmtleT10LmtleSx0aGlzLnBhc3NwaHJhc2U9dC5wYXNzcGhyYXNlLHRoaXMuY2VydD10LmNlcnQsdGhpcy5jYT10LmNhLHRoaXMuY2lwaGVycz10LmNpcGhlcnMsdGhpcy5yZWplY3RVbmF1dGhvcml6ZWQ9dC5yZWplY3RVbmF1dGhvcml6ZWQsdGhpcy5leHRyYUhlYWRlcnM9dC5leHRyYUhlYWRlcnMsdGhpcy5jcmVhdGUoKX1mdW5jdGlvbiBzKCl7Zm9yKHZhciB0IGluIGkucmVxdWVzdHMpaS5yZXF1ZXN0cy5oYXNPd25Qcm9wZXJ0eSh0KSYmaS5yZXF1ZXN0c1t0XS5hYm9ydCgpfXZhciBhPXIoMTMpLGM9cigxNykscD1yKDUpLGg9cigyOCksdT0ocigzKShcImVuZ2luZS5pby1jbGllbnQ6cG9sbGluZy14aHJcIikscigxNSkpO2lmKHQuZXhwb3J0cz1vLHQuZXhwb3J0cy5SZXF1ZXN0PWksaChvLGMpLG8ucHJvdG90eXBlLnN1cHBvcnRzQmluYXJ5PSEwLG8ucHJvdG90eXBlLnJlcXVlc3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dHx8e30sdC51cmk9dGhpcy51cmkoKSx0LnhkPXRoaXMueGQsdC54cz10aGlzLnhzLHQuYWdlbnQ9dGhpcy5hZ2VudHx8ITEsdC5zdXBwb3J0c0JpbmFyeT10aGlzLnN1cHBvcnRzQmluYXJ5LHQuZW5hYmxlc1hEUj10aGlzLmVuYWJsZXNYRFIsdC53aXRoQ3JlZGVudGlhbHM9dGhpcy53aXRoQ3JlZGVudGlhbHMsdC5wZng9dGhpcy5wZngsdC5rZXk9dGhpcy5rZXksdC5wYXNzcGhyYXNlPXRoaXMucGFzc3BocmFzZSx0LmNlcnQ9dGhpcy5jZXJ0LHQuY2E9dGhpcy5jYSx0LmNpcGhlcnM9dGhpcy5jaXBoZXJzLHQucmVqZWN0VW5hdXRob3JpemVkPXRoaXMucmVqZWN0VW5hdXRob3JpemVkLHQucmVxdWVzdFRpbWVvdXQ9dGhpcy5yZXF1ZXN0VGltZW91dCx0LmV4dHJhSGVhZGVycz10aGlzLmV4dHJhSGVhZGVycyxuZXcgaSh0KX0sby5wcm90b3R5cGUuZG9Xcml0ZT1mdW5jdGlvbih0LGUpe3ZhciByPVwic3RyaW5nXCIhPXR5cGVvZiB0JiZ2b2lkIDAhPT10LG49dGhpcy5yZXF1ZXN0KHttZXRob2Q6XCJQT1NUXCIsZGF0YTp0LGlzQmluYXJ5OnJ9KSxvPXRoaXM7bi5vbihcInN1Y2Nlc3NcIixlKSxuLm9uKFwiZXJyb3JcIixmdW5jdGlvbih0KXtvLm9uRXJyb3IoXCJ4aHIgcG9zdCBlcnJvclwiLHQpfSksdGhpcy5zZW5kWGhyPW59LG8ucHJvdG90eXBlLmRvUG9sbD1mdW5jdGlvbigpe3ZhciB0PXRoaXMucmVxdWVzdCgpLGU9dGhpczt0Lm9uKFwiZGF0YVwiLGZ1bmN0aW9uKHQpe2Uub25EYXRhKHQpfSksdC5vbihcImVycm9yXCIsZnVuY3Rpb24odCl7ZS5vbkVycm9yKFwieGhyIHBvbGwgZXJyb3JcIix0KX0pLHRoaXMucG9sbFhocj10fSxwKGkucHJvdG90eXBlKSxpLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oKXt2YXIgdD17YWdlbnQ6dGhpcy5hZ2VudCx4ZG9tYWluOnRoaXMueGQseHNjaGVtZTp0aGlzLnhzLGVuYWJsZXNYRFI6dGhpcy5lbmFibGVzWERSfTt0LnBmeD10aGlzLnBmeCx0LmtleT10aGlzLmtleSx0LnBhc3NwaHJhc2U9dGhpcy5wYXNzcGhyYXNlLHQuY2VydD10aGlzLmNlcnQsdC5jYT10aGlzLmNhLHQuY2lwaGVycz10aGlzLmNpcGhlcnMsdC5yZWplY3RVbmF1dGhvcml6ZWQ9dGhpcy5yZWplY3RVbmF1dGhvcml6ZWQ7dmFyIGU9dGhpcy54aHI9bmV3IGEodCkscj10aGlzO3RyeXtlLm9wZW4odGhpcy5tZXRob2QsdGhpcy51cmksdGhpcy5hc3luYyk7dHJ5e2lmKHRoaXMuZXh0cmFIZWFkZXJzKXtlLnNldERpc2FibGVIZWFkZXJDaGVjayYmZS5zZXREaXNhYmxlSGVhZGVyQ2hlY2soITApO2Zvcih2YXIgbiBpbiB0aGlzLmV4dHJhSGVhZGVycyl0aGlzLmV4dHJhSGVhZGVycy5oYXNPd25Qcm9wZXJ0eShuKSYmZS5zZXRSZXF1ZXN0SGVhZGVyKG4sdGhpcy5leHRyYUhlYWRlcnNbbl0pfX1jYXRjaCh0KXt9aWYoXCJQT1NUXCI9PT10aGlzLm1ldGhvZCl0cnl7dGhpcy5pc0JpbmFyeT9lLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LXR5cGVcIixcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiKTplLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LXR5cGVcIixcInRleHQvcGxhaW47Y2hhcnNldD1VVEYtOFwiKX1jYXRjaCh0KXt9dHJ5e2Uuc2V0UmVxdWVzdEhlYWRlcihcIkFjY2VwdFwiLFwiKi8qXCIpfWNhdGNoKHQpe31cIndpdGhDcmVkZW50aWFsc1wiaW4gZSYmKGUud2l0aENyZWRlbnRpYWxzPXRoaXMud2l0aENyZWRlbnRpYWxzKSx0aGlzLnJlcXVlc3RUaW1lb3V0JiYoZS50aW1lb3V0PXRoaXMucmVxdWVzdFRpbWVvdXQpLHRoaXMuaGFzWERSKCk/KGUub25sb2FkPWZ1bmN0aW9uKCl7ci5vbkxvYWQoKX0sZS5vbmVycm9yPWZ1bmN0aW9uKCl7ci5vbkVycm9yKGUucmVzcG9uc2VUZXh0KX0pOmUub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoMj09PWUucmVhZHlTdGF0ZSl0cnl7dmFyIHQ9ZS5nZXRSZXNwb25zZUhlYWRlcihcIkNvbnRlbnQtVHlwZVwiKTsoci5zdXBwb3J0c0JpbmFyeSYmXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIj09PXR8fFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtOyBjaGFyc2V0PVVURi04XCI9PT10KSYmKGUucmVzcG9uc2VUeXBlPVwiYXJyYXlidWZmZXJcIil9Y2F0Y2godCl7fTQ9PT1lLnJlYWR5U3RhdGUmJigyMDA9PT1lLnN0YXR1c3x8MTIyMz09PWUuc3RhdHVzP3Iub25Mb2FkKCk6c2V0VGltZW91dChmdW5jdGlvbigpe3Iub25FcnJvcihcIm51bWJlclwiPT10eXBlb2YgZS5zdGF0dXM/ZS5zdGF0dXM6MCl9LDApKX0sZS5zZW5kKHRoaXMuZGF0YSl9Y2F0Y2godCl7cmV0dXJuIHZvaWQgc2V0VGltZW91dChmdW5jdGlvbigpe3Iub25FcnJvcih0KX0sMCl9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50JiYodGhpcy5pbmRleD1pLnJlcXVlc3RzQ291bnQrKyxpLnJlcXVlc3RzW3RoaXMuaW5kZXhdPXRoaXMpfSxpLnByb3RvdHlwZS5vblN1Y2Nlc3M9ZnVuY3Rpb24oKXt0aGlzLmVtaXQoXCJzdWNjZXNzXCIpLHRoaXMuY2xlYW51cCgpfSxpLnByb3RvdHlwZS5vbkRhdGE9ZnVuY3Rpb24odCl7dGhpcy5lbWl0KFwiZGF0YVwiLHQpLHRoaXMub25TdWNjZXNzKCl9LGkucHJvdG90eXBlLm9uRXJyb3I9ZnVuY3Rpb24odCl7dGhpcy5lbWl0KFwiZXJyb3JcIix0KSx0aGlzLmNsZWFudXAoITApfSxpLnByb3RvdHlwZS5jbGVhbnVwPWZ1bmN0aW9uKHQpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0aGlzLnhociYmbnVsbCE9PXRoaXMueGhyKXtpZih0aGlzLmhhc1hEUigpP3RoaXMueGhyLm9ubG9hZD10aGlzLnhoci5vbmVycm9yPW46dGhpcy54aHIub25yZWFkeXN0YXRlY2hhbmdlPW4sdCl0cnl7dGhpcy54aHIuYWJvcnQoKX1jYXRjaCh0KXt9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50JiZkZWxldGUgaS5yZXF1ZXN0c1t0aGlzLmluZGV4XSx0aGlzLnhocj1udWxsfX0saS5wcm90b3R5cGUub25Mb2FkPWZ1bmN0aW9uKCl7dmFyIHQ7dHJ5e3ZhciBlO3RyeXtlPXRoaXMueGhyLmdldFJlc3BvbnNlSGVhZGVyKFwiQ29udGVudC1UeXBlXCIpfWNhdGNoKHQpe310PVwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCI9PT1lfHxcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbTsgY2hhcnNldD1VVEYtOFwiPT09ZT90aGlzLnhoci5yZXNwb25zZXx8dGhpcy54aHIucmVzcG9uc2VUZXh0OnRoaXMueGhyLnJlc3BvbnNlVGV4dH1jYXRjaCh0KXt0aGlzLm9uRXJyb3IodCl9bnVsbCE9dCYmdGhpcy5vbkRhdGEodCl9LGkucHJvdG90eXBlLmhhc1hEUj1mdW5jdGlvbigpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBYRG9tYWluUmVxdWVzdCYmIXRoaXMueHMmJnRoaXMuZW5hYmxlc1hEUn0saS5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oKXt0aGlzLmNsZWFudXAoKX0saS5yZXF1ZXN0c0NvdW50PTAsaS5yZXF1ZXN0cz17fSxcInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQpaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYXR0YWNoRXZlbnQpYXR0YWNoRXZlbnQoXCJvbnVubG9hZFwiLHMpO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYWRkRXZlbnRMaXN0ZW5lcil7dmFyIGY9XCJvbnBhZ2VoaWRlXCJpbiB1P1wicGFnZWhpZGVcIjpcInVubG9hZFwiO2FkZEV2ZW50TGlzdGVuZXIoZixzLCExKX19LGZ1bmN0aW9uKHQsZSxyKXtmdW5jdGlvbiBuKHQpe3ZhciBlPXQmJnQuZm9yY2VCYXNlNjQ7cCYmIWV8fCh0aGlzLnN1cHBvcnRzQmluYXJ5PSExKSxvLmNhbGwodGhpcyx0KX12YXIgbz1yKDE4KSxpPXIoMjcpLHM9cigxOSksYT1yKDI4KSxjPXIoMjkpO3IoMykoXCJlbmdpbmUuaW8tY2xpZW50OnBvbGxpbmdcIik7dC5leHBvcnRzPW47dmFyIHA9ZnVuY3Rpb24oKXt2YXIgdD1yKDEzKSxlPW5ldyB0KHt4ZG9tYWluOiExfSk7cmV0dXJuIG51bGwhPWUucmVzcG9uc2VUeXBlfSgpO2EobixvKSxuLnByb3RvdHlwZS5uYW1lPVwicG9sbGluZ1wiLG4ucHJvdG90eXBlLmRvT3Blbj1mdW5jdGlvbigpe3RoaXMucG9sbCgpfSxuLnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7ci5yZWFkeVN0YXRlPVwicGF1c2VkXCIsdCgpfXZhciByPXRoaXM7aWYodGhpcy5yZWFkeVN0YXRlPVwicGF1c2luZ1wiLHRoaXMucG9sbGluZ3x8IXRoaXMud3JpdGFibGUpe3ZhciBuPTA7dGhpcy5wb2xsaW5nJiYobisrLHRoaXMub25jZShcInBvbGxDb21wbGV0ZVwiLGZ1bmN0aW9uKCl7LS1ufHxlKCl9KSksdGhpcy53cml0YWJsZXx8KG4rKyx0aGlzLm9uY2UoXCJkcmFpblwiLGZ1bmN0aW9uKCl7LS1ufHxlKCl9KSl9ZWxzZSBlKCl9LG4ucHJvdG90eXBlLnBvbGw9ZnVuY3Rpb24oKXt0aGlzLnBvbGxpbmc9ITAsdGhpcy5kb1BvbGwoKSx0aGlzLmVtaXQoXCJwb2xsXCIpfSxuLnByb3RvdHlwZS5vbkRhdGE9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxyPWZ1bmN0aW9uKHQscixuKXtyZXR1cm5cIm9wZW5pbmdcIj09PWUucmVhZHlTdGF0ZSYmXCJvcGVuXCI9PT10LnR5cGUmJmUub25PcGVuKCksXCJjbG9zZVwiPT09dC50eXBlPyhlLm9uQ2xvc2UoKSwhMSk6dm9pZCBlLm9uUGFja2V0KHQpfTtzLmRlY29kZVBheWxvYWQodCx0aGlzLnNvY2tldC5iaW5hcnlUeXBlLHIpLFwiY2xvc2VkXCIhPT10aGlzLnJlYWR5U3RhdGUmJih0aGlzLnBvbGxpbmc9ITEsdGhpcy5lbWl0KFwicG9sbENvbXBsZXRlXCIpLFwib3BlblwiPT09dGhpcy5yZWFkeVN0YXRlJiZ0aGlzLnBvbGwoKSl9LG4ucHJvdG90eXBlLmRvQ2xvc2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7ZS53cml0ZShbe3R5cGU6XCJjbG9zZVwifV0pfXZhciBlPXRoaXM7XCJvcGVuXCI9PT10aGlzLnJlYWR5U3RhdGU/dCgpOnRoaXMub25jZShcIm9wZW5cIix0KX0sbi5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLndyaXRhYmxlPSExO3ZhciByPWZ1bmN0aW9uKCl7ZS53cml0YWJsZT0hMCxlLmVtaXQoXCJkcmFpblwiKX07cy5lbmNvZGVQYXlsb2FkKHQsdGhpcy5zdXBwb3J0c0JpbmFyeSxmdW5jdGlvbih0KXtlLmRvV3JpdGUodCxyKX0pfSxuLnByb3RvdHlwZS51cmk9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnF1ZXJ5fHx7fSxlPXRoaXMuc2VjdXJlP1wiaHR0cHNcIjpcImh0dHBcIixyPVwiXCI7ITEhPT10aGlzLnRpbWVzdGFtcFJlcXVlc3RzJiYodFt0aGlzLnRpbWVzdGFtcFBhcmFtXT1jKCkpLHRoaXMuc3VwcG9ydHNCaW5hcnl8fHQuc2lkfHwodC5iNjQ9MSksdD1pLmVuY29kZSh0KSx0aGlzLnBvcnQmJihcImh0dHBzXCI9PT1lJiY0NDMhPT1OdW1iZXIodGhpcy5wb3J0KXx8XCJodHRwXCI9PT1lJiY4MCE9PU51bWJlcih0aGlzLnBvcnQpKSYmKHI9XCI6XCIrdGhpcy5wb3J0KSx0Lmxlbmd0aCYmKHQ9XCI/XCIrdCk7dmFyIG49dGhpcy5ob3N0bmFtZS5pbmRleE9mKFwiOlwiKSE9PS0xO3JldHVybiBlK1wiOi8vXCIrKG4/XCJbXCIrdGhpcy5ob3N0bmFtZStcIl1cIjp0aGlzLmhvc3RuYW1lKStyK3RoaXMucGF0aCt0fX0sZnVuY3Rpb24odCxlLHIpe2Z1bmN0aW9uIG4odCl7dGhpcy5wYXRoPXQucGF0aCx0aGlzLmhvc3RuYW1lPXQuaG9zdG5hbWUsdGhpcy5wb3J0PXQucG9ydCx0aGlzLnNlY3VyZT10LnNlY3VyZSx0aGlzLnF1ZXJ5PXQucXVlcnksdGhpcy50aW1lc3RhbXBQYXJhbT10LnRpbWVzdGFtcFBhcmFtLHRoaXMudGltZXN0YW1wUmVxdWVzdHM9dC50aW1lc3RhbXBSZXF1ZXN0cyx0aGlzLnJlYWR5U3RhdGU9XCJcIix0aGlzLmFnZW50PXQuYWdlbnR8fCExLHRoaXMuc29ja2V0PXQuc29ja2V0LHRoaXMuZW5hYmxlc1hEUj10LmVuYWJsZXNYRFIsdGhpcy53aXRoQ3JlZGVudGlhbHM9dC53aXRoQ3JlZGVudGlhbHMsdGhpcy5wZng9dC5wZngsdGhpcy5rZXk9dC5rZXksdGhpcy5wYXNzcGhyYXNlPXQucGFzc3BocmFzZSx0aGlzLmNlcnQ9dC5jZXJ0LHRoaXMuY2E9dC5jYSx0aGlzLmNpcGhlcnM9dC5jaXBoZXJzLHRoaXMucmVqZWN0VW5hdXRob3JpemVkPXQucmVqZWN0VW5hdXRob3JpemVkLHRoaXMuZm9yY2VOb2RlPXQuZm9yY2VOb2RlLFxudGhpcy5pc1JlYWN0TmF0aXZlPXQuaXNSZWFjdE5hdGl2ZSx0aGlzLmV4dHJhSGVhZGVycz10LmV4dHJhSGVhZGVycyx0aGlzLmxvY2FsQWRkcmVzcz10LmxvY2FsQWRkcmVzc312YXIgbz1yKDE5KSxpPXIoNSk7dC5leHBvcnRzPW4saShuLnByb3RvdHlwZSksbi5wcm90b3R5cGUub25FcnJvcj1mdW5jdGlvbih0LGUpe3ZhciByPW5ldyBFcnJvcih0KTtyZXR1cm4gci50eXBlPVwiVHJhbnNwb3J0RXJyb3JcIixyLmRlc2NyaXB0aW9uPWUsdGhpcy5lbWl0KFwiZXJyb3JcIixyKSx0aGlzfSxuLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKCl7cmV0dXJuXCJjbG9zZWRcIiE9PXRoaXMucmVhZHlTdGF0ZSYmXCJcIiE9PXRoaXMucmVhZHlTdGF0ZXx8KHRoaXMucmVhZHlTdGF0ZT1cIm9wZW5pbmdcIix0aGlzLmRvT3BlbigpKSx0aGlzfSxuLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3JldHVyblwib3BlbmluZ1wiIT09dGhpcy5yZWFkeVN0YXRlJiZcIm9wZW5cIiE9PXRoaXMucmVhZHlTdGF0ZXx8KHRoaXMuZG9DbG9zZSgpLHRoaXMub25DbG9zZSgpKSx0aGlzfSxuLnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKHQpe2lmKFwib3BlblwiIT09dGhpcy5yZWFkeVN0YXRlKXRocm93IG5ldyBFcnJvcihcIlRyYW5zcG9ydCBub3Qgb3BlblwiKTt0aGlzLndyaXRlKHQpfSxuLnByb3RvdHlwZS5vbk9wZW49ZnVuY3Rpb24oKXt0aGlzLnJlYWR5U3RhdGU9XCJvcGVuXCIsdGhpcy53cml0YWJsZT0hMCx0aGlzLmVtaXQoXCJvcGVuXCIpfSxuLnByb3RvdHlwZS5vbkRhdGE9ZnVuY3Rpb24odCl7dmFyIGU9by5kZWNvZGVQYWNrZXQodCx0aGlzLnNvY2tldC5iaW5hcnlUeXBlKTt0aGlzLm9uUGFja2V0KGUpfSxuLnByb3RvdHlwZS5vblBhY2tldD1mdW5jdGlvbih0KXt0aGlzLmVtaXQoXCJwYWNrZXRcIix0KX0sbi5wcm90b3R5cGUub25DbG9zZT1mdW5jdGlvbigpe3RoaXMucmVhZHlTdGF0ZT1cImNsb3NlZFwiLHRoaXMuZW1pdChcImNsb3NlXCIpfX0sZnVuY3Rpb24odCxlLHIpe2Z1bmN0aW9uIG4odCxyKXt2YXIgbj1cImJcIitlLnBhY2tldHNbdC50eXBlXSt0LmRhdGEuZGF0YTtyZXR1cm4gcihuKX1mdW5jdGlvbiBvKHQscixuKXtpZighcilyZXR1cm4gZS5lbmNvZGVCYXNlNjRQYWNrZXQodCxuKTt2YXIgbz10LmRhdGEsaT1uZXcgVWludDhBcnJheShvKSxzPW5ldyBVaW50OEFycmF5KDErby5ieXRlTGVuZ3RoKTtzWzBdPXZbdC50eXBlXTtmb3IodmFyIGE9MDthPGkubGVuZ3RoO2ErKylzW2ErMV09aVthXTtyZXR1cm4gbihzLmJ1ZmZlcil9ZnVuY3Rpb24gaSh0LHIsbil7aWYoIXIpcmV0dXJuIGUuZW5jb2RlQmFzZTY0UGFja2V0KHQsbik7dmFyIG89bmV3IEZpbGVSZWFkZXI7cmV0dXJuIG8ub25sb2FkPWZ1bmN0aW9uKCl7ZS5lbmNvZGVQYWNrZXQoe3R5cGU6dC50eXBlLGRhdGE6by5yZXN1bHR9LHIsITAsbil9LG8ucmVhZEFzQXJyYXlCdWZmZXIodC5kYXRhKX1mdW5jdGlvbiBzKHQscixuKXtpZighcilyZXR1cm4gZS5lbmNvZGVCYXNlNjRQYWNrZXQodCxuKTtpZihnKXJldHVybiBpKHQscixuKTt2YXIgbz1uZXcgVWludDhBcnJheSgxKTtvWzBdPXZbdC50eXBlXTt2YXIgcz1uZXcgdyhbby5idWZmZXIsdC5kYXRhXSk7cmV0dXJuIG4ocyl9ZnVuY3Rpb24gYSh0KXt0cnl7dD1kLmRlY29kZSh0LHtzdHJpY3Q6ITF9KX1jYXRjaCh0KXtyZXR1cm4hMX1yZXR1cm4gdH1mdW5jdGlvbiBjKHQsZSxyKXtmb3IodmFyIG49bmV3IEFycmF5KHQubGVuZ3RoKSxvPWwodC5sZW5ndGgsciksaT1mdW5jdGlvbih0LHIsbyl7ZShyLGZ1bmN0aW9uKGUscil7blt0XT1yLG8oZSxuKX0pfSxzPTA7czx0Lmxlbmd0aDtzKyspaShzLHRbc10sbyl9dmFyIHAsaD1yKDIwKSx1PXIoMjEpLGY9cigyMiksbD1yKDIzKSxkPXIoMjQpO1widW5kZWZpbmVkXCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmKHA9cigyNSkpO3ZhciB5PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJi9BbmRyb2lkL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxtPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJi9QaGFudG9tSlMvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLGc9eXx8bTtlLnByb3RvY29sPTM7dmFyIHY9ZS5wYWNrZXRzPXtvcGVuOjAsY2xvc2U6MSxwaW5nOjIscG9uZzozLG1lc3NhZ2U6NCx1cGdyYWRlOjUsbm9vcDo2fSxiPWgodiksaz17dHlwZTpcImVycm9yXCIsZGF0YTpcInBhcnNlciBlcnJvclwifSx3PXIoMjYpO2UuZW5jb2RlUGFja2V0PWZ1bmN0aW9uKHQsZSxyLGkpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGUmJihpPWUsZT0hMSksXCJmdW5jdGlvblwiPT10eXBlb2YgciYmKGk9cixyPW51bGwpO3ZhciBhPXZvaWQgMD09PXQuZGF0YT92b2lkIDA6dC5kYXRhLmJ1ZmZlcnx8dC5kYXRhO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmYSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXJldHVybiBvKHQsZSxpKTtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgdyYmYSBpbnN0YW5jZW9mIHcpcmV0dXJuIHModCxlLGkpO2lmKGEmJmEuYmFzZTY0KXJldHVybiBuKHQsaSk7dmFyIGM9dlt0LnR5cGVdO3JldHVybiB2b2lkIDAhPT10LmRhdGEmJihjKz1yP2QuZW5jb2RlKFN0cmluZyh0LmRhdGEpLHtzdHJpY3Q6ITF9KTpTdHJpbmcodC5kYXRhKSksaShcIlwiK2MpfSxlLmVuY29kZUJhc2U2NFBhY2tldD1mdW5jdGlvbih0LHIpe3ZhciBuPVwiYlwiK2UucGFja2V0c1t0LnR5cGVdO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3JiZ0LmRhdGEgaW5zdGFuY2VvZiB3KXt2YXIgbz1uZXcgRmlsZVJlYWRlcjtyZXR1cm4gby5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgdD1vLnJlc3VsdC5zcGxpdChcIixcIilbMV07cihuK3QpfSxvLnJlYWRBc0RhdGFVUkwodC5kYXRhKX12YXIgaTt0cnl7aT1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbmV3IFVpbnQ4QXJyYXkodC5kYXRhKSl9Y2F0Y2goZSl7Zm9yKHZhciBzPW5ldyBVaW50OEFycmF5KHQuZGF0YSksYT1uZXcgQXJyYXkocy5sZW5ndGgpLGM9MDtjPHMubGVuZ3RoO2MrKylhW2NdPXNbY107aT1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsYSl9cmV0dXJuIG4rPWJ0b2EoaSkscihuKX0sZS5kZWNvZGVQYWNrZXQ9ZnVuY3Rpb24odCxyLG4pe2lmKHZvaWQgMD09PXQpcmV0dXJuIGs7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpe2lmKFwiYlwiPT09dC5jaGFyQXQoMCkpcmV0dXJuIGUuZGVjb2RlQmFzZTY0UGFja2V0KHQuc3Vic3RyKDEpLHIpO2lmKG4mJih0PWEodCksdD09PSExKSlyZXR1cm4gazt2YXIgbz10LmNoYXJBdCgwKTtyZXR1cm4gTnVtYmVyKG8pPT1vJiZiW29dP3QubGVuZ3RoPjE/e3R5cGU6YltvXSxkYXRhOnQuc3Vic3RyaW5nKDEpfTp7dHlwZTpiW29dfTprfXZhciBpPW5ldyBVaW50OEFycmF5KHQpLG89aVswXSxzPWYodCwxKTtyZXR1cm4gdyYmXCJibG9iXCI9PT1yJiYocz1uZXcgdyhbc10pKSx7dHlwZTpiW29dLGRhdGE6c319LGUuZGVjb2RlQmFzZTY0UGFja2V0PWZ1bmN0aW9uKHQsZSl7dmFyIHI9Ylt0LmNoYXJBdCgwKV07aWYoIXApcmV0dXJue3R5cGU6cixkYXRhOntiYXNlNjQ6ITAsZGF0YTp0LnN1YnN0cigxKX19O3ZhciBuPXAuZGVjb2RlKHQuc3Vic3RyKDEpKTtyZXR1cm5cImJsb2JcIj09PWUmJncmJihuPW5ldyB3KFtuXSkpLHt0eXBlOnIsZGF0YTpufX0sZS5lbmNvZGVQYXlsb2FkPWZ1bmN0aW9uKHQscixuKXtmdW5jdGlvbiBvKHQpe3JldHVybiB0Lmxlbmd0aCtcIjpcIit0fWZ1bmN0aW9uIGkodCxuKXtlLmVuY29kZVBhY2tldCh0LCEhcyYmciwhMSxmdW5jdGlvbih0KXtuKG51bGwsbyh0KSl9KX1cImZ1bmN0aW9uXCI9PXR5cGVvZiByJiYobj1yLHI9bnVsbCk7dmFyIHM9dSh0KTtyZXR1cm4gciYmcz93JiYhZz9lLmVuY29kZVBheWxvYWRBc0Jsb2IodCxuKTplLmVuY29kZVBheWxvYWRBc0FycmF5QnVmZmVyKHQsbik6dC5sZW5ndGg/dm9pZCBjKHQsaSxmdW5jdGlvbih0LGUpe3JldHVybiBuKGUuam9pbihcIlwiKSl9KTpuKFwiMDpcIil9LGUuZGVjb2RlUGF5bG9hZD1mdW5jdGlvbih0LHIsbil7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQpcmV0dXJuIGUuZGVjb2RlUGF5bG9hZEFzQmluYXJ5KHQscixuKTtcImZ1bmN0aW9uXCI9PXR5cGVvZiByJiYobj1yLHI9bnVsbCk7dmFyIG87aWYoXCJcIj09PXQpcmV0dXJuIG4oaywwLDEpO2Zvcih2YXIgaSxzLGE9XCJcIixjPTAscD10Lmxlbmd0aDtjPHA7YysrKXt2YXIgaD10LmNoYXJBdChjKTtpZihcIjpcIj09PWgpe2lmKFwiXCI9PT1hfHxhIT0oaT1OdW1iZXIoYSkpKXJldHVybiBuKGssMCwxKTtpZihzPXQuc3Vic3RyKGMrMSxpKSxhIT1zLmxlbmd0aClyZXR1cm4gbihrLDAsMSk7aWYocy5sZW5ndGgpe2lmKG89ZS5kZWNvZGVQYWNrZXQocyxyLCExKSxrLnR5cGU9PT1vLnR5cGUmJmsuZGF0YT09PW8uZGF0YSlyZXR1cm4gbihrLDAsMSk7dmFyIHU9bihvLGMraSxwKTtpZighMT09PXUpcmV0dXJufWMrPWksYT1cIlwifWVsc2UgYSs9aH1yZXR1cm5cIlwiIT09YT9uKGssMCwxKTp2b2lkIDB9LGUuZW5jb2RlUGF5bG9hZEFzQXJyYXlCdWZmZXI9ZnVuY3Rpb24odCxyKXtmdW5jdGlvbiBuKHQscil7ZS5lbmNvZGVQYWNrZXQodCwhMCwhMCxmdW5jdGlvbih0KXtyZXR1cm4gcihudWxsLHQpfSl9cmV0dXJuIHQubGVuZ3RoP3ZvaWQgYyh0LG4sZnVuY3Rpb24odCxlKXt2YXIgbj1lLnJlZHVjZShmdW5jdGlvbih0LGUpe3ZhciByO3JldHVybiByPVwic3RyaW5nXCI9PXR5cGVvZiBlP2UubGVuZ3RoOmUuYnl0ZUxlbmd0aCx0K3IudG9TdHJpbmcoKS5sZW5ndGgrcisyfSwwKSxvPW5ldyBVaW50OEFycmF5KG4pLGk9MDtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPVwic3RyaW5nXCI9PXR5cGVvZiB0LHI9dDtpZihlKXtmb3IodmFyIG49bmV3IFVpbnQ4QXJyYXkodC5sZW5ndGgpLHM9MDtzPHQubGVuZ3RoO3MrKyluW3NdPXQuY2hhckNvZGVBdChzKTtyPW4uYnVmZmVyfWU/b1tpKytdPTA6b1tpKytdPTE7Zm9yKHZhciBhPXIuYnl0ZUxlbmd0aC50b1N0cmluZygpLHM9MDtzPGEubGVuZ3RoO3MrKylvW2krK109cGFyc2VJbnQoYVtzXSk7b1tpKytdPTI1NTtmb3IodmFyIG49bmV3IFVpbnQ4QXJyYXkocikscz0wO3M8bi5sZW5ndGg7cysrKW9baSsrXT1uW3NdfSkscihvLmJ1ZmZlcil9KTpyKG5ldyBBcnJheUJ1ZmZlcigwKSl9LGUuZW5jb2RlUGF5bG9hZEFzQmxvYj1mdW5jdGlvbih0LHIpe2Z1bmN0aW9uIG4odCxyKXtlLmVuY29kZVBhY2tldCh0LCEwLCEwLGZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBVaW50OEFycmF5KDEpO2lmKGVbMF09MSxcInN0cmluZ1wiPT10eXBlb2YgdCl7Zm9yKHZhciBuPW5ldyBVaW50OEFycmF5KHQubGVuZ3RoKSxvPTA7bzx0Lmxlbmd0aDtvKyspbltvXT10LmNoYXJDb2RlQXQobyk7dD1uLmJ1ZmZlcixlWzBdPTB9Zm9yKHZhciBpPXQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj90LmJ5dGVMZW5ndGg6dC5zaXplLHM9aS50b1N0cmluZygpLGE9bmV3IFVpbnQ4QXJyYXkocy5sZW5ndGgrMSksbz0wO288cy5sZW5ndGg7bysrKWFbb109cGFyc2VJbnQoc1tvXSk7aWYoYVtzLmxlbmd0aF09MjU1LHcpe3ZhciBjPW5ldyB3KFtlLmJ1ZmZlcixhLmJ1ZmZlcix0XSk7cihudWxsLGMpfX0pfWModCxuLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHIobmV3IHcoZSkpfSl9LGUuZGVjb2RlUGF5bG9hZEFzQmluYXJ5PWZ1bmN0aW9uKHQscixuKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiByJiYobj1yLHI9bnVsbCk7Zm9yKHZhciBvPXQsaT1bXTtvLmJ5dGVMZW5ndGg+MDspe2Zvcih2YXIgcz1uZXcgVWludDhBcnJheShvKSxhPTA9PT1zWzBdLGM9XCJcIixwPTE7MjU1IT09c1twXTtwKyspe2lmKGMubGVuZ3RoPjMxMClyZXR1cm4gbihrLDAsMSk7Yys9c1twXX1vPWYobywyK2MubGVuZ3RoKSxjPXBhcnNlSW50KGMpO3ZhciBoPWYobywwLGMpO2lmKGEpdHJ5e2g9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KGgpKX1jYXRjaCh0KXt2YXIgdT1uZXcgVWludDhBcnJheShoKTtoPVwiXCI7Zm9yKHZhciBwPTA7cDx1Lmxlbmd0aDtwKyspaCs9U3RyaW5nLmZyb21DaGFyQ29kZSh1W3BdKX1pLnB1c2goaCksbz1mKG8sYyl9dmFyIGw9aS5sZW5ndGg7aS5mb3JFYWNoKGZ1bmN0aW9uKHQsbyl7bihlLmRlY29kZVBhY2tldCh0LHIsITApLG8sbCl9KX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPU9iamVjdC5rZXlzfHxmdW5jdGlvbih0KXt2YXIgZT1bXSxyPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7Zm9yKHZhciBuIGluIHQpci5jYWxsKHQsbikmJmUucHVzaChuKTtyZXR1cm4gZX19LGZ1bmN0aW9uKHQsZSxyKXtmdW5jdGlvbiBuKHQpe2lmKCF0fHxcIm9iamVjdFwiIT10eXBlb2YgdClyZXR1cm4hMTtpZihvKHQpKXtmb3IodmFyIGU9MCxyPXQubGVuZ3RoO2U8cjtlKyspaWYobih0W2VdKSlyZXR1cm4hMDtyZXR1cm4hMX1pZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBCdWZmZXImJkJ1ZmZlci5pc0J1ZmZlciYmQnVmZmVyLmlzQnVmZmVyKHQpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBBcnJheUJ1ZmZlciYmdCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHxzJiZ0IGluc3RhbmNlb2YgQmxvYnx8YSYmdCBpbnN0YW5jZW9mIEZpbGUpcmV0dXJuITA7aWYodC50b0pTT04mJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQudG9KU09OJiYxPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gbih0LnRvSlNPTigpLCEwKTtmb3IodmFyIGkgaW4gdClpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxpKSYmbih0W2ldKSlyZXR1cm4hMDtyZXR1cm4hMX12YXIgbz1yKDcpLGk9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxzPVwiZnVuY3Rpb25cIj09dHlwZW9mIEJsb2J8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBCbG9iJiZcIltvYmplY3QgQmxvYkNvbnN0cnVjdG9yXVwiPT09aS5jYWxsKEJsb2IpLGE9XCJmdW5jdGlvblwiPT10eXBlb2YgRmlsZXx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEZpbGUmJlwiW29iamVjdCBGaWxlQ29uc3RydWN0b3JdXCI9PT1pLmNhbGwoRmlsZSk7dC5leHBvcnRzPW59LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj10LmJ5dGVMZW5ndGg7aWYoZT1lfHwwLHI9cnx8bix0LnNsaWNlKXJldHVybiB0LnNsaWNlKGUscik7aWYoZTwwJiYoZSs9bikscjwwJiYocis9bikscj5uJiYocj1uKSxlPj1ufHxlPj1yfHwwPT09bilyZXR1cm4gbmV3IEFycmF5QnVmZmVyKDApO2Zvcih2YXIgbz1uZXcgVWludDhBcnJheSh0KSxpPW5ldyBVaW50OEFycmF5KHItZSkscz1lLGE9MDtzPHI7cysrLGErKylpW2FdPW9bc107cmV0dXJuIGkuYnVmZmVyfX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiByKHQsZSxyKXtmdW5jdGlvbiBvKHQsbil7aWYoby5jb3VudDw9MCl0aHJvdyBuZXcgRXJyb3IoXCJhZnRlciBjYWxsZWQgdG9vIG1hbnkgdGltZXNcIik7LS1vLmNvdW50LHQ/KGk9ITAsZSh0KSxlPXIpOjAhPT1vLmNvdW50fHxpfHxlKG51bGwsbil9dmFyIGk9ITE7cmV0dXJuIHI9cnx8bixvLmNvdW50PXQsMD09PXQ/ZSgpOm99ZnVuY3Rpb24gbigpe310LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiByKHQpe2Zvcih2YXIgZSxyLG49W10sbz0wLGk9dC5sZW5ndGg7bzxpOyllPXQuY2hhckNvZGVBdChvKyspLGU+PTU1Mjk2JiZlPD01NjMxOSYmbzxpPyhyPXQuY2hhckNvZGVBdChvKyspLDU2MzIwPT0oNjQ1MTImcik/bi5wdXNoKCgoMTAyMyZlKTw8MTApKygxMDIzJnIpKzY1NTM2KToobi5wdXNoKGUpLG8tLSkpOm4ucHVzaChlKTtyZXR1cm4gbn1mdW5jdGlvbiBuKHQpe2Zvcih2YXIgZSxyPXQubGVuZ3RoLG49LTEsbz1cIlwiOysrbjxyOyllPXRbbl0sZT42NTUzNSYmKGUtPTY1NTM2LG8rPWQoZT4+PjEwJjEwMjN8NTUyOTYpLGU9NTYzMjB8MTAyMyZlKSxvKz1kKGUpO3JldHVybiBvfWZ1bmN0aW9uIG8odCxlKXtpZih0Pj01NTI5NiYmdDw9NTczNDMpe2lmKGUpdGhyb3cgRXJyb3IoXCJMb25lIHN1cnJvZ2F0ZSBVK1wiK3QudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCkrXCIgaXMgbm90IGEgc2NhbGFyIHZhbHVlXCIpO3JldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIGkodCxlKXtyZXR1cm4gZCh0Pj5lJjYzfDEyOCl9ZnVuY3Rpb24gcyh0LGUpe2lmKDA9PSg0Mjk0OTY3MTY4JnQpKXJldHVybiBkKHQpO3ZhciByPVwiXCI7cmV0dXJuIDA9PSg0Mjk0OTY1MjQ4JnQpP3I9ZCh0Pj42JjMxfDE5Mik6MD09KDQyOTQ5MDE3NjAmdCk/KG8odCxlKXx8KHQ9NjU1MzMpLHI9ZCh0Pj4xMiYxNXwyMjQpLHIrPWkodCw2KSk6MD09KDQyOTI4NzAxNDQmdCkmJihyPWQodD4+MTgmN3wyNDApLHIrPWkodCwxMikscis9aSh0LDYpKSxyKz1kKDYzJnR8MTI4KX1mdW5jdGlvbiBhKHQsZSl7ZT1lfHx7fTtmb3IodmFyIG4sbz0hMSE9PWUuc3RyaWN0LGk9cih0KSxhPWkubGVuZ3RoLGM9LTEscD1cIlwiOysrYzxhOyluPWlbY10scCs9cyhuLG8pO3JldHVybiBwfWZ1bmN0aW9uIGMoKXtpZihsPj1mKXRocm93IEVycm9yKFwiSW52YWxpZCBieXRlIGluZGV4XCIpO3ZhciB0PTI1NSZ1W2xdO2lmKGwrKywxMjg9PSgxOTImdCkpcmV0dXJuIDYzJnQ7dGhyb3cgRXJyb3IoXCJJbnZhbGlkIGNvbnRpbnVhdGlvbiBieXRlXCIpfWZ1bmN0aW9uIHAodCl7dmFyIGUscixuLGkscztpZihsPmYpdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGJ5dGUgaW5kZXhcIik7aWYobD09ZilyZXR1cm4hMTtpZihlPTI1NSZ1W2xdLGwrKywwPT0oMTI4JmUpKXJldHVybiBlO2lmKDE5Mj09KDIyNCZlKSl7aWYocj1jKCkscz0oMzEmZSk8PDZ8cixzPj0xMjgpcmV0dXJuIHM7dGhyb3cgRXJyb3IoXCJJbnZhbGlkIGNvbnRpbnVhdGlvbiBieXRlXCIpfWlmKDIyND09KDI0MCZlKSl7aWYocj1jKCksbj1jKCkscz0oMTUmZSk8PDEyfHI8PDZ8bixzPj0yMDQ4KXJldHVybiBvKHMsdCk/czo2NTUzMzt0aHJvdyBFcnJvcihcIkludmFsaWQgY29udGludWF0aW9uIGJ5dGVcIil9aWYoMjQwPT0oMjQ4JmUpJiYocj1jKCksbj1jKCksaT1jKCkscz0oNyZlKTw8MTh8cjw8MTJ8bjw8NnxpLHM+PTY1NTM2JiZzPD0xMTE0MTExKSlyZXR1cm4gczt0aHJvdyBFcnJvcihcIkludmFsaWQgVVRGLTggZGV0ZWN0ZWRcIil9ZnVuY3Rpb24gaCh0LGUpe2U9ZXx8e307dmFyIG89ITEhPT1lLnN0cmljdDt1PXIodCksZj11Lmxlbmd0aCxsPTA7Zm9yKHZhciBpLHM9W107KGk9cChvKSkhPT0hMTspcy5wdXNoKGkpO3JldHVybiBuKHMpfS8qISBodHRwczovL210aHMuYmUvdXRmOGpzIHYyLjEuMiBieSBAbWF0aGlhcyAqL1xudmFyIHUsZixsLGQ9U3RyaW5nLmZyb21DaGFyQ29kZTt0LmV4cG9ydHM9e3ZlcnNpb246XCIyLjEuMlwiLGVuY29kZTphLGRlY29kZTpofX0sZnVuY3Rpb24odCxlKXshZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7ZS5lbmNvZGU9ZnVuY3Rpb24oZSl7dmFyIHIsbj1uZXcgVWludDhBcnJheShlKSxvPW4ubGVuZ3RoLGk9XCJcIjtmb3Iocj0wO3I8bztyKz0zKWkrPXRbbltyXT4+Ml0saSs9dFsoMyZuW3JdKTw8NHxuW3IrMV0+PjRdLGkrPXRbKDE1Jm5bcisxXSk8PDJ8bltyKzJdPj42XSxpKz10WzYzJm5bcisyXV07cmV0dXJuIG8lMz09PTI/aT1pLnN1YnN0cmluZygwLGkubGVuZ3RoLTEpK1wiPVwiOm8lMz09PTEmJihpPWkuc3Vic3RyaW5nKDAsaS5sZW5ndGgtMikrXCI9PVwiKSxpfSxlLmRlY29kZT1mdW5jdGlvbihlKXt2YXIgcixuLG8saSxzLGE9Ljc1KmUubGVuZ3RoLGM9ZS5sZW5ndGgscD0wO1wiPVwiPT09ZVtlLmxlbmd0aC0xXSYmKGEtLSxcIj1cIj09PWVbZS5sZW5ndGgtMl0mJmEtLSk7dmFyIGg9bmV3IEFycmF5QnVmZmVyKGEpLHU9bmV3IFVpbnQ4QXJyYXkoaCk7Zm9yKHI9MDtyPGM7cis9NCluPXQuaW5kZXhPZihlW3JdKSxvPXQuaW5kZXhPZihlW3IrMV0pLGk9dC5pbmRleE9mKGVbcisyXSkscz10LmluZGV4T2YoZVtyKzNdKSx1W3ArK109bjw8MnxvPj40LHVbcCsrXT0oMTUmbyk8PDR8aT4+Mix1W3ArK109KDMmaSk8PDZ8NjMmcztyZXR1cm4gaH19KFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiKX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiByKHQpe3JldHVybiB0Lm1hcChmdW5jdGlvbih0KXtpZih0LmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXt2YXIgZT10LmJ1ZmZlcjtpZih0LmJ5dGVMZW5ndGghPT1lLmJ5dGVMZW5ndGgpe3ZhciByPW5ldyBVaW50OEFycmF5KHQuYnl0ZUxlbmd0aCk7ci5zZXQobmV3IFVpbnQ4QXJyYXkoZSx0LmJ5dGVPZmZzZXQsdC5ieXRlTGVuZ3RoKSksZT1yLmJ1ZmZlcn1yZXR1cm4gZX1yZXR1cm4gdH0pfWZ1bmN0aW9uIG4odCxlKXtlPWV8fHt9O3ZhciBuPW5ldyBpO3JldHVybiByKHQpLmZvckVhY2goZnVuY3Rpb24odCl7bi5hcHBlbmQodCl9KSxlLnR5cGU/bi5nZXRCbG9iKGUudHlwZSk6bi5nZXRCbG9iKCl9ZnVuY3Rpb24gbyh0LGUpe3JldHVybiBuZXcgQmxvYihyKHQpLGV8fHt9KX12YXIgaT1cInVuZGVmaW5lZFwiIT10eXBlb2YgaT9pOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBXZWJLaXRCbG9iQnVpbGRlcj9XZWJLaXRCbG9iQnVpbGRlcjpcInVuZGVmaW5lZFwiIT10eXBlb2YgTVNCbG9iQnVpbGRlcj9NU0Jsb2JCdWlsZGVyOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBNb3pCbG9iQnVpbGRlciYmTW96QmxvYkJ1aWxkZXIscz1mdW5jdGlvbigpe3RyeXt2YXIgdD1uZXcgQmxvYihbXCJoaVwiXSk7cmV0dXJuIDI9PT10LnNpemV9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGE9cyYmZnVuY3Rpb24oKXt0cnl7dmFyIHQ9bmV3IEJsb2IoW25ldyBVaW50OEFycmF5KFsxLDJdKV0pO3JldHVybiAyPT09dC5zaXplfWNhdGNoKHQpe3JldHVybiExfX0oKSxjPWkmJmkucHJvdG90eXBlLmFwcGVuZCYmaS5wcm90b3R5cGUuZ2V0QmxvYjtcInVuZGVmaW5lZFwiIT10eXBlb2YgQmxvYiYmKG4ucHJvdG90eXBlPUJsb2IucHJvdG90eXBlLG8ucHJvdG90eXBlPUJsb2IucHJvdG90eXBlKSx0LmV4cG9ydHM9ZnVuY3Rpb24oKXtyZXR1cm4gcz9hP0Jsb2I6bzpjP246dm9pZCAwfSgpfSxmdW5jdGlvbih0LGUpe2UuZW5jb2RlPWZ1bmN0aW9uKHQpe3ZhciBlPVwiXCI7Zm9yKHZhciByIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShyKSYmKGUubGVuZ3RoJiYoZSs9XCImXCIpLGUrPWVuY29kZVVSSUNvbXBvbmVudChyKStcIj1cIitlbmNvZGVVUklDb21wb25lbnQodFtyXSkpO3JldHVybiBlfSxlLmRlY29kZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9e30scj10LnNwbGl0KFwiJlwiKSxuPTAsbz1yLmxlbmd0aDtuPG87bisrKXt2YXIgaT1yW25dLnNwbGl0KFwiPVwiKTtlW2RlY29kZVVSSUNvbXBvbmVudChpWzBdKV09ZGVjb2RlVVJJQ29tcG9uZW50KGlbMV0pfXJldHVybiBlfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgcj1mdW5jdGlvbigpe307ci5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IHIsdC5wcm90b3R5cGUuY29uc3RydWN0b3I9dH19LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXt2YXIgZT1cIlwiO2RvIGU9c1t0JWFdK2UsdD1NYXRoLmZsb29yKHQvYSk7d2hpbGUodD4wKTtyZXR1cm4gZX1mdW5jdGlvbiBuKHQpe3ZhciBlPTA7Zm9yKGg9MDtoPHQubGVuZ3RoO2grKyllPWUqYStjW3QuY2hhckF0KGgpXTtyZXR1cm4gZX1mdW5jdGlvbiBvKCl7dmFyIHQ9cigrbmV3IERhdGUpO3JldHVybiB0IT09aT8ocD0wLGk9dCk6dCtcIi5cIityKHArKyl9Zm9yKHZhciBpLHM9XCIwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ei1fXCIuc3BsaXQoXCJcIiksYT02NCxjPXt9LHA9MCxoPTA7aDxhO2grKyljW3NbaF1dPWg7by5lbmNvZGU9cixvLmRlY29kZT1uLHQuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUscil7ZnVuY3Rpb24gbigpe31mdW5jdGlvbiBvKHQpe2kuY2FsbCh0aGlzLHQpLHRoaXMucXVlcnk9dGhpcy5xdWVyeXx8e30sY3x8KGM9YS5fX19laW89YS5fX19laW98fFtdKSx0aGlzLmluZGV4PWMubGVuZ3RoO3ZhciBlPXRoaXM7Yy5wdXNoKGZ1bmN0aW9uKHQpe2Uub25EYXRhKHQpfSksdGhpcy5xdWVyeS5qPXRoaXMuaW5kZXgsXCJmdW5jdGlvblwiPT10eXBlb2YgYWRkRXZlbnRMaXN0ZW5lciYmYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLGZ1bmN0aW9uKCl7ZS5zY3JpcHQmJihlLnNjcmlwdC5vbmVycm9yPW4pfSwhMSl9dmFyIGk9cigxNykscz1yKDI4KSxhPXIoMTUpO3QuZXhwb3J0cz1vO3ZhciBjLHA9L1xcbi9nLGg9L1xcXFxuL2c7cyhvLGkpLG8ucHJvdG90eXBlLnN1cHBvcnRzQmluYXJ5PSExLG8ucHJvdG90eXBlLmRvQ2xvc2U9ZnVuY3Rpb24oKXt0aGlzLnNjcmlwdCYmKHRoaXMuc2NyaXB0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5zY3JpcHQpLHRoaXMuc2NyaXB0PW51bGwpLHRoaXMuZm9ybSYmKHRoaXMuZm9ybS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZm9ybSksdGhpcy5mb3JtPW51bGwsdGhpcy5pZnJhbWU9bnVsbCksaS5wcm90b3R5cGUuZG9DbG9zZS5jYWxsKHRoaXMpfSxvLnByb3RvdHlwZS5kb1BvbGw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTt0aGlzLnNjcmlwdCYmKHRoaXMuc2NyaXB0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5zY3JpcHQpLHRoaXMuc2NyaXB0PW51bGwpLGUuYXN5bmM9ITAsZS5zcmM9dGhpcy51cmkoKSxlLm9uZXJyb3I9ZnVuY3Rpb24oZSl7dC5vbkVycm9yKFwianNvbnAgcG9sbCBlcnJvclwiLGUpfTt2YXIgcj1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKVswXTtyP3IucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSxyKTooZG9jdW1lbnQuaGVhZHx8ZG9jdW1lbnQuYm9keSkuYXBwZW5kQ2hpbGQoZSksdGhpcy5zY3JpcHQ9ZTt2YXIgbj1cInVuZGVmaW5lZFwiIT10eXBlb2YgbmF2aWdhdG9yJiYvZ2Vja28vaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO24mJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodCksZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0KX0sMTAwKX0sby5wcm90b3R5cGUuZG9Xcml0ZT1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIHIoKXtuKCksZSgpfWZ1bmN0aW9uIG4oKXtpZihvLmlmcmFtZSl0cnl7by5mb3JtLnJlbW92ZUNoaWxkKG8uaWZyYW1lKX1jYXRjaCh0KXtvLm9uRXJyb3IoXCJqc29ucCBwb2xsaW5nIGlmcmFtZSByZW1vdmFsIGVycm9yXCIsdCl9dHJ5e3ZhciB0PSc8aWZyYW1lIHNyYz1cImphdmFzY3JpcHQ6MFwiIG5hbWU9XCInK28uaWZyYW1lSWQrJ1wiPic7aT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KHQpfWNhdGNoKHQpe2k9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKSxpLm5hbWU9by5pZnJhbWVJZCxpLnNyYz1cImphdmFzY3JpcHQ6MFwifWkuaWQ9by5pZnJhbWVJZCxvLmZvcm0uYXBwZW5kQ2hpbGQoaSksby5pZnJhbWU9aX12YXIgbz10aGlzO2lmKCF0aGlzLmZvcm0pe3ZhciBpLHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZvcm1cIiksYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIiksYz10aGlzLmlmcmFtZUlkPVwiZWlvX2lmcmFtZV9cIit0aGlzLmluZGV4O3MuY2xhc3NOYW1lPVwic29ja2V0aW9cIixzLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixzLnN0eWxlLnRvcD1cIi0xMDAwcHhcIixzLnN0eWxlLmxlZnQ9XCItMTAwMHB4XCIscy50YXJnZXQ9YyxzLm1ldGhvZD1cIlBPU1RcIixzLnNldEF0dHJpYnV0ZShcImFjY2VwdC1jaGFyc2V0XCIsXCJ1dGYtOFwiKSxhLm5hbWU9XCJkXCIscy5hcHBlbmRDaGlsZChhKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHMpLHRoaXMuZm9ybT1zLHRoaXMuYXJlYT1hfXRoaXMuZm9ybS5hY3Rpb249dGhpcy51cmkoKSxuKCksdD10LnJlcGxhY2UoaCxcIlxcXFxcXG5cIiksdGhpcy5hcmVhLnZhbHVlPXQucmVwbGFjZShwLFwiXFxcXG5cIik7dHJ5e3RoaXMuZm9ybS5zdWJtaXQoKX1jYXRjaCh0KXt9dGhpcy5pZnJhbWUuYXR0YWNoRXZlbnQ/dGhpcy5pZnJhbWUub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7XCJjb21wbGV0ZVwiPT09by5pZnJhbWUucmVhZHlTdGF0ZSYmcigpfTp0aGlzLmlmcmFtZS5vbmxvYWQ9cn19LGZ1bmN0aW9uKHQsZSxyKXtmdW5jdGlvbiBuKHQpe3ZhciBlPXQmJnQuZm9yY2VCYXNlNjQ7ZSYmKHRoaXMuc3VwcG9ydHNCaW5hcnk9ITEpLHRoaXMucGVyTWVzc2FnZURlZmxhdGU9dC5wZXJNZXNzYWdlRGVmbGF0ZSx0aGlzLnVzaW5nQnJvd3NlcldlYlNvY2tldD1vJiYhdC5mb3JjZU5vZGUsdGhpcy5wcm90b2NvbHM9dC5wcm90b2NvbHMsdGhpcy51c2luZ0Jyb3dzZXJXZWJTb2NrZXR8fCh1PWkpLHMuY2FsbCh0aGlzLHQpfXZhciBvLGkscz1yKDE4KSxhPXIoMTkpLGM9cigyNykscD1yKDI4KSxoPXIoMjkpO3IoMykoXCJlbmdpbmUuaW8tY2xpZW50OndlYnNvY2tldFwiKTtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgV2ViU29ja2V0P289V2ViU29ja2V0OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiYobz1zZWxmLldlYlNvY2tldHx8c2VsZi5Nb3pXZWJTb2NrZXQpLFwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3cpdHJ5e2k9cigzMil9Y2F0Y2godCl7fXZhciB1PW98fGk7dC5leHBvcnRzPW4scChuLHMpLG4ucHJvdG90eXBlLm5hbWU9XCJ3ZWJzb2NrZXRcIixuLnByb3RvdHlwZS5zdXBwb3J0c0JpbmFyeT0hMCxuLnByb3RvdHlwZS5kb09wZW49ZnVuY3Rpb24oKXtpZih0aGlzLmNoZWNrKCkpe3ZhciB0PXRoaXMudXJpKCksZT10aGlzLnByb3RvY29scyxyPXt9O3RoaXMuaXNSZWFjdE5hdGl2ZXx8KHIuYWdlbnQ9dGhpcy5hZ2VudCxyLnBlck1lc3NhZ2VEZWZsYXRlPXRoaXMucGVyTWVzc2FnZURlZmxhdGUsci5wZng9dGhpcy5wZngsci5rZXk9dGhpcy5rZXksci5wYXNzcGhyYXNlPXRoaXMucGFzc3BocmFzZSxyLmNlcnQ9dGhpcy5jZXJ0LHIuY2E9dGhpcy5jYSxyLmNpcGhlcnM9dGhpcy5jaXBoZXJzLHIucmVqZWN0VW5hdXRob3JpemVkPXRoaXMucmVqZWN0VW5hdXRob3JpemVkKSx0aGlzLmV4dHJhSGVhZGVycyYmKHIuaGVhZGVycz10aGlzLmV4dHJhSGVhZGVycyksdGhpcy5sb2NhbEFkZHJlc3MmJihyLmxvY2FsQWRkcmVzcz10aGlzLmxvY2FsQWRkcmVzcyk7dHJ5e3RoaXMud3M9dGhpcy51c2luZ0Jyb3dzZXJXZWJTb2NrZXQmJiF0aGlzLmlzUmVhY3ROYXRpdmU/ZT9uZXcgdSh0LGUpOm5ldyB1KHQpOm5ldyB1KHQsZSxyKX1jYXRjaCh0KXtyZXR1cm4gdGhpcy5lbWl0KFwiZXJyb3JcIix0KX12b2lkIDA9PT10aGlzLndzLmJpbmFyeVR5cGUmJih0aGlzLnN1cHBvcnRzQmluYXJ5PSExKSx0aGlzLndzLnN1cHBvcnRzJiZ0aGlzLndzLnN1cHBvcnRzLmJpbmFyeT8odGhpcy5zdXBwb3J0c0JpbmFyeT0hMCx0aGlzLndzLmJpbmFyeVR5cGU9XCJub2RlYnVmZmVyXCIpOnRoaXMud3MuYmluYXJ5VHlwZT1cImFycmF5YnVmZmVyXCIsdGhpcy5hZGRFdmVudExpc3RlbmVycygpfX0sbi5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcnM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMud3Mub25vcGVuPWZ1bmN0aW9uKCl7dC5vbk9wZW4oKX0sdGhpcy53cy5vbmNsb3NlPWZ1bmN0aW9uKCl7dC5vbkNsb3NlKCl9LHRoaXMud3Mub25tZXNzYWdlPWZ1bmN0aW9uKGUpe3Qub25EYXRhKGUuZGF0YSl9LHRoaXMud3Mub25lcnJvcj1mdW5jdGlvbihlKXt0Lm9uRXJyb3IoXCJ3ZWJzb2NrZXQgZXJyb3JcIixlKX19LG4ucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyLmVtaXQoXCJmbHVzaFwiKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ci53cml0YWJsZT0hMCxyLmVtaXQoXCJkcmFpblwiKX0sMCl9dmFyIHI9dGhpczt0aGlzLndyaXRhYmxlPSExO2Zvcih2YXIgbj10Lmxlbmd0aCxvPTAsaT1uO288aTtvKyspIWZ1bmN0aW9uKHQpe2EuZW5jb2RlUGFja2V0KHQsci5zdXBwb3J0c0JpbmFyeSxmdW5jdGlvbihvKXtpZighci51c2luZ0Jyb3dzZXJXZWJTb2NrZXQpe3ZhciBpPXt9O2lmKHQub3B0aW9ucyYmKGkuY29tcHJlc3M9dC5vcHRpb25zLmNvbXByZXNzKSxyLnBlck1lc3NhZ2VEZWZsYXRlKXt2YXIgcz1cInN0cmluZ1wiPT10eXBlb2Ygbz9CdWZmZXIuYnl0ZUxlbmd0aChvKTpvLmxlbmd0aDtzPHIucGVyTWVzc2FnZURlZmxhdGUudGhyZXNob2xkJiYoaS5jb21wcmVzcz0hMSl9fXRyeXtyLnVzaW5nQnJvd3NlcldlYlNvY2tldD9yLndzLnNlbmQobyk6ci53cy5zZW5kKG8saSl9Y2F0Y2godCl7fS0tbnx8ZSgpfSl9KHRbb10pfSxuLnByb3RvdHlwZS5vbkNsb3NlPWZ1bmN0aW9uKCl7cy5wcm90b3R5cGUub25DbG9zZS5jYWxsKHRoaXMpfSxuLnByb3RvdHlwZS5kb0Nsb3NlPWZ1bmN0aW9uKCl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHRoaXMud3MmJnRoaXMud3MuY2xvc2UoKX0sbi5wcm90b3R5cGUudXJpPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5xdWVyeXx8e30sZT10aGlzLnNlY3VyZT9cIndzc1wiOlwid3NcIixyPVwiXCI7dGhpcy5wb3J0JiYoXCJ3c3NcIj09PWUmJjQ0MyE9PU51bWJlcih0aGlzLnBvcnQpfHxcIndzXCI9PT1lJiY4MCE9PU51bWJlcih0aGlzLnBvcnQpKSYmKHI9XCI6XCIrdGhpcy5wb3J0KSx0aGlzLnRpbWVzdGFtcFJlcXVlc3RzJiYodFt0aGlzLnRpbWVzdGFtcFBhcmFtXT1oKCkpLHRoaXMuc3VwcG9ydHNCaW5hcnl8fCh0LmI2ND0xKSx0PWMuZW5jb2RlKHQpLHQubGVuZ3RoJiYodD1cIj9cIit0KTt2YXIgbj10aGlzLmhvc3RuYW1lLmluZGV4T2YoXCI6XCIpIT09LTE7cmV0dXJuIGUrXCI6Ly9cIisobj9cIltcIit0aGlzLmhvc3RuYW1lK1wiXVwiOnRoaXMuaG9zdG5hbWUpK3IrdGhpcy5wYXRoK3R9LG4ucHJvdG90eXBlLmNoZWNrPWZ1bmN0aW9uKCl7cmV0dXJuISghdXx8XCJfX2luaXRpYWxpemVcImluIHUmJnRoaXMubmFtZT09PW4ucHJvdG90eXBlLm5hbWUpfX0sZnVuY3Rpb24odCxlKXt9LGZ1bmN0aW9uKHQsZSl7dmFyIHI9W10uaW5kZXhPZjt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZihyKXJldHVybiB0LmluZGV4T2YoZSk7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDsrK24paWYodFtuXT09PWUpcmV0dXJuIG47cmV0dXJuLTF9fSxmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0LGUscil7dGhpcy5pbz10LHRoaXMubnNwPWUsdGhpcy5qc29uPXRoaXMsdGhpcy5pZHM9MCx0aGlzLmFja3M9e30sdGhpcy5yZWNlaXZlQnVmZmVyPVtdLHRoaXMuc2VuZEJ1ZmZlcj1bXSx0aGlzLmNvbm5lY3RlZD0hMSx0aGlzLmRpc2Nvbm5lY3RlZD0hMCx0aGlzLmZsYWdzPXt9LHImJnIucXVlcnkmJih0aGlzLnF1ZXJ5PXIucXVlcnkpLHRoaXMuaW8uYXV0b0Nvbm5lY3QmJnRoaXMub3BlbigpfXZhciBvPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGk9cig0KSxzPXIoNSksYT1yKDM1KSxjPXIoMzYpLHA9cigzNyksaD0ocigzKShcInNvY2tldC5pby1jbGllbnQ6c29ja2V0XCIpLHIoMjcpKSx1PXIoMjEpO3QuZXhwb3J0cz1lPW47dmFyIGY9e2Nvbm5lY3Q6MSxjb25uZWN0X2Vycm9yOjEsY29ubmVjdF90aW1lb3V0OjEsY29ubmVjdGluZzoxLGRpc2Nvbm5lY3Q6MSxlcnJvcjoxLHJlY29ubmVjdDoxLHJlY29ubmVjdF9hdHRlbXB0OjEscmVjb25uZWN0X2ZhaWxlZDoxLHJlY29ubmVjdF9lcnJvcjoxLHJlY29ubmVjdGluZzoxLHBpbmc6MSxwb25nOjF9LGw9cy5wcm90b3R5cGUuZW1pdDtzKG4ucHJvdG90eXBlKSxuLnByb3RvdHlwZS5zdWJFdmVudHM9ZnVuY3Rpb24oKXtpZighdGhpcy5zdWJzKXt2YXIgdD10aGlzLmlvO3RoaXMuc3Vicz1bYyh0LFwib3BlblwiLHAodGhpcyxcIm9ub3BlblwiKSksYyh0LFwicGFja2V0XCIscCh0aGlzLFwib25wYWNrZXRcIikpLGModCxcImNsb3NlXCIscCh0aGlzLFwib25jbG9zZVwiKSldfX0sbi5wcm90b3R5cGUub3Blbj1uLnByb3RvdHlwZS5jb25uZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29ubmVjdGVkP3RoaXM6KHRoaXMuc3ViRXZlbnRzKCksdGhpcy5pby5yZWNvbm5lY3Rpbmd8fHRoaXMuaW8ub3BlbigpLFwib3BlblwiPT09dGhpcy5pby5yZWFkeVN0YXRlJiZ0aGlzLm9ub3BlbigpLHRoaXMuZW1pdChcImNvbm5lY3RpbmdcIiksdGhpcyl9LG4ucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oKXt2YXIgdD1hKGFyZ3VtZW50cyk7cmV0dXJuIHQudW5zaGlmdChcIm1lc3NhZ2VcIiksdGhpcy5lbWl0LmFwcGx5KHRoaXMsdCksdGhpc30sbi5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbih0KXtpZihmLmhhc093blByb3BlcnR5KHQpKXJldHVybiBsLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzO3ZhciBlPWEoYXJndW1lbnRzKSxyPXt0eXBlOih2b2lkIDAhPT10aGlzLmZsYWdzLmJpbmFyeT90aGlzLmZsYWdzLmJpbmFyeTp1KGUpKT9pLkJJTkFSWV9FVkVOVDppLkVWRU5ULGRhdGE6ZX07cmV0dXJuIHIub3B0aW9ucz17fSxyLm9wdGlvbnMuY29tcHJlc3M9IXRoaXMuZmxhZ3N8fCExIT09dGhpcy5mbGFncy5jb21wcmVzcyxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlW2UubGVuZ3RoLTFdJiYodGhpcy5hY2tzW3RoaXMuaWRzXT1lLnBvcCgpLHIuaWQ9dGhpcy5pZHMrKyksdGhpcy5jb25uZWN0ZWQ/dGhpcy5wYWNrZXQocik6dGhpcy5zZW5kQnVmZmVyLnB1c2gociksdGhpcy5mbGFncz17fSx0aGlzfSxuLnByb3RvdHlwZS5wYWNrZXQ9ZnVuY3Rpb24odCl7dC5uc3A9dGhpcy5uc3AsdGhpcy5pby5wYWNrZXQodCl9LG4ucHJvdG90eXBlLm9ub3Blbj1mdW5jdGlvbigpe2lmKFwiL1wiIT09dGhpcy5uc3ApaWYodGhpcy5xdWVyeSl7dmFyIHQ9XCJvYmplY3RcIj09PW8odGhpcy5xdWVyeSk/aC5lbmNvZGUodGhpcy5xdWVyeSk6dGhpcy5xdWVyeTt0aGlzLnBhY2tldCh7dHlwZTppLkNPTk5FQ1QscXVlcnk6dH0pfWVsc2UgdGhpcy5wYWNrZXQoe3R5cGU6aS5DT05ORUNUfSl9LG4ucHJvdG90eXBlLm9uY2xvc2U9ZnVuY3Rpb24odCl7dGhpcy5jb25uZWN0ZWQ9ITEsdGhpcy5kaXNjb25uZWN0ZWQ9ITAsZGVsZXRlIHRoaXMuaWQsdGhpcy5lbWl0KFwiZGlzY29ubmVjdFwiLHQpfSxuLnByb3RvdHlwZS5vbnBhY2tldD1mdW5jdGlvbih0KXt2YXIgZT10Lm5zcD09PXRoaXMubnNwLHI9dC50eXBlPT09aS5FUlJPUiYmXCIvXCI9PT10Lm5zcDtpZihlfHxyKXN3aXRjaCh0LnR5cGUpe2Nhc2UgaS5DT05ORUNUOnRoaXMub25jb25uZWN0KCk7YnJlYWs7Y2FzZSBpLkVWRU5UOnRoaXMub25ldmVudCh0KTticmVhaztjYXNlIGkuQklOQVJZX0VWRU5UOnRoaXMub25ldmVudCh0KTticmVhaztjYXNlIGkuQUNLOnRoaXMub25hY2sodCk7YnJlYWs7Y2FzZSBpLkJJTkFSWV9BQ0s6dGhpcy5vbmFjayh0KTticmVhaztjYXNlIGkuRElTQ09OTkVDVDp0aGlzLm9uZGlzY29ubmVjdCgpO2JyZWFrO2Nhc2UgaS5FUlJPUjp0aGlzLmVtaXQoXCJlcnJvclwiLHQuZGF0YSl9fSxuLnByb3RvdHlwZS5vbmV2ZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXQuZGF0YXx8W107bnVsbCE9dC5pZCYmZS5wdXNoKHRoaXMuYWNrKHQuaWQpKSx0aGlzLmNvbm5lY3RlZD9sLmFwcGx5KHRoaXMsZSk6dGhpcy5yZWNlaXZlQnVmZmVyLnB1c2goZSl9LG4ucHJvdG90eXBlLmFjaz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLHI9ITE7cmV0dXJuIGZ1bmN0aW9uKCl7aWYoIXIpe3I9ITA7dmFyIG49YShhcmd1bWVudHMpO2UucGFja2V0KHt0eXBlOnUobik/aS5CSU5BUllfQUNLOmkuQUNLLGlkOnQsZGF0YTpufSl9fX0sbi5wcm90b3R5cGUub25hY2s9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5hY2tzW3QuaWRdO1wiZnVuY3Rpb25cIj09dHlwZW9mIGUmJihlLmFwcGx5KHRoaXMsdC5kYXRhKSxkZWxldGUgdGhpcy5hY2tzW3QuaWRdKX0sbi5wcm90b3R5cGUub25jb25uZWN0PWZ1bmN0aW9uKCl7dGhpcy5jb25uZWN0ZWQ9ITAsdGhpcy5kaXNjb25uZWN0ZWQ9ITEsdGhpcy5lbWl0KFwiY29ubmVjdFwiKSx0aGlzLmVtaXRCdWZmZXJlZCgpfSxuLnByb3RvdHlwZS5lbWl0QnVmZmVyZWQ9ZnVuY3Rpb24oKXt2YXIgdDtmb3IodD0wO3Q8dGhpcy5yZWNlaXZlQnVmZmVyLmxlbmd0aDt0KyspbC5hcHBseSh0aGlzLHRoaXMucmVjZWl2ZUJ1ZmZlclt0XSk7Zm9yKHRoaXMucmVjZWl2ZUJ1ZmZlcj1bXSx0PTA7dDx0aGlzLnNlbmRCdWZmZXIubGVuZ3RoO3QrKyl0aGlzLnBhY2tldCh0aGlzLnNlbmRCdWZmZXJbdF0pO3RoaXMuc2VuZEJ1ZmZlcj1bXX0sbi5wcm90b3R5cGUub25kaXNjb25uZWN0PWZ1bmN0aW9uKCl7dGhpcy5kZXN0cm95KCksdGhpcy5vbmNsb3NlKFwiaW8gc2VydmVyIGRpc2Nvbm5lY3RcIil9LG4ucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtpZih0aGlzLnN1YnMpe2Zvcih2YXIgdD0wO3Q8dGhpcy5zdWJzLmxlbmd0aDt0KyspdGhpcy5zdWJzW3RdLmRlc3Ryb3koKTt0aGlzLnN1YnM9bnVsbH10aGlzLmlvLmRlc3Ryb3kodGhpcyl9LG4ucHJvdG90eXBlLmNsb3NlPW4ucHJvdG90eXBlLmRpc2Nvbm5lY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25uZWN0ZWQmJnRoaXMucGFja2V0KHt0eXBlOmkuRElTQ09OTkVDVH0pLHRoaXMuZGVzdHJveSgpLHRoaXMuY29ubmVjdGVkJiZ0aGlzLm9uY2xvc2UoXCJpbyBjbGllbnQgZGlzY29ubmVjdFwiKSx0aGlzfSxuLnByb3RvdHlwZS5jb21wcmVzcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5mbGFncy5jb21wcmVzcz10LHRoaXN9LG4ucHJvdG90eXBlLmJpbmFyeT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5mbGFncy5iaW5hcnk9dCx0aGlzfX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiByKHQsZSl7dmFyIHI9W107ZT1lfHwwO2Zvcih2YXIgbj1lfHwwO248dC5sZW5ndGg7bisrKXJbbi1lXT10W25dO3JldHVybiByfXQuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlLHIpe3JldHVybiB0Lm9uKGUscikse2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0LnJlbW92ZUxpc3RlbmVyKGUscil9fX10LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlKXt2YXIgcj1bXS5zbGljZTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZihcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9dFtlXSksXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoXCJiaW5kKCkgcmVxdWlyZXMgYSBmdW5jdGlvblwiKTt2YXIgbj1yLmNhbGwoYXJndW1lbnRzLDIpO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsbi5jb25jYXQoci5jYWxsKGFyZ3VtZW50cykpKX19fSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIHIodCl7dD10fHx7fSx0aGlzLm1zPXQubWlufHwxMDAsdGhpcy5tYXg9dC5tYXh8fDFlNCx0aGlzLmZhY3Rvcj10LmZhY3Rvcnx8Mix0aGlzLmppdHRlcj10LmppdHRlcj4wJiZ0LmppdHRlcjw9MT90LmppdHRlcjowLHRoaXMuYXR0ZW1wdHM9MH10LmV4cG9ydHM9cixyLnByb3RvdHlwZS5kdXJhdGlvbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMubXMqTWF0aC5wb3codGhpcy5mYWN0b3IsdGhpcy5hdHRlbXB0cysrKTtpZih0aGlzLmppdHRlcil7dmFyIGU9TWF0aC5yYW5kb20oKSxyPU1hdGguZmxvb3IoZSp0aGlzLmppdHRlcip0KTt0PTA9PSgxJk1hdGguZmxvb3IoMTAqZSkpP3Qtcjp0K3J9cmV0dXJuIDB8TWF0aC5taW4odCx0aGlzLm1heCl9LHIucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5hdHRlbXB0cz0wfSxyLnByb3RvdHlwZS5zZXRNaW49ZnVuY3Rpb24odCl7dGhpcy5tcz10fSxyLnByb3RvdHlwZS5zZXRNYXg9ZnVuY3Rpb24odCl7dGhpcy5tYXg9dH0sci5wcm90b3R5cGUuc2V0Sml0dGVyPWZ1bmN0aW9uKHQpe3RoaXMuaml0dGVyPXR9fV0pfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zb2NrZXQuaW8uc2xpbS5qcy5tYXBcbiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsIlxuaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tIFwiZXZlbnRlbWl0dGVyM1wiO1xuaW1wb3J0IHsgZ2VuZXJhdGVMb2dnZXJJbnN0YW5jZSwgbG9nZ2VyIH0gZnJvbSAnLi93ZWIvbG9nL2xvZ2dlcic7XG5pbXBvcnQgeyBwcm9qZWN0TmFtZSwgdmVyc2lvbiB9IGZyb20gJy4uL2NvbmZpZyc7XG4vLyBPY3RvcHVzUlRDIGFzIE9jdG9wdXNDbGllbnQsIFxuaW1wb3J0IHtcbiAgICBPY3RvcHVzQ2xpZW50VGVzdCBhcyBPY3RvcHVzQ2xpZW50LFxuICAgIHNvdXJjZUNhbWVyYSxcbiAgICBvY3RvcHVzQ2xpZW50T3B0aW9ucyxcbiAgICBtaXhTdHJlYW1Db25maWdcbn0gZnJvbSBcIi4vd2ViL09jdG9wdXNSVEMtQ29yZVwiO1xuaW1wb3J0IHtcbiAgICBsb2dpblN1Y2Nlc3NSZXN1bHQsXG4gICAgc3RyZWFtU3RhdGUsXG4gICAgY2hhbmdlQ29uc3RyYWludHNSZXN1bHQsXG4gICAgZXJyTXNnXG59IGZyb20gJy4vY29tbW9uL2V4cG9ydEludGVyZmFjZSc7XG5pbXBvcnQgeyB0eXBlIH0gZnJvbSAnLi93ZWIvZGV2aWNlL2hhbmRsZXJzL3N0YXRzL1N0YXRpc3RpY3MnO1xuaW1wb3J0IE1lZGlhRGV2aWNlSW5mb0NhdGVnb3J5IGZyb20gXCIuL3dlYi9kZXZpY2UvTWVkaWFEZXZpY2VJbmZvQ2F0ZWdvcnlcIjsgXG5pbXBvcnQgeyBSZWNvcmRNZWRpYXN0cmVhbSwgIFJlY29yZE1lZGlhc3RyZWFtT3B0aW9ucyB9IGZyb20gJy4vd2ViL21lZGlhL1JlY29yZCc7XG5cbmNsYXNzIE9jdG9wdXNSVEMgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICAgIHByaXZhdGUgX3Jvb21JZDogc3RyaW5nID0gJyc7XG4gICAgcHJpdmF0ZSBfdXNlcklkOiBzdHJpbmcgPSAnJztcbiAgICBwcml2YXRlIF91c2VyTmFtZTogc3RyaW5nID0gJyc7XG4gICAgcHJpdmF0ZSBfb2N0b3B1c0NvbmZpZzogbnVsbCB8IG9jdG9wdXNDbGllbnRPcHRpb25zID0gbnVsbDtcbiAgICBwcml2YXRlIF9vY3RvcHVzQ2xpZW50OiBudWxsIHwgT2N0b3B1c0NsaWVudCA9IG51bGw7XG4gICAgcHJpdmF0ZSBfYXBwSWQ6IHN0cmluZyA9ICcnO1xuICAgIHByaXZhdGUgX2VudjogJ3Rlc3QnIHwgJ3Byb2QnIHwgJ2RldicgPSAncHJvZCc7XG4gICAgcHJpdmF0ZSBfdHlwZTogJ2NoaW5hJyB8ICdpbnRlcm5hdGlvbmFsJyB8IG51bGwgPSBudWxsO1xuICAgIHByaXZhdGUgX2N1c3RvbUVkZ2VVcmw6IHN0cmluZyA9ICcnO1xuICAgIHByaXZhdGUgX3ZlcnNpb246IHN0cmluZyA9IHZlcnNpb247XG4gICAgcHJpdmF0ZSBfbG9nZ2VyOiBhbnkgPSBudWxsO1xuICAgIHByaXZhdGUgX3JlY29yZDogUmVjb3JkTWVkaWFzdHJlYW0gfCBudWxsID0gbnVsbDtcbiAgICBwcml2YXRlIF9hcHBQYWNrYWdlTmFtZTogc3RyaW5nID0gJyc7XG4gICAgLyoqXG4gICAgKiBkZXMt5Yib5bu6T2N0b3B1c1JUQ+WunuS+iy1kZXNcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBhcHBJZCAtIGFwcElkXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkIC0g55So5oi355qEdXNlcklkXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gW2Vudj1wcm9kXSAtIFNES+eOr+Wig+mAieaLqVxuICAgICogQHBhcmFtIHtzdHJpbmd9IFt0eXBlPWludGVybmF0aW9uYWxdIC0g6IqC54K5546v5aKD6YCJ5oupXG4gICAgKiBAcGFyYW0ge251bWJlcn0gW2xvZ0xldmVsXSAtIOaXpeW/l+e6p+WIq1xuICAgICogQHBhcmFtIHtzdHJpbmd9IFt1c2VyTmFtZV0gLSDnlKjmiLflkI3np7BcbiAgICAqIFxuICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogb2N0b3B1c0NsaWVudE9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgaWYgKCFvcHRpb25zLmFwcElkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2FwcElkIGNhbiBub3QgYmUgZW1wdHkuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFvcHRpb25zLnVzZXJJZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1c2VySWQgY2FuIG5vdCBiZSBlbXB0eS4nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl91c2VySWQgPSBvcHRpb25zLnVzZXJJZDtcbiAgICAgICAgdGhpcy5fYXBwSWQgPSBvcHRpb25zLmFwcElkO1xuICAgICAgICBpZiAob3B0aW9ucyAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy51c2VyTmFtZSAhPT0gdm9pZCAwKSAgICB7IHRoaXMuX3VzZXJOYW1lID0gb3B0aW9ucy51c2VyTmFtZTsgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuZW52ICE9PSB2b2lkIDAgKSAgICAgICAgeyB0aGlzLl9lbnYgPSBvcHRpb25zLmVudjt9O1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMudHlwZSAhPT0gdm9pZCAwICkgICAgICAgeyB0aGlzLl90eXBlID0gb3B0aW9ucy50eXBlO307XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5lZGdlVXJsICE9PSB2b2lkIDApICAgICB7IHRoaXMuX2N1c3RvbUVkZ2VVcmwgPSBvcHRpb25zLmVkZ2VVcmw7IH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmFwcFBhY2thZ2VOYW1lICE9PSB2b2lkIDApIHsgdGhpcy5fYXBwUGFja2FnZU5hbWUgPSBvcHRpb25zLmFwcFBhY2thZ2VOYW1lIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgZ2VuZXJhdGVMb2dnZXJJbnN0YW5jZSh7XG4gICAgICAgICAgICBhcHBJZDogdGhpcy5fYXBwSWQsXG4gICAgICAgICAgICB1c2VySWQ6IHRoaXMuX3VzZXJJZFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fbG9nZ2VyID0gbG9nZ2VyLmNvbGxlY3Q7XG5cbiAgICAgICAgLy8g6LCD6K+V6Zi25q616buY6K6k5LiK5Lyg5pel5b+XLS0t5rWL6K+VXG4gICAgICAgIC8vIHRoaXMuX2xvZ2dlci5lbmFibGVMb2dVcGxvYWQoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHJvb21JZCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fcm9vbUlkO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgdXNlcklkKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl91c2VySWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCB1c2VyTmFtZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fdXNlck5hbWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCB2ZXJzaW9uKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl92ZXJzaW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGRlcy3liKTmlq3mtY/op4jlmajmmK/lkKbmlK/mjIFXZWJSVEMtZGVzXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBzdGF0aWMgaXNTdXBwb3J0ZWQoKSB7XG4gICAgICAgIGNvbnN0IHJ0Y29ubmVjdGlvbiA9IHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbiB8fCB3aW5kb3cud2Via2l0UlRDUGVlckNvbm5lY3Rpb247XG4gICAgICAgIGNvbnN0IG1lZGlhID0gbmF2aWdhdG9yLmdldFVzZXJNZWRpYSB8fCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzICYmIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhO1xuICAgICAgICBjb25zdCBzb2NrZXQgPSB3aW5kb3cuV2ViU29ja2V0O1xuICAgICAgICByZXR1cm4gISFydGNvbm5lY3Rpb24gJiYgISFtZWRpYSAmJiAhIXNvY2tldDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIGRlcy3liJ3lp4vljJZTREstZGVzXG4gICAgICovXG4gICAgcHVibGljIGluaXQoKTogdm9pZCB7XG4gICAgICAgIGlmICghcHJvamVjdE5hbWUgJiYgIXRoaXMuX3R5cGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndHlwZSBjYW4gbm90IGJlIGVtcHR5LicpO1xuICAgICAgICB9IFxuICAgICAgICBsZXQgcHJvamVjdCA9IHByb2plY3ROYW1lO1xuICAgICAgICBpZiAodGhpcy5fdHlwZSkgeyBwcm9qZWN0ID0gdGhpcy5fdHlwZSA9PSAnY2hpbmEnID8gJ2NtJyA6ICdsaXZlbWUnOyB9XG4gICAgICAgIHRoaXMuX29jdG9wdXNDb25maWcgPSB7XG4gICAgICAgICAgICBhcHBJZDogdGhpcy5fYXBwSWQsXG4gICAgICAgICAgICBlbnY6IHRoaXMuX2VudixcbiAgICAgICAgICAgIHByb2plY3ROYW1lOiBwcm9qZWN0LFxuICAgICAgICAgICAgdXNlcklkOiB0aGlzLl91c2VySWQsIFxuICAgICAgICAgICAgdXNlck5hbWU6IHRoaXMuX3VzZXJOYW1lLCBcbiAgICAgICAgICAgIGN1c3RvbUVkZ2VVcmw6IHRoaXMuX2N1c3RvbUVkZ2VVcmxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fb2N0b3B1c0NsaWVudCA9IG5ldyBPY3RvcHVzQ2xpZW50KHRoaXMuX29jdG9wdXNDb25maWcpO1xuICAgICAgICB0aGlzLl9sb2dnZXIuaW5mbygnaW5pdCBwYXJhbXMnLCB0aGlzLl9vY3RvcHVzQ29uZmlnKTtcbiAgICAgICAgdGhpcy5ldmVudGVtaXRGdW5jdGlvbnMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBkZXMt55m75b2V5oi/6Ze0LWRlc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSByb29tSWQgLSDmiL/pl7RpZFxuICAgICAqIEBwYXJhbSB7KDEgfCAyKX0gcm9sZSAtIOinkuiJslxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhdXRoIC0g6Ym05p2D562+5ZCN5YC8XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cGlyZSAtIOi/h+acn+aXtumXtOaIs1xuICAgICAqIEByZXR1cm4ge0FycmF5IHwgZXJyTXNnfSAgeyhQcm9taXNlPHN0cmVhbUxpc3RbXSB8IGVyck1zZz4pfVxuICAgICAqIEBtZW1iZXJvZiBPY3RvcHVzUlRDXG4gICAgICovXG4gICAgcHVibGljIGFzeW5jIGxvZ2luKHJvb21JZDogc3RyaW5nLCByb2xlOiAxIHwgMiwgYXV0aDogc3RyaW5nLCBleHBpcmU6IHN0cmluZyk6IFByb21pc2U8bG9naW5TdWNjZXNzUmVzdWx0W10gfCBlcnJNc2c+IHtcbiAgICAgICAgdGhpcy5fbG9nZ2VyLmluZm8oJ2xvZ2luIHN0YXJ0JywgeyByb29tSWQsIHJvbGUsIGF1dGgsIGV4cGlyZSB9KTtcbiAgICAgICAgdGhpcy5fcm9vbUlkID0gcm9vbUlkO1xuICAgICAgICBpZiAoIXRoaXMuX29jdG9wdXNDbGllbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignT2N0b3B1c1JUQyBpcyBub3QgYSBpbnN0YW5jZS4nKVxuICAgICAgICB9XG4gICAgICAgIGxldCByZXN1bHQ6IGxvZ2luU3VjY2Vzc1Jlc3VsdFtdID0gW107XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzdHJlYW1MaXN0ID0gYXdhaXQgdGhpcy5fb2N0b3B1c0NsaWVudC5sb2dpbih0aGlzLl9hcHBQYWNrYWdlTmFtZSwgdGhpcy5fcm9vbUlkLCByb2xlLCBhdXRoLCBleHBpcmUpO1xuICAgICAgICAgICAgaWYgKCEoJ2NvZGUnIGluIHN0cmVhbUxpc3QpKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBzdHJlYW0gb2Ygc3RyZWFtTGlzdCBhcyBsb2dpblN1Y2Nlc3NSZXN1bHRbXSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW1JZDogc3RyZWFtLnN0cmVhbUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcklkOiBzdHJlYW0udXNlcklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgcm9vbUlkOiBzdHJlYW0ucm9vbUlkXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmluZm8oJ2xvZ2luIHN1Y2Nlc3MnLCByZXN1bHQpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSBjYXRjaChyZWFzb24pe1xuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmluZm8oJ2xvZ2luIGZhaWxlZCcsIHJlYXNvbik7XG4gICAgICAgICAgICByZXR1cm4gcmVhc29uO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRoaXMuX2xvZ2dlci5kZWJ1ZygnbG9naW4gcmVzdWx0Jywgc3RyZWFtTGlzdCk7XG5cbiAgICAgICAgLy8gaWYgKCdjb2RlJyBpbiBzdHJlYW1MaXN0KSB7XG4gICAgICAgIC8vICAgICByZXR1cm4gc3RyZWFtTGlzdDtcbiAgICAgICAgLy8gfSBlbHNlIHtcbiAgICAgICAgLy8gICAgIGZvciAoY29uc3Qgc3RyZWFtIG9mIHN0cmVhbUxpc3QpIHtcbiAgICAgICAgLy8gICAgICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgIC8vICAgICAgICAgICAgIHN0cmVhbUlkOiBzdHJlYW0uc3RyZWFtSWQsXG4gICAgICAgIC8vICAgICAgICAgICAgIHVzZXJJZDogc3RyZWFtLnVzZXJJZCxcbiAgICAgICAgLy8gICAgICAgICAgICAgcm9vbUlkOiBzdHJlYW0ucm9vbUlkXG4gICAgICAgIC8vICAgICAgICAgfSlcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gfVxuICAgICAgICAvLyByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGRlcy3nmbvlh7rmiL/pl7QtZGVzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgT2N0b3B1c1JUQ1xuICAgICAqL1xuICAgIHB1YmxpYyBsb2dvdXQoKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5fb2N0b3B1c0NsaWVudCkgeyBcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignT2N0b3B1c1JUQyBpcyBub3QgYSBpbnN0YW5jZS4nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLl9sb2dnZXIuZGlzYWJsZUxvZ1VwbG9hZCgpO1xuICAgICAgICB0aGlzLl9vY3RvcHVzQ2xpZW50LmxvZ291dCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEB0eXBlZGVmIHZpZGVvUXVhbGl0eVxuICAgICAqIEB0eXBlIHsxfDJ8M3w0fVxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSAxIC0g5YiG6L6o546HOiAzMjAgKiAyNDAsIOW4p+eOhzogMTUsIOeggeeOhzogMzAwXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IDIgLSDliIbovqjnjoc6IDY0MCAqIDQ4MCwg5bin546HOiAxNSwg56CB546HOiA4MDBcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gMyAtIOWIhui+qOeOhzogMTI4MCAqIDcyMCwg5bin546HOiAyMCwg56CB546HOiAxNTAwXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IDQgLSDliIbovqjnjoc6IHdpZHRoICogaGVpZ2h0LCDluKfnjoc6IGZyYW1lUmF0ZSwg56CB546HOiBiaXRSYXRlKGspXG4gICAgKi9cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW3NvdXJjZV0gLSDop4bpopHmupDnsbvlnotcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW3NvdXJjZS5jYW1lcmFdIC0g5pGE5YOP5aS0XG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtzb3VyY2Uuc2NyZWVuXSAtIOWxj+W5leWFseS6q1xuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbc291cmNlLmN1c3RvbV0gLSDoh6rlrprkuYnmtYFcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzb3VyY2UuY2FtZXJhLmF1ZGlvXSAtIOaYr+WQpuW8gOWQr+mfs+mikVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NvdXJjZS5jYW1lcmEudmlkZW9dIC0g5piv5ZCm5byA5ZCv6KeG6aKRXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzb3VyY2UuY2FtZXJhLmF1ZGlvSW5wdXRdIC0g6Z+z6aKR6L6T5YWl6K6+5aSHXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzb3VyY2UuY2FtZXJhLmF1ZGlvQml0cmF0ZV0gLSDpn7PpopHnoIHnjodcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NvdXJjZS5jYW1lcmEudmlkZW9JbnB1dF0gLSDop4bpopHovpPlhaXorr7lpIdcbiAgICAgKiBAcGFyYW0gezF8MnwzfDR9IFtzb3VyY2UuY2FtZXJhLnZpZGVvUXVhbGl0eV0gLSDop4bpopHotKjph48gXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzb3VyY2UuY2FtZXJhLmZhY2luZ01vZGVdIC0g5YiH5o2i5pGE5YOP5aS077yI56e75Yqo56uv77yJXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzb3VyY2UuY2FtZXJhLndpZHRoXSAtIOWuvVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc291cmNlLmNhbWVyYS5oZWlnaHRdIC0g6auYXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzb3VyY2UuY2FtZXJhLmZyYW1lUmF0ZV0gLSDluKfnjodcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NvdXJjZS5jYW1lcmEuYml0cmF0ZV0gLSDnoIHnjodcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzb3VyY2UuY2FtZXJhLkFHQ10gLSDoh6rliqjlop7nm4pcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzb3VyY2UuY2FtZXJhLkFOU10gLSDlm57lo7DmtojpmaRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzb3VyY2UuY2FtZXJhLkFFQ10gLSDpmY3lmapcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzb3VyY2Uuc2NyZWVuLmF1ZGlvXSAtICjlhbHkuqvlsY/luZUp5piv5ZCm5byA5ZCv6Z+z6aKRXG4gICAgICogQHBhcmFtIHsxfDJ8M3w0fSBbc291cmNlLnNjcmVlbi52aWRlb1F1YWxpdHldIC0g6KeG6aKR6LSo6YeP6K6+572uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzb3VyY2Uuc2NyZWVuLmZyYW1lUmF0ZV0gLSDluKfnjodcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NvdXJjZS5zY3JlZW4uYml0cmF0ZV0gLSDnoIHnjodcbiAgICAgKiBAcGFyYW0ge01lZGlhU3RyZWFtfSBzb3VyY2UuY3VzdG9tLnNvdXJjZSAtIOinhumikea1gVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc291cmNlLmN1c3RvbS5iaXRyYXRlXSAtIOeggeeOh1xuICAgICAqIEByZXR1cm4ge21lZGlhc3RyZWFtfSAge1Byb21pc2U8TWVkaWFTdHJlYW0+fVxuICAgICAqIGRlcy3liJvlu7rmtYFcbiAgICAgKiBAbWVtYmVyb2YgT2N0b3B1c1JUQ1xuICAgICAqL1xuICAgIHB1YmxpYyBhc3luYyBjcmVhdGVTdHJlYW0oc291cmNlOiBhbnkpOiBQcm9taXNlPE1lZGlhU3RyZWFtPiB7XG4gICAgICAgIHRoaXMuX2xvZ2dlci5pbmZvKCdjcmVhdGVTdHJlYW0gcGFyYW1zJywgc291cmNlKTtcbiAgICAgICAgcmV0dXJuICh0aGlzLl9vY3RvcHVzQ2xpZW50IGFzIE9jdG9wdXNDbGllbnQpLmNyZWF0ZVN0cmVhbShzb3VyY2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGRlcy3liKDpmaTmtYEtZGVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge01lZGlhU3RyZWFtfSBtZWRpYXN0cmVhbVxuICAgICAqIEBtZW1iZXJvZiBPY3RvcHVzUlRDXG4gICAgICovXG4gICAgcHVibGljIGRlc3Ryb3lTdHJlYW0obWVkaWFzdHJlYW06IE1lZGlhU3RyZWFtKSB7XG4gICAgICAgIGlmICghdGhpcy5fb2N0b3B1c0NsaWVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPY3RvcHVzUlRDIGlzIG5vdCBhIGluc3RhbmNlLicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX29jdG9wdXNDbGllbnQuZGVzdHJveVN0cmVhbShtZWRpYXN0cmVhbSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZGVzLeW8gOWni+aOqOa1gS1kZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJlYW1JZCAtIOa1gWlkXG4gICAgICogQHBhcmFtIHtNZWRpYVN0cmVhbX0gbWVkaWFFbGVtZW50IC0g5rWBXG4gICAgICogQHJldHVybiB7dm9pZH0gIHtQcm9taXNlPHZvaWQ+fVxuICAgICAqIEBtZW1iZXJvZiBPY3RvcHVzUlRDXG4gICAgICovXG4gICAgcHVibGljIGFzeW5jIHN0YXJ0UHVibGlzaGluZ1N0cmVhbShzdHJlYW1JZDogc3RyaW5nLCBtZWRpYUVsZW1lbnQ6IE1lZGlhU3RyZWFtLCBleHRyYUluZm8/OiBhbnksIHB1Ymxpc2hPcHRpb24/OiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5fbG9nZ2VyLmluZm8oJ3N0YXJ0IHB1Ymxpc2ggc3RyZWFtJywgeyBzdHJlYW1JZCwgbWVkaWFFbGVtZW50IH0pO1xuICAgICAgICBpZiAodGhpcy5fb2N0b3B1c0NsaWVudCkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5fb2N0b3B1c0NsaWVudC5zdGFydFB1Ymxpc2hpbmdTdHJlYW0oc3RyZWFtSWQsIG1lZGlhRWxlbWVudCwgZXh0cmFJbmZvLCBwdWJsaXNoT3B0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGRlcy3lgZzmraLmjqjmtYEtZGVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyZWFtSWQgLSDmtYFpZFxuICAgICAqIEBtZW1iZXJvZiBPY3RvcHVzUlRDXG4gICAgICovXG4gICAgcHVibGljIHN0b3BQdWJsaXNoaW5nU3RyZWFtKHN0cmVhbUlkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fbG9nZ2VyLmluZm8oJ3N0b3AgcHVibGlzaCBzdHJlYW0nLCBzdHJlYW1JZCk7XG4gICAgICAgIGlmICh0aGlzLl9vY3RvcHVzQ2xpZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9vY3RvcHVzQ2xpZW50LnN0b3BQdWJsaXNoaW5nU3RyZWFtKHN0cmVhbUlkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGRlcy3lvIDlp4vmi4nmtYEtZGVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyZWFtSWQgLSDmtYFpZFxuICAgICAqIEByZXR1cm4ge3ZvaWR9ICB7KFByb21pc2U8TWVkaWFTdHJlYW0gfCB2b2lkPil9XG4gICAgICogQG1lbWJlcm9mIE9jdG9wdXNSVENcbiAgICAgKi9cbiAgICBwdWJsaWMgYXN5bmMgc3RhcnRQbGF5aW5nU3RyZWFtKHN0cmVhbUlkOiBzdHJpbmcsIGF1ZGlvT3V0cHV0PzogYW55LCBwbGF5T3B0aW9uPzogYW55KTogUHJvbWlzZTxNZWRpYVN0cmVhbSB8IHZvaWQ+IHtcbiAgICAgICAgdGhpcy5fbG9nZ2VyLmluZm8oJ3N0YXJ0IHBsYXkgc3RyZWFtLicsIHsgcHVsbHN0cmVhbVVzZXJJZDogc3RyZWFtSWQgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMuX29jdG9wdXNDbGllbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0cmVhbSAgPSBhd2FpdCAodGhpcy5fb2N0b3B1c0NsaWVudCBhcyBPY3RvcHVzQ2xpZW50KS5zdGFydFBsYXlpbmdTdHJlYW0oc3RyZWFtSWQsIGF1ZGlvT3V0cHV0LCBwbGF5T3B0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiBzdHJlYW07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBkZXMt5YGc5q2i5ouJ5rWBLWRlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmVhbUlkIC0g5rWBaWRcbiAgICAgKiBAbWVtYmVyb2YgT2N0b3B1c1JUQ1xuICAgICAqL1xuICAgIHB1YmxpYyBzdG9wUGxheWluZ1N0cmVhbShzdHJlYW1JZDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX2xvZ2dlci5pbmZvKCdzdG9wIHBsYXkgc3RyZWFtJywgc3RyZWFtSWQpO1xuICAgICAgICBpZiAodGhpcy5fb2N0b3B1c0NsaWVudCkge1xuICAgICAgICAgICAgdGhpcy5fb2N0b3B1c0NsaWVudC5zdG9wUGxheWluZ1N0cmVhbShzdHJlYW1JZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBkZXMt5re35rWBLWRlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHttaXhTdHJlYW1Db25maWd9IG1peFN0cmVhbUNvbmZpZ1xuICAgICAqIEByZXR1cm4geyp9ICB7UHJvbWlzZTx2b2lkPn1cbiAgICAgKiBAbWVtYmVyb2YgT2N0b3B1c1JUQ1xuICAgICAqL1xuICAgIHB1YmxpYyB1cGRhdGVNaXhTdHJlYW0obWl4U3RyZWFtQ29uZmlnOiBtaXhTdHJlYW1Db25maWcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9vY3RvcHVzQ2xpZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb2N0b3B1c0NsaWVudC51cGRhdGVNaXhTdHJlYW0obWl4U3RyZWFtQ29uZmlnLCAocmVzOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXMpO1xuICAgICAgICAgICAgICAgIH0sICAoZXJyOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogZGVzLeabtOaUuea1gXRyYWNrLWRlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtNZWRpYVN0cmVhbX0gY3VycmVudFN0cmVhbVxuICAgICAqIEBwYXJhbSB7TWVkaWFTdHJlYW1UcmFja30gdHJhY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmVhbUlkXVxuICAgICAqIEBtZW1iZXJvZiBPY3RvcHVzUlRDXG4gICAgICovXG4gICAgcHVibGljIHJlcGxhY2VUcmFjayhjdXJyZW50U3RyZWFtOiBNZWRpYVN0cmVhbSwgdHJhY2s6IE1lZGlhU3RyZWFtVHJhY2ssIHN0cmVhbUlkPzogc3RyaW5nKSB7XG4gICAgICAgIGlmICghdGhpcy5fb2N0b3B1c0NsaWVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPY3RvcHVzUlRDIGlzIG5vdCBhIGluc3RhbmNlLicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX29jdG9wdXNDbGllbnQucmVwbGFjZVRyYWNrKGN1cnJlbnRTdHJlYW0sIHRyYWNrLCBzdHJlYW1JZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZGVzLeabtOaUuee6puadn+OAgeiuvuWkhy1kZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TWVkaWFTdHJlYW19IGN1cnJlbnRTdHJlYW1cbiAgICAgKiBAcGFyYW0geygnYXVkaW8nIHwgJ3ZpZGVvJyl9IHR5cGVcbiAgICAgKiBAcGFyYW0gQHR5cGUgeyhNZWRpYVRyYWNrQ29uc3RyYWludHMgfCBzb3VyY2VDYW1lcmEpfSBjb25zdHJhaW5zXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJlYW1JZF1cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSAgeyhQcm9taXNlPGVyck1zZyB8IHZvaWQ+KX1cbiAgICAgKiBAbWVtYmVyb2YgT2N0b3B1c1JUQ1xuICAgICAqL1xuICAgIHB1YmxpYyBhc3luYyBjaGFuZ2VDb25zdHJhaW50cyhcbiAgICAgICAgY3VycmVudFN0cmVhbTogTWVkaWFTdHJlYW0sXG4gICAgICAgIHR5cGU6ICdhdWRpbycgfCAndmlkZW8nLCBcbiAgICAgICAgY29uc3RyYWluczogTWVkaWFUcmFja0NvbnN0cmFpbnRzICYgc291cmNlQ2FtZXJhLFxuICAgICAgICBzdHJlYW1JZD86IHN0cmluZyxcbiAgICApOiBQcm9taXNlPGVyck1zZyB8IHZvaWQ+IHtcbiAgICAgICAgaWYgKHRoaXMuX29jdG9wdXNDbGllbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9vY3RvcHVzQ2xpZW50LmNoYW5nZUNvbnN0cmFpbnRzKGN1cnJlbnRTdHJlYW0sIHR5cGUsIGNvbnN0cmFpbnMsIHN0cmVhbUlkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGRlcy3lvIDlkK/pnZnpn7MtZGVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyZWFtSWQgLSDmtYFpZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXV0ZSAtIOaYr+WQpumdmemfs1xuICAgICAqIEBtZW1iZXJvZiBPY3RvcHVzUlRDXG4gICAgICovXG4gICAgcHVibGljIG11dGVTd2l0Y2goc3RyZWFtSWQ6IHN0cmluZywgbXV0ZTogYm9vbGVhbikge1xuICAgICAgICBpZiAodGhpcy5fb2N0b3B1c0NsaWVudCkge1xuICAgICAgICAgICAgdGhpcy5fb2N0b3B1c0NsaWVudC5tdXRlU3dpdGNoKHN0cmVhbUlkLCBtdXRlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBcbiAgICAgKiBkZXMt5YiH5o2i5pGE5YOP5aS0LWRlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmVhbUlkIC0g5rWBaWRcbiAgICAgKiBAcGFyYW0geygnY2xvc2UnIHwgJ29wZW4nKX0gc3RhdGUgLSDmkYTlg4/lpLTnirbmgIFcbiAgICAgKiBAbWVtYmVyb2YgT2N0b3B1c1JUQ1xuICAgICAqL1xuICAgIHB1YmxpYyBjYW1lcmFTd2l0Y2goc3RyZWFtSWQ6IHN0cmluZywgc3RhdGU6ICdjbG9zZScgfCAnb3BlbicpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9vY3RvcHVzQ2xpZW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09jdG9wdXNSVEMgaXMgbm90IGEgaW5zdGFuY2UuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fb2N0b3B1c0NsaWVudC5jYW1lcmFTd2l0Y2goc3RyZWFtSWQsIHN0YXRlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBkZXMt6I635Y+W5pys5Zyw6Z+z6aKR57uf6K6h5pWw5o2uLWRlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmVhbUlkXG4gICAgICogQHJldHVybiB7TG9jYWxBdWRpb1RyYWNrU3RhdHN9IFxuICAgICAqIEBtZW1iZXJvZiBPY3RvcHVzUlRDXG4gICAgICovXG4gICAgcHVibGljIGFzeW5jIGdldExvY2FsQXVkaW9TdGF0cyhzdHJlYW1JZDogc3RyaW5nKSB7XG4gICAgICAgIGlmICghdGhpcy5fb2N0b3B1c0NsaWVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPY3RvcHVzUlRDIGlzIG5vdCBhIGluc3RhbmNlLicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9vY3RvcHVzQ2xpZW50LmdldE1lZGlhU3RyZWFtVHJhY2tTdGF0cyhzdHJlYW1JZCwgdHlwZS5Mb2NhbEF1ZGlvKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBkZXMt6I635Y+W5pys5Zyw6KeG6aKR57uf6K6h5pWw5o2uLWRlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmVhbUlkXG4gICAgICogQHJldHVybiB7TG9jYWxWaWRlb1RyYWNrU3RhdHN9IFxuICAgICAqIEBtZW1iZXJvZiBPY3RvcHVzUlRDXG4gICAgICovXG4gICAgcHVibGljIGFzeW5jIGdldExvY2FsVmlkZW9TdGF0cyhzdHJlYW1JZDogc3RyaW5nKSB7XG4gICAgICAgIGlmICghdGhpcy5fb2N0b3B1c0NsaWVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPY3RvcHVzUlRDIGlzIG5vdCBhIGluc3RhbmNlLicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9vY3RvcHVzQ2xpZW50LmdldE1lZGlhU3RyZWFtVHJhY2tTdGF0cyhzdHJlYW1JZCwgdHlwZS5Mb2NhbFZpZGVvKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBkZXMt6I635Y+W6L+c56uv6Z+z6aKR57uf6K6h5pWw5o2uLWRlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmVhbUlkXG4gICAgICogQHJldHVybiB7UmVtb3RlQXVkaW9UcmFja1N0YXRzfSBcbiAgICAgKiBAbWVtYmVyb2YgT2N0b3B1c1JUQ1xuICAgICAqL1xuICAgIHB1YmxpYyBhc3luYyBnZXRSZW1vdGVBdWRpb1N0YXRzKHN0cmVhbUlkOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9vY3RvcHVzQ2xpZW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09jdG9wdXNSVEMgaXMgbm90IGEgaW5zdGFuY2UuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX29jdG9wdXNDbGllbnQuZ2V0TWVkaWFTdHJlYW1UcmFja1N0YXRzKHN0cmVhbUlkLCB0eXBlLlJlbW90ZUF1ZGlvKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKmRlcy3ojrflj5bov5znq6/op4bpopHnu5/orqHmlbDmja4tZGVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyZWFtSWRcbiAgICAgKiBAcmV0dXJuIHtSZW1vdGVWaWRlb1RyYWNrU3RhdHN9IFxuICAgICAqIEBtZW1iZXJvZiBPY3RvcHVzUlRDXG4gICAgICovXG4gICAgcHVibGljIGFzeW5jIGdldFJlbW90ZVZpZGVvU3RhdHMoc3RyZWFtSWQ6IHN0cmluZykge1xuICAgICAgICBpZiAoIXRoaXMuX29jdG9wdXNDbGllbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignT2N0b3B1c1JUQyBpcyBub3QgYSBpbnN0YW5jZS4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fb2N0b3B1c0NsaWVudC5nZXRNZWRpYVN0cmVhbVRyYWNrU3RhdHMoc3RyZWFtSWQsIHR5cGUuUmVtb3RlVmlkZW8pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqZGVzLeW9leWItuacrOWcsOinhumikS1kZXNcbiAgICAgKiBAcGFyYW0ge21lZGlhc3RyZWFtfSAtIOWqkuS9k+a1gVxuICAgICAqIEBwYXJhbSB7UmVjb3JkTWVkaWFzdHJlYW1PcHRpb25zfSAtIOW9leWItuWqkuS9k+WPguaVsFxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IC0gcmVjb3Jk5a6e5L6LKOiwg+eUqHN0YXJ0UmVjb3JkKCnlvIDlp4vlvZXliLbvvIwgc3RvcFJlY29yZCgp57uT5p2f5b2V5Yi277yMZG93blJlY29yZCgp5LiL6L295b2V5Yi2KVxuICAgICAqIEBtZW1iZXJvZiBPY3RvcHVzUlRDXG4gICAgICovXG4gICAgcHVibGljIGluaXRSZWNvcmQobWVkaWFzdHJlYW06IE1lZGlhU3RyZWFtLCB7IG1pbWVUeXBlLCBjb2RlYyB9OiBSZWNvcmRNZWRpYXN0cmVhbU9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5fcmVjb3JkID0gbmV3IFJlY29yZE1lZGlhc3RyZWFtKG1lZGlhc3RyZWFtLCB7XG4gICAgICAgICAgICBjb2RlYyxcbiAgICAgICAgICAgIG1pbWVUeXBlXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVjb3JkO1xuICAgIH1cblxuICAgIHByaXZhdGUgZXZlbnRlbWl0RnVuY3Rpb25zKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogVGhyb3cgYSBzdHJlYW0tdXBkYXRlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZmlyZXMgT2N0b3B1c1JUQyNzdHJlYW0tdXBkYXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIFxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHRoaXMuX29jdG9wdXNDbGllbnQpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQHR5cGVkZWYgc3RyYW1TdGF0ZVJlc3VsdFxuICAgICAgICAgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGNvZGUgLSDmoIfor4bnoIEgMTog5o6oKOaLiSnmtYHmiJDlip87IDExOiDmlq3nvZHph43ov57mjqgo5ouJKea1geaIkOWKn++8jOeUqOS6jumAmuefpeS4muWKoeerr+abtOaUueaSreaUvuWZqOeKtuaAgeetiTsgMDog5o6oKOaLiSnmtYHlpLHotKVcbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBzdHJlYW1JZCAtIOa1gUlkXG4gICAgICAgICAgICAgKiBAcHJvcGVydHkge3N0cmluZ30gc3RhdGUgLSBQVUJMSVNISU5HOiDmraPlnKjmjqjmtYE7IFBMQVlJTkc6IOato+WcqOaLiea1gTsgTk9fUFVCTElTSDog5o6o5rWB5aSx6LSlOyBOT19QTEFZOiDmi4nmtYHlpLHotKVcbiAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLl9vY3RvcHVzQ2xpZW50Lm9uKCdAZ2V0cHVibGlzaHN0YXRlJywgKHJlc3VsdDoge1xuICAgICAgICAgICAgICAgIGNvZGU6IG51bWJlciwgXG4gICAgICAgICAgICAgICAgc3RyZWFtSWQ6IHN0cmluZywgXG4gICAgICAgICAgICAgICAgc3RhdGU6IHN0cmluZyBcbiAgICAgICAgICAgIH0pID0+IHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBkZXMt6I635Y+W5o6o5rWB54q25oCBIGV2ZW50LWRlc1xuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogQHNpbmNlIDIuMFxuICAgICAgICAgICAgICAgICAqIEBldmVudCBPY3RvcHVzUlRDI3B1Ymxpc2gtc3RhdGUtdXBkYXRlXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge3N0cmFtU3RhdGVSZXN1bHR9XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdwdWJsaXNoLXN0YXRlLXVwZGF0ZScsIHJlc3VsdCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5fb2N0b3B1c0NsaWVudC5vbignQGdldHBsYXlzdGF0ZScsIChyZXN1bHQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIGRlcy3ojrflj5bmi4nmtYHnirbmgIEgZXZlbnQtZGVzXG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiBAc2luY2UgMi4wXG4gICAgICAgICAgICAgICAgICogQGV2ZW50IE9jdG9wdXNSVEMjcGxheS1zdGF0ZS11cGRhdGVcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7c3RyYW1TdGF0ZVJlc3VsdH1cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ3BsYXktc3RhdGUtdXBkYXRlJywgcmVzdWx0KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLl9vY3RvcHVzQ2xpZW50Lm9uKCdAZ2V0c3RyZWFtdXBkYXRlJywgKHJlc3VsdDogeyBjb2RlOiBudW1iZXIsIHN0cmVhbUxpc3Q6IGxvZ2luU3VjY2Vzc1Jlc3VsdFtdIH0pID0+IHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBAdHlwZWRlZiBzdHJhbVVwZGF0ZVJlc3VsdFxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjb2RlIC0g5qCH6K+G56CBIDEg5Li65aKe5YqgIDDkuLrlh4/lsJFcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge0FycmF5Ljx7c3RyZWFtSWQ6IHN0cmluZywgdXNlcklkOiBzdHJpbmcsIHJvb21JZDogc3RyaW5nfT59IHN0cmVhbUxpc3QgLSDmtYHliJfooahcbiAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIGRlcy3mtYHlj5jljJbpgJrnn6UgZXZlbnQtZGVzXG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiBAc2luY2UgMi4wXG4gICAgICAgICAgICAgICAgICogQGV2ZW50IE9jdG9wdXNSVEMjc3RyZWFtLXVwZGF0ZVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtzdHJhbVVwZGF0ZVJlc3VsdH1cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ3N0cmVhbS11cGRhdGUnLCByZXN1bHQpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuX29jdG9wdXNDbGllbnQub24oJ0BnZXRkaXNjb25uZWN0JywgKHJlc3VsdDogZXJyTXNnKSA9PiB7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogZGVzLXdlYnNvY2tldCDmlq3lvIDpgJrnn6UgZXZlbnQtZGVzXG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiBAc2luY2UgMi4wXG4gICAgICAgICAgICAgICAgICogQGV2ZW50IE9jdG9wdXNSVEMjZGlzY29ubmVjdFxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtlcnJNc2d9XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdkaXNjb25uZWN0JywgcmVzdWx0KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLl9vY3RvcHVzQ2xpZW50Lm9uKCdAZ2V0a2lja291dCcsIChyZXN1bHQ6IHsgdXNlcklkOiBzdHJpbmcsIHJvb21JZDogc3RyaW5nLCByZWFzb246IG51bWJlciB9KSA9PiB7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQHR5cGVkZWYga2lja1Jlc3VsdFxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB1c2VySWQgLSDnlKjmiLdJZFxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSByb29tSWQgLSDmiL/pl7RJZFxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByZWFzb24gLSDplJnor6/noIFcbiAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIGRlcy3ouKLkurrpgJrnn6UgZXZlbnQtZGVzXG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiBAc2luY2UgMi4wXG4gICAgICAgICAgICAgICAgICogQGV2ZW50IE9jdG9wdXNSVEMja2ljay1vdXRcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7a2lja1Jlc3VsdH1cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2tpY2stb3V0JywgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ291dCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBkZXMt6K6+572u5pel5b+X562J57qnLWRlc1xuICAgICAqIEBwYXJhbSB7KDAgfCAxIHwgMiB8IDMgfCA0KX0gbGV2ZWwgLSDml6Xlv5fnrYnnuqcgMDogZGVidWcgMTogaW5mbyAyOiB3YXJuaW5nIDM6IGVycm9yIDQ6IG5vbmVcbiAgICAgKiBAbWVtYmVyb2YgT2N0b3B1c1JUQ1xuICAgICAqL1xuICAgIHB1YmxpYyBzZXRMb2dMZXZlbChsZXZlbDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX2xvZ2dlci5zZXRMb2dMZXZlbChsZXZlbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZGVzLeiuvue9ruW8gOWni+S4iuS8oOaXpeW/ly1kZXNcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBPY3RvcHVzUlRDXG4gICAgICovXG4gICAgcHVibGljIGVuYWJsZUxvZ1VwbG9hZCgpIHtcbiAgICAgICAgdGhpcy5fbG9nZ2VyLmVuYWJsZUxvZ1VwbG9hZCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGRlcy3orr7nva7lgZzmraLkuIrkvKDml6Xlv5ctZGVzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgT2N0b3B1c1JUQ1xuICAgICAqL1xuICAgIHB1YmxpYyBkaXNhYmxlTG9nVXBsb2FkKCkge1xuICAgICAgICB0aGlzLl9sb2dnZXIuZGlzYWJsZUxvZ1VwbG9hZCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBkZXZpY2VzTGlzdCgpOiBQcm9taXNlPE1lZGlhRGV2aWNlSW5mb0NhdGVnb3J5PiB7XG4gICAgICAgIHJldHVybiBuZXcgTWVkaWFEZXZpY2VJbmZvQ2F0ZWdvcnkoYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzKCkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBnZXRDYW1lcmFzTGlzdCgpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICBjb25zdCBjYW1lcmFzID0gKGF3YWl0IHRoaXMuZGV2aWNlc0xpc3QoKSkuY2FtZXJhcztcbiAgICAgICAgcmV0dXJuIGNhbWVyYXM7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIGdldE1pY3JvcGhvbmVzTGlzdCgpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICBjb25zdCBtaWNyb3Bob25lcyA9IChhd2FpdCB0aGlzLmRldmljZXNMaXN0KCkpLm1pY3JvcGhvbmVzO1xuICAgICAgICByZXR1cm4gbWljcm9waG9uZXM7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIGdldFNwZWFrZXJzTGlzdCgpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICBjb25zdCBzcGVha2VycyA9IChhd2FpdCB0aGlzLmRldmljZXNMaXN0KCkpLnNwZWFrZXJzO1xuICAgICAgICByZXR1cm4gc3BlYWtlcnM7XG4gICAgfVxufVxuLyoqXG4gKiBAZ2xvYmFsXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBlcnJNc2dcbiAqIEBhbGlhcyBlcnJNc2dcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjb2RlXG4gKiBAcHJvcGVydHkge3N0cmluZ30gbXNnXG4gKi9cblxuIC8qKlxuICAqIEBnbG9iYWxcbiAgKiBAdHlwZWRlZiB7T2JqZWN0fSBzb3VyY2VDYW1lcmFcbiAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGF1ZGlvIC0g5piv5ZCm5byA5ZCv6Z+z6aKRXG4gICogQHByb3BlcnR5IHtib29sZWFufSB2aWRlbyAtIOaYr+WQpuW8gOWQr+inhumikVxuICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBhdWRpb0lucHV0IC0g6Z+z6aKR6L6T5YWl6K6+5aSHXG4gICogQHByb3BlcnR5IHtzdHJpbmd9IHZpZGVvSW5wdXQgLSDop4bpopHovpPlhaXorr7lpIdcbiAgKiBAcHJvcGVydHkge251bWJlcn0gdmlkZW9RdWFsaXR5IC0g6KeG6aKR6LSo6YePXG4gICogQHByb3BlcnR5IHtzdHJpbmd9IGZhY2luZ01vZGUgLSDmkYTlg4/lpLTmnJ3lkJHvvIxcInVzZXJcIuihqOekuuWJjee9ruaRhOWDj+WktO+8jFwiZW52aXJvbm1lbnRcIuihqOekuuWQjue9ruaRhOWDj+WktFxuICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB3aWR0aCAtIOWuvVxuICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBoZWlnaHQgLSDpq5hcbiAgKiBAcHJvcGVydHkge251bWJlcn0gZnJhbWVSYXRlIC0g5bin546HXG4gICogQHByb3BlcnR5IHtudW1iZXJ9IGJpdHJhdGUgLSDnoIHnjodcbiAgKiBAcHJvcGVydHkge2Jvb2xlYW59IEFHQyAtIOiHquWKqOWinuebilxuICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gQU5TIC0g5Zue5aOw5raI6ZmkXG4gICogQHByb3BlcnR5IHtib29sZWFufSBBRUMgLSDpmY3lmapcbiAgKiBcbiovXG5cbi8qKlxuICogQGdsb2JhbFxuICogQHR5cGVkZWYge09iamVjdH0gTG9jYWxBdWRpb1RyYWNrU3RhdHMgXG4gKiBAcHJvcGVydHkge1wib3B1c1wiIHwgXCJhYWNcIn0gY29kZWNUeXBlIOe8lueggeexu+Wei1xuICogQHByb3BlcnR5IHtudW1iZXJ9IHNlbmRCaXRyYXRlIOmfs+mikeWPkemAgeeggeeOh1xuICogQHByb3BlcnR5IHtudW1iZXJ9IHNlbmRCeXRlcyDpn7PpopHlrZfoioJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzZW5kUGFja2V0cyDpn7PpopHlj5HpgIHljIXmlbBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzZW5kUGFja2V0c0xvc3Qg6Z+z6aKR5Lii5YyF5pWwXG4gKiBAcHJvcGVydHkge251bWJlcn0gIHNlbmRWb2x1bWVMZXZlbCDlo7Dpn7PnuqfliKtcbiAqL1xuXG4vKipcbiAqIEBnbG9iYWxcbiAqIEB0eXBlZGVmIHtPYmplY3R9IExvY2FsVmlkZW9UcmFja1N0YXRzIFxuICogQHByb3BlcnR5IHt1bmRlZmluZWQgfCBudW1iZXJ9IGNhcHR1cmVGcmFtZVJhdGUg6YeH6ZuG5bin546HXG4gKiBAcHJvcGVydHkge251bWJlcn0gY2FwdHVyZVJlc29sdXRpb25IZWlnaHQg6YeH6ZuG5YiG6L6o546H6auY5bqmXG4gKiBAcHJvcGVydHkge251bWJlcn0gY2FwdHVyZVJlc29sdXRpb25XaWR0aCDph4fpm4bliIbovqjnjoflrr3luqZcbiAqIEBwcm9wZXJ0eSB7XCJIMjY0XCIgfCBcIlZQOFwiIHwgXCJWUDlcIn0gY29kZWNUeXBlIOinhumikee8lueggeexu+Wei1xuICogQHByb3BlcnR5IHt1bmRlZmluZWQgfCBudW1iZXJ9IGVuY29kZURlbGF5IOe8lueggeW7tui/n1xuICogQHByb3BlcnR5IHtudW1iZXJ9IHNlbmRCaXRyYXRlIOWPkemAgeeggeeOh1xuICogQHByb3BlcnR5IHtudW1iZXJ9IHNlbmRCeXRlcyDlj5HpgIHlrZfoioJcbiAqIEBwcm9wZXJ0eSB7dW5kZWZpbmVkIHwgbnVtYmVyfSBzZW5kRnJhbWVSYXRlIOWPkemAgeW4p+eOh1xuICogQHByb3BlcnR5IHtudW1iZXJ9IHNlbmRQYWNrZXRzIOWPkemAgeWMhVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHNlbmRQYWNrZXRzTG9zdCDkuKLljIVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzZW5kUmVzb2x1dGlvbkhlaWdodCDlj5HpgIHliIbovqjnjofpq5jluqZcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzZW5kUmVzb2x1dGlvbldpZHRoIOWPkemAgeWIhui+qOeOh+WuveW6plxuICogQHByb3BlcnR5IHtudW1iZXJ9IHRhcmdldFNlbmRCaXRyYXRlIOebruagh+eggeeOh1xuICogQHByb3BlcnR5IHtudW1iZXJ9IHRvdGFsRHVyYXRpb24g6KeG6aKR5oC75pe26ZW/77yM5Y2V5L2N5Li656eSXG4gKiBAcHJvcGVydHkge251bWJlcn0gdG90YWxGcmVlemVUaW1lIOinhumikeaAu+WNoemhv+aXtumVv++8jOWNleS9jeS4uuenklxuICovXG5cbi8qKlxuICogQGdsb2JhbFxuICogQHR5cGVkZWYge09iamVjdH0gUmVtb3RlQXVkaW9UcmFja1N0YXRzXG4gKiBAcHJvcGVydHkge1wib3B1c1wiIHwgXCJhYWNcIn0gY29kZWNUeXBlIOe8lueggeexu+Wei1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGZyZWV6ZVJhdGUg5Y2h6aG/546HXG4gKiBAcHJvcGVydHkge251bWJlcn0gcGFja2V0TG9zc1JhdGUg5Lii5YyF546HXG4gKiBAcHJvcGVydHkge251bWJlcn0gcHVibGlzaER1cmF0aW9uIOWPkeW4g+aXtumVv1xuICogQHByb3BlcnR5IHtudW1iZXJ9IHJlY2VpdmVCaXRyYXRlIOaOpeaUtueggeeOh1xuICogQHByb3BlcnR5IHtudW1iZXJ9IHJlY2VpdmVCeXRlcyDmjqXmlLblrZfoioJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByZWNlaXZlRGVsYXkg5o6l5pS25bu26L+fXG4gKiBAcHJvcGVydHkge251bWJlcn0gcmVjZWl2ZURlbGF5IOmfs+mikee6p+WIq1xuICogQHByb3BlcnR5IHtudW1iZXJ9IHJlY2VpdmVQYWNrZXRzIOmfs+mikeWMhVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHJlY2VpdmVQYWNrZXRzTG9zdCDmjqXmlLbkuKLljIXnjodcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0b3RhbER1cmF0aW9uIOaOpeaUtuaXtumVv1xuICogQHByb3BlcnR5IHtudW1iZXJ9IHRvdGFsRnJlZXplVGltZSDpn7PpopHmgLvljaHpob/ml7bplb9cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0cmFuc3BvcnREZWxheSDkvKDovpPlu7bov59cbiAqL1xuXG4vKipcbiAqIEBnbG9iYWxcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFJlbW90ZVZpZGVvVHJhY2tTdGF0c1xuICogQHByb3BlcnR5IHtcIm9wdXNcIiB8IFwiYWFjXCJ9IGNvZGVjVHlwZSDnvJbnoIHnsbvlnotcbiAqIEBwcm9wZXJ0eSB7dW5kZWZpbmVkIHwgbnVtYmVyfSBkZWNvZGVGcmFtZVJhdGUg6Kej56CB5bin546HXG4gKiBAcHJvcGVydHkge251bWJlcn0gZnJlZXplUmF0ZSDljaHpob/njodcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBwYWNrZXRMb3NzUmF0ZSDkuKLljIXnjodcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByZWNlaXZlQml0cmF0ZSDmjqXmlLbnoIHnjodcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByZWNlaXZlQnl0ZXMg5o6l5pS25a2X6IqC5pWwXG4gKiBAcHJvcGVydHkge251bWJlcn0gcmVjZWl2ZURlbGF5IOaOpeaUtuW7tui/n1xuICogQHByb3BlcnR5IHt1bmRlZmluZWQgfCBudW1iZXJ9IHJlY2VpdmVGcmFtZVJhdGUg5o6l5pS25bin546HXG4gKiBAcHJvcGVydHkge251bWJlcn0gcmVjZWl2ZVBhY2tldHMg5o6l5pS25YyFXG4gKiBAcHJvcGVydHkge251bWJlcn0gcmVjZWl2ZVBhY2tldHNMb3N0IOaOpeaUtuS4ouWMhVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHJlY2VpdmVSZXNvbHV0aW9uSGVpZ2h0IOaOpeaUtuWIhui+qOeOh+mrmOW6plxuICogQHByb3BlcnR5IHtudW1iZXJ9IHJlY2VpdmVSZXNvbHV0aW9uV2lkdGgg5o6l5pS25YiG6L6o546H6auY5bqmXG4gKiBAcHJvcGVydHkge251bWJlcn0gcmVuZGVyRnJhbWVSYXRlIOa4suafk+W4p+eOh1xuICogQHByb3BlcnR5IHtudW1iZXJ9IHRvdGFsRHVyYXRpb24g5o6l5pS255qE6KeG6aKR5oC75pe26ZW/77yM5Y2V5L2N5Li656eS44CCXG4gKiBAcHJvcGVydHkge251bWJlcn0gdG90YWxGcmVlemVUaW1lIOaOpeaUtueahOinhumikeaAu+WNoemhv+aXtumVv++8jOWNleS9jeS4uuenkuOAglxuICogQHByb3BlcnR5IHtudW1iZXJ9IHRyYW5zcG9ydERlbGF5IOS7jui/nOerr+WPkemAgeinhumikeWIsOacrOWcsOaOpeaUtuinhumikeeahOW7tui/n+OAglxuKi9cblxuLyoqXG4gKiBAZ2xvYmFsXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBSZWNvcmRNZWRpYXN0cmVhbU9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBtaW1lVHlwZSBNSU1FVFlQRVxuICogQHByb3BlcnR5IHtzdHJpbmd9IGNvZGVjIOe8lueggeexu+Wei1xuKi9cblxuZXhwb3J0IGRlZmF1bHQgT2N0b3B1c1JUQzsiLCJleHBvcnQgdHlwZSBjb25maWdMaXN0ID0ge1xuXHQvLyBWRU5ET1JVUkw6IHN0cmluZztcblx0Q0VOVEVSVVJMOiBzdHJpbmc7XG5cdExPR1VSTDogc3RyaW5nO1xufVxuXG50eXBlIHByb2plY3RDb25maWcgPSB7XG5cdHRlc3Q6IGNvbmZpZ0xpc3QsXG5cdHByb2Q6IGNvbmZpZ0xpc3QsXG5cdGRldjogY29uZmlnTGlzdFxufVxuXG50eXBlIGRlZmF1bHRDb25maWcgPSB7XG5cdFtwcm9wTmFtZTogc3RyaW5nXTogcHJvamVjdENvbmZpZ1xufVxuXG5leHBvcnQgdHlwZSBjb25zdGFudENvbmZpZ1R5cGUgPSB7XG5cdFNUQVRTVVJMOiBzdHJpbmc7XG5cdExPR1JFUE9SVDogc3RyaW5nO1xufVxuXG5cbmV4cG9ydCBjb25zdCBlbnZDb25maWc6IGRlZmF1bHRDb25maWcgPSB7XG5cdGxpdmVtZToge1xuXHRcdHByb2Q6IHtcblx0XHRcdENFTlRFUlVSTDogXHQnaHR0cHM6Ly9ydGMtc3RyZWFtLWdsb2JhbC1jZW50ZXIubGlua3YuZnVuJyxcblx0XHRcdExPR1VSTDogXHQnd3NzOi8vcnRjLWZzLmxpbmt2LmZ1bicsXG5cdFx0XHRcblx0XHR9LFxuXHRcdHRlc3Q6IHtcblx0XHRcdENFTlRFUlVSTDogXHQnaHR0cHM6Ly9xYS1ydGMtc3RyZWFtLWdsb2JhbC1jZW50ZXIubGlua3YuZnVuJyxcblx0XHRcdExPR1VSTDogXHQnd3NzOi8vcnRjLWZzLmxpbmt2LmZ1bicsXG5cdFx0fSxcblx0XHRkZXY6IHtcblx0XHRcdENFTlRFUlVSTDogXHQnaHR0cHM6Ly9xYS1ydGMtc3RyZWFtLWdsb2JhbC1jZW50ZXIubGlua3YuZnVuJyxcblx0XHRcdExPR1VSTDogXHQnd3NzOi8vcnRjLWZzLmxpbmt2LmZ1bicsXG5cdFx0fVxuXHR9LFxuXHRjbToge1xuXHRcdHByb2Q6IHtcblx0XHRcdENFTlRFUlVSTDogICdodHRwczovL3J0Yy1zdHJlYW0tY24tY2VudGVyLmxpbmt2LmZ1bicsXG5cdFx0XHRMT0dVUkw6IFx0J3dzczovL3J0Yy1mcy5saW5rdi5mdW4nLFxuXHRcdH0sXG5cdFx0dGVzdDoge1xuXHRcdFx0Q0VOVEVSVVJMOiAgJ2h0dHBzOi8vcWEtcnRjLXN0cmVhbS1jbi1jZW50ZXIubGlua3YuZnVuJyxcblx0XHRcdExPR1VSTDogXHQnd3NzOi8vcnRjLWZzLmxpbmt2LmZ1bicsXG5cdFx0fSxcblx0XHRkZXY6IHtcblx0XHRcdENFTlRFUlVSTDogICdodHRwczovL3FhLXJ0Yy1zdHJlYW0tY24tY2VudGVyLmxpbmt2LmZ1bicsXG5cdFx0XHRMT0dVUkw6IFx0J3dzczovL3J0Yy1mcy5saW5rdi5mdW4nLFxuXHRcdH1cblx0fVxufTtcblxuZXhwb3J0IGNvbnN0IGNvbnN0YW50Q29uZmlnOiBjb25zdGFudENvbmZpZ1R5cGUgPSB7XG5cdExPR1JFUE9SVDogICdodHRwczovL2pveW1lLXdlYmxvZy5saW5rdi5mdW4nLFxuXHRTVEFUU1VSTDogXHQnaHR0cHM6Ly9saW5rdi1vbGQtY29sbGVjdC5saW5rdi5mdW4nXG59XG4iLCIvKipcbiAqIOmUmeivr+eggemVv+W6puS4ujbkvY3mlbDlrZfjgIJcbiAqIDFYWFhYWCBkZXZpY2Ug5byC5bi4XG4gKiA0WFhYWFggaHR0cCDlvILluLhcbiAqIDVYWFhYWCBzaWduYWwg5byC5bi4XG4gKiA2WFhYWFggbWVkaWEg5byC5bi4XG4gKiA3WFhYWFgg57y655yB5qOA5p+lXG4qL1xuXG5leHBvcnQgdHlwZSBlcnJNc2cgPSB7XG4gICAgY29kZTogbnVtYmVyO1xuICAgIG1zZzogc3RyaW5nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGFja0VyckNvZGUobXNnOiBzdHJpbmcpOiBlcnJNc2cge1xuICAgIHJldHVybiB7XG4gICAgICAgIGNvZGU6IDcwMDAwMCxcbiAgICAgICAgbXNnOiBgTEFDSyBPRiAke21zZy50b1VwcGVyQ2FzZSgpfWBcbiAgICB9O1xufVxuXG5leHBvcnQgbGV0IGVyckNvZGU6IE1hcDxzdHJpbmcsIGVyck1zZz4gPSBuZXcgTWFwKFtcbiAgICBbICd3c0Rpc2Nvbm5lY3QnLCB7XG4gICAgICAgIGNvZGU6IDUwMDAwMCxcbiAgICAgICAgbXNnOiAnV1NfRElTQ09OTkVDVCdcbiAgICB9XSxcbiAgICBbJ2tpY2tPdXQnLCB7XG4gICAgICAgIGNvZGU6IDUwMDAwMSxcbiAgICAgICAgbXNnOiAnV1NfS0lDS19PVVQnXG4gICAgfV0sXG4gICAgWydjb25zdHJhaW5DaGFuZ2VTdWNjZXNzJywge1xuICAgICAgICBjb2RlOiA2MDAwMDAsXG4gICAgICAgIG1zZzogJ0NPTlNUUkFJTl9DSEFOR0VfU1VDQ0VTUydcbiAgICB9XSxcbiAgICBbJ292ZXJDb25zdHJhaW5lZEVycm9yJywge1xuICAgICAgICBjb2RlOiA2MDAwMDEsXG4gICAgICAgIG1zZzogJ09WRVJDT05TVFJBSU5FREVSUk9SJ1xuICAgIH1dLFxuICAgIFsnZGV2aWNlc1N1cHBvcnRFcnJvcicsIHtcbiAgICAgICAgY29kZTogNjAwMDAyLFxuICAgICAgICBtc2c6ICdERVZJQ0VTX05PVF9TVVBQT1JURUQnXG4gICAgfV0sXG4gICAgWydjb25zdHJhaW5DaGFuZ2VGYWlsZWQnLCB7XG4gICAgICAgIGNvZGU6IDYwMDAwMyxcbiAgICAgICAgbXNnOiAnU1RSRUFNX05PVF9FWElTVCdcbiAgICB9XSxcbiAgICBbJ251bGxFZGdlTGlzdCcsIHtcbiAgICAgICAgY29kZTogNDAwMDAwLFxuICAgICAgICBtc2c6ICdFREdFX0xJU1RfTlVMTCdcbiAgICB9XVxuICAgIFxuXSk7IiwiaW1wb3J0IE1lZGlhIGZyb20gJy4vbWVkaWEvTWVkaWFEZXZpY2VDb250cm9sbGVyJztcbmltcG9ydCBTaWduYWwgZnJvbSAnLi9zaWduYWwvSW5kZXgnO1xuaW1wb3J0IGRlZmF1bHRPY3RvcHVzTWVkaWFDb25maWcgZnJvbSAnLi9jb25maWcvZGVmYXVsdE1lZGlhQ29uZmlnJztcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJy4vbG9nL2xvZ2dlcic7XG5pbXBvcnQgRXZlbnRFbWl0dGVyIGZyb20gXCJldmVudGVtaXR0ZXIzXCI7XG5pbXBvcnQgeyBEZXZpY2UgfSBmcm9tICcuL2RldmljZS9EZXZpY2UnO1xuaW1wb3J0IHtcbiAgICBsb2dpblN1Y2Nlc3NSZXN1bHQsXG4gICAgc3RyZWFtU3RhdGUsXG4gICAgY2hhbmdlQ29uc3RyYWludHNSZXN1bHQsXG4gICAgZXJyTXNnXG59IGZyb20gJy4uL2NvbW1vbi9leHBvcnRJbnRlcmZhY2UnO1xuaW1wb3J0IHsgZXJyQ29kZSB9IGZyb20gJy4uL2NvbW1vbi9lcnJvckNvZGUnO1xuaW1wb3J0IHsgdXBsb2FkU2Vuc29yc1N0YXRzIH0gZnJvbSAnLi9zZXJ2aWNlL3NlcnZpY2VBUEknO1xuaW1wb3J0IHsgdHlwZSB9IGZyb20gJy4vZGV2aWNlL2hhbmRsZXJzL3N0YXRzL1N0YXRpc3RpY3MnO1xuXG5pbnRlcmZhY2UgaGFuZGxlQ29uc3RyYWludHMge1xuICAgIGF1ZGlvOiBib29sZWFuIHwgTWVkaWFUcmFja0NvbnN0cmFpbnRzLFxuICAgIHZpZGVvOiBib29sZWFuIHwgTWVkaWFUcmFja0NvbnN0cmFpbnRzXG59XG5cbmV4cG9ydCBpbnRlcmZhY2Ugc291cmNlQ2FtZXJhIHtcbiAgICBhdWRpbz86IGJvb2xlYW47XG4gICAgdmlkZW8/OiBib29sZWFuO1xuICAgIGF1ZGlvSW5wdXQ/OiBzdHJpbmc7XG4gICAgYXVkaW9CaXRyYXRlPzogbnVtYmVyOyAgLy8g5L+d55WZXG4gICAgdmlkZW9JbnB1dD86IHN0cmluZztcbiAgICB2aWRlb1F1YWxpdHk/OiBudW1iZXI7XG4gICAgZmFjaW5nTW9kZT86IHN0cmluZzsgLy/mkYTlg4/lpLTmnJ3lkJHvvIxcInVzZXJcIuihqOekuuWJjee9ruaRhOWDj+WktO+8jFwiZW52aXJvbm1lbnRcIuihqOekuuWQjue9ruaRhOWDj+WktFxuICAgIHdpZHRoPzogbnVtYmVyO1xuICAgIGhlaWdodD86IG51bWJlcjtcbiAgICBmcmFtZVJhdGU/OiBudW1iZXI7XG4gICAgYml0cmF0ZT86IG51bWJlcjtcbiAgICBBR0M/OiBib29sZWFuO1xuICAgIEFOUz86IGJvb2xlYW47XG4gICAgQUVDPzogYm9vbGVhbjtcbiAgICBzYW1wbGVSYXRlPzogbnVtYmVyO1xuICAgIGNoYW5uZWxDb3VudD86IG51bWJlcjtcbn1cblxuaW50ZXJmYWNlIHNvdXJjZVN0cmVlbiB7XG4gICAgYXVkaW8/OiBib29sZWFuO1xuICAgIHZpZGVvUXVhbGl0eT86IG51bWJlcjtcbiAgICBmcmFtZVJhdGU/OiBudW1iZXI7XG4gICAgYml0cmF0ZT86IG51bWJlcjtcbn1cblxuaW50ZXJmYWNlIHNvdXJjZUN1c3RvbSB7XG4gICAgc291cmNlOiBNZWRpYVN0cmVhbTtcbiAgICBiaXRyYXRlPzogbnVtYmVyOyAvLyDkv53nlZlcbn1cblxudHlwZSBzb3VyY2UgPSB7XG4gICAgY2FtZXJhPzogc291cmNlQ2FtZXJhO1xuICAgIHNjcmVlbj86IHNvdXJjZVN0cmVlbjtcbiAgICBjdXN0b20/OiBzb3VyY2VDdXN0b207XG59O1xuXG50eXBlIHN0cmVhbUluZm8gPSB7XG4gICAgbWVkaWFzdHJlYW06IE1lZGlhU3RyZWFtO1xuICAgIHJvb21JZD86IHN0cmluZzsgLy8g6aKE55WZ5pSv5oyB5aSacm9vbUlkXG59XG5cbmV4cG9ydCB0eXBlIG9jdG9wdXNDbGllbnRPcHRpb25zID0ge1xuICAgIGFwcElkOiBzdHJpbmc7XG4gICAgdXNlcklkOiBzdHJpbmc7XG4gICAgZW52PzogXCJ0ZXN0XCIgfCBcInByb2RcIiB8IFwiZGV2XCI7XG4gICAgdHlwZT86IFwiY2hpbmFcIiB8IFwiaW50ZXJuYXRpb25hbFwiO1xuICAgIHByb2plY3ROYW1lPzogc3RyaW5nO1xuICAgIGxvZ0xldmVsPzogbnVtYmVyO1xuICAgIG1vZGU/OiBcIm9jdG9wdXNcIiB8IFwiemVnb1wiIHwgXCJhdXRvXCI7XG4gICAgdXNlck5hbWU/OiBzdHJpbmc7XG4gICAgZWRnZVVybD86IHN0cmluZztcbiAgICBjdXN0b21FZGdlVXJsPzogc3RyaW5nO1xuICAgIGFwcFBhY2thZ2VOYW1lPzogc3RyaW5nO1xuICAgIC8vIG9jdG9wdXNDb25maWc/OiBvY3RvcHVzQ29uZmlnO1xufVxuXG5pbnRlcmZhY2UgbGF5ZXJ7XG4gICAgb3V0cHV0VXJsOiBzdHJpbmcsXG4gICAgb3V0cHV0Qml0cmF0ZTogbnVtYmVyLFxuICAgIG91dHB1dEZwczogbnVtYmVyLFxuICAgIG91dHB1dFdpZHRoOiBudW1iZXIsXG4gICAgb3V0cHV0SGVpZ2h0OiBudW1iZXIsXG4gICAgb3V0cHV0QmdJbWFnZTogc3RyaW5nLFxuICAgIHN0cmVhbUxpc3Q6IEFycmF5PHN0cmVhbUxheWVyPlxufVxuXG5pbnRlcmZhY2Ugc3RyZWFtTGF5ZXJ7XG4gICAgcm9vbUlkOiBzdHJpbmcsXG4gICAgc3RyZWFtSWQ6IHN0cmluZyxcbiAgICB0b3A6IG51bWJlcixcbiAgICBsZWZ0OiBudW1iZXIsXG4gICAgYm90dG9tOiBudW1iZXIsICBcbiAgICByaWdodDogbnVtYmVyLFxufVxuXG5leHBvcnQgdHlwZSBtaXhTdHJlYW1Db25maWcgPSB7XG4gICAgbGF5ZXI6IGxheWVyO1xuICAgIHN0cmVhbUxpc3Q6IHN0cmVhbUxheWVyO1xufVxuXG50eXBlIHN0cmVhbVVwZGF0ZVJlc3VsdCA9IHtcbiAgICBjb2RlOiBudW1iZXI7XG4gICAgc3RyZWFtTGlzdDoge1xuICAgICAgICBzdHJlYW1JZDogc3RyaW5nO1xuICAgICAgICB1c2VySWQ6IHN0cmluZztcbiAgICAgICAgcm9vbUlkOiBzdHJpbmc7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgT2N0b3B1c0NsaWVudFRlc3QgZXh0ZW5kcyBFdmVudEVtaXR0ZXJ7XG4gICAgcHJpdmF0ZSBfcm9vbUlkOiBzdHJpbmcgPSAnJztcbiAgICBwcml2YXRlIF9yb2xlOiAxIHwgMiA9IDE7XG4gICAgcHJpdmF0ZSBfYXBwSWQ6IHN0cmluZyA9ICcnO1xuICAgIHByaXZhdGUgX3VzZXJJZDogc3RyaW5nID0gXCJcIjtcbiAgICBwcml2YXRlIF9zaWduYWw6IG51bGwgfCBTaWduYWwgPSBudWxsO1xuICAgIHByaXZhdGUgX21lZGlhOiBudWxsIHwgTWVkaWEgPSBudWxsO1xuICAgIHByaXZhdGUgX2xvZ2dlcjogYW55ID0gbnVsbDtcbiAgICBwcml2YXRlIF9tYXBTdHJlYW1JZEluZm86IE1hcDxzdHJpbmcsIHN0cmVhbUluZm8+ID0gbmV3IE1hcCgpO1xuICAgIHByaXZhdGUgX2F1ZGlvQ3VzdG9tQml0cmF0ZTogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIF92aWRlb0N1c3RvbUJpdHJhdGU6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBfY3VzdG9tRnJhbWVyYXRlOiBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgX2VudjogJ3Rlc3QnIHwgJ3Byb2QnIHwgJ2RldicgPSAncHJvZCc7XG4gICAgcHJpdmF0ZSBfcHJvamVjdE5hbWU6IHN0cmluZyA9ICdsaXZlbWUnO1xuICAgIHByaXZhdGUgX2N1c3RvbUVkZ2VVcmw6IHN0cmluZyA9ICcnO1xuICAgIHByaXZhdGUgX3JlcG9ydEhhbmRsZTogYW55ID0gMDtcbiAgICBwcml2YXRlIF9tYXBTdHJlYW1JZGhhbmRsZXI6IE1hcDxzdHJpbmcsIERldmljZT4gPSBuZXcgTWFwKCk7XG4gICAgcHJpdmF0ZSBfcHVsbFN0cmVhbUxpc3Q6IE1hcDxzdHJpbmcsIE1lZGlhU3RyZWFtPiA9IG5ldyBNYXAoKTtcblxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IG9jdG9wdXNDbGllbnRPcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2FwcElkID0gb3B0aW9ucy5hcHBJZDtcbiAgICAgICAgdGhpcy5fdXNlcklkID0gb3B0aW9ucy51c2VySWQ7XG4gICAgICAgIGlmIChvcHRpb25zICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmN1c3RvbUVkZ2VVcmwgIT09IHZvaWQgMCkgICB7IHRoaXMuX2N1c3RvbUVkZ2VVcmwgPSBvcHRpb25zLmN1c3RvbUVkZ2VVcmx9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5lbnYgIT09IHZvaWQgMCkgICAgICAgICAgICAgeyB0aGlzLl9lbnYgPSBvcHRpb25zLmVudn1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnByb2plY3ROYW1lICE9PSB2b2lkIDApICAgICB7IHRoaXMuX3Byb2plY3ROYW1lID0gb3B0aW9ucy5wcm9qZWN0TmFtZX1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9sb2dnZXIgPSBsb2dnZXIuY29sbGVjdDtcbiAgICB9XG4gICAgXG4gICAgcHVibGljIGFzeW5jIGxvZ2luKFxuICAgICAgICBhcHBQYWNrYWdlTmFtZTogc3RyaW5nLFxuICAgICAgICByb29tSWQ6IHN0cmluZywgcm9sZTogMSB8IDIsIFxuICAgICAgICBhdXRoOiBzdHJpbmcsXG4gICAgICAgIGV4cGlyZTogc3RyaW5nXG4gICAgKTogUHJvbWlzZTxsb2dpblN1Y2Nlc3NSZXN1bHRbXSB8IGVyck1zZz4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fc2lnbmFsID0gbmV3IFNpZ25hbCh7XG4gICAgICAgICAgICAgICAgYXBwUGFja2FnZU5hbWUsXG4gICAgICAgICAgICAgICAgZW52OiB0aGlzLl9lbnYsXG4gICAgICAgICAgICAgICAgcHJvamVjdE5hbWU6IHRoaXMuX3Byb2plY3ROYW1lLFxuICAgICAgICAgICAgICAgIHJvb21JZCxcbiAgICAgICAgICAgICAgICBhcHBJZDogdGhpcy5fYXBwSWQsXG4gICAgICAgICAgICAgICAgdXNlcklkOiB0aGlzLl91c2VySWQsXG4gICAgICAgICAgICAgICAgY3VzdG9tRWRnZVVybDogdGhpcy5fY3VzdG9tRWRnZVVybFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmdldFNpZ25hbFN0YXRlKCk7XG4gICAgICAgICAgICB0aGlzLl9zaWduYWwuaW5pdCh7XG4gICAgICAgICAgICAgICAgYXV0aCxcbiAgICAgICAgICAgICAgICBleHBpcmUsXG4gICAgICAgICAgICAgICAgcm9sZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLl9yb29tSWQgPSByb29tSWQ7XG4gICAgICAgICAgICB0aGlzLl9yb2xlID0gcm9sZTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy5fc2lnbmFsLm9uKCdAZ2V0am9pbnN1Y2Vzc3Jlc3VsdCcsIChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmNvZGUgPT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0Lm1zZyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNpZ25hbFN0YXRlKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3NpZ25hbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzaWduYWwgaXMgbm90IGEgaW5zdGFuY2UuJyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5fc2lnbmFsLm9uKCdAa2lja291dCcsIChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnQGdldGtpY2tvdXQnLCByZXN1bHQpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl9zaWduYWwub24oJ0BkaXNjb25uZWN0JywgKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdAZ2V0ZGlzY29ubmVjdCcsIHJlc3VsdCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX3NpZ25hbC5vbignQHN0cmVhbXVwZGF0ZScsIChyZXN1bHQ6IHN0cmVhbVVwZGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmRlYnVnKCdzdHJlYW11cGRhdGU6Ojo6JywgcmVzdWx0KTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnQGdldHN0cmVhbXVwZGF0ZScsIHJlc3VsdCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBsb2dvdXQoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLl9zaWduYWwpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9yZXBvcnRIYW5kbGUpO1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgIHRoaXMuX3NpZ25hbC5sb2dvdXQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBjcmVhdGVTdHJlYW0oc291cmNlPzogc291cmNlKTogUHJvbWlzZTxNZWRpYVN0cmVhbT4ge1xuICAgICAgICBjb25zdCBwYXJhbVNvdXJjZSA9IHNvdXJjZSA/IHNvdXJjZSA6IHt9O1xuICAgICAgICBsZXQgaGFuZGxlQ29uc3RyYWludHM6IGhhbmRsZUNvbnN0cmFpbnRzID0ge1xuICAgICAgICAgICAgYXVkaW86IHRydWUsXG4gICAgICAgICAgICB2aWRlbzogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgICBpZiAoIXRoaXMuX21lZGlhKSB7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYSA9IG5ldyBNZWRpYSh7XG4gICAgICAgICAgICAgICAgdXNlcklkOiB0aGlzLl91c2VySWRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJhbVNvdXJjZS5jYW1lcmEpIHtcbiAgICAgICAgICAgIGNvbnN0IGNhbWVyYVBhcmFtcyA9IHBhcmFtU291cmNlLmNhbWVyYTtcbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhjYW1lcmFQYXJhbXMpLmluZGV4T2YoJ2F1ZGlvJykgIT0gLTEpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNhbWVyYVBhcmFtcy5hdWRpbyA9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlQ29uc3RyYWludHMuYXVkaW8gPSBjYW1lcmFQYXJhbXMuYXVkaW87XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYW1lcmFQYXJhbXMuYXVkaW8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUNvbnN0cmFpbnRzLmF1ZGlvID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FtZXJhUGFyYW1zLmF1ZGlvSW5wdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVDb25zdHJhaW50cy5hdWRpby5kZXZpY2VJZCA9IGNhbWVyYVBhcmFtcy5hdWRpb0lucHV0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbWVyYVBhcmFtcy5BR0MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVDb25zdHJhaW50cy5hdWRpby5hdXRvR2FpbkNvbnRyb2wgPSBjYW1lcmFQYXJhbXMuQUdDO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYW1lcmFQYXJhbXMuQUVDKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlQ29uc3RyYWludHMuYXVkaW8uZWNob0NhbmNlbGxhdGlvbiA9IGNhbWVyYVBhcmFtcy5BRUM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FtZXJhUGFyYW1zLkFOUykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUNvbnN0cmFpbnRzLmF1ZGlvLm5vaXNlU3VwcHJlc3Npb24gPSBjYW1lcmFQYXJhbXMuQU5TO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FtZXJhUGFyYW1zLnNhbXBsZVJhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVDb25zdHJhaW50cy5hdWRpby5zYW1wbGVSYXRlID0gY2FtZXJhUGFyYW1zLnNhbXBsZVJhdGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYW1lcmFQYXJhbXMuY2hhbm5lbENvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlQ29uc3RyYWludHMuYXVkaW8uY2hhbm5lbENvdW50ID0gY2FtZXJhUGFyYW1zLmNoYW5uZWxDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbWVyYVBhcmFtcy5hdWRpb0JpdHJhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hdWRpb0N1c3RvbUJpdHJhdGUgPSBjYW1lcmFQYXJhbXMuYXVkaW9CaXRyYXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoaGFuZGxlQ29uc3RyYWludHMuYXVkaW8pLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUNvbnN0cmFpbnRzLmF1ZGlvID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2F1ZGlvIG11c3QgYmUgYm9vbGVhbicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlQ29uc3RyYWludHMuYXVkaW8gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoY2FtZXJhUGFyYW1zKS5pbmRleE9mKCd2aWRlbycpICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYW1lcmFQYXJhbXMudmlkZW8gPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZUNvbnN0cmFpbnRzLnZpZGVvID0gY2FtZXJhUGFyYW1zLnZpZGVvO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2FtZXJhUGFyYW1zLnZpZGVvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVDb25zdHJhaW50cy52aWRlbyA9IHt9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FtZXJhUGFyYW1zLnZpZGVvSW5wdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVDb25zdHJhaW50cy52aWRlby5kZXZpY2VJZCA9IGNhbWVyYVBhcmFtcy52aWRlb0lucHV0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbWVyYVBhcmFtcy5mYWNpbmdNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlQ29uc3RyYWludHMudmlkZW8uZmFjaW5nTW9kZSA9IGNhbWVyYVBhcmFtcy5mYWNpbmdNb2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbWVyYVBhcmFtcy52aWRlb1F1YWxpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FtZXJhUGFyYW1zLnZpZGVvUXVhbGl0eSA8IDQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmlkZW9RdWFsaXR5Q29uZmlnID0gZGVmYXVsdE9jdG9wdXNNZWRpYUNvbmZpZy5jYW1lcmEudmlkZW9RdWFsaXR5W2NhbWVyYVBhcmFtcy52aWRlb1F1YWxpdHkgLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmlkZW9DdXN0b21CaXRyYXRlID0gdmlkZW9RdWFsaXR5Q29uZmlnLmJpdFJhdGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUNvbnN0cmFpbnRzLnZpZGVvLndpZHRoICAgICAgID0gdmlkZW9RdWFsaXR5Q29uZmlnLndpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVDb25zdHJhaW50cy52aWRlby5oZWlnaHQgICAgICA9IHZpZGVvUXVhbGl0eUNvbmZpZy5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUNvbnN0cmFpbnRzLnZpZGVvLmZyYW1lUmF0ZSAgID0gdmlkZW9RdWFsaXR5Q29uZmlnLmZyYW1lUmF0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FtZXJhUGFyYW1zLndpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVDb25zdHJhaW50cy52aWRlby53aWR0aCA9IGNhbWVyYVBhcmFtcy53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FtZXJhUGFyYW1zLmhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlQ29uc3RyYWludHMudmlkZW8uaGVpZ2h0ID0gY2FtZXJhUGFyYW1zLmhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FtZXJhUGFyYW1zLmZyYW1lUmF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlQ29uc3RyYWludHMudmlkZW8uZnJhbWVSYXRlID0gY2FtZXJhUGFyYW1zLmZyYW1lUmF0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FtZXJhUGFyYW1zLmJpdHJhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZpZGVvQ3VzdG9tQml0cmF0ZSA9IGNhbWVyYVBhcmFtcy5iaXRyYXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaGFuZGxlQ29uc3RyYWludHMudmlkZW8uZnJhbWVSYXRlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jdXN0b21GcmFtZXJhdGUgPSBoYW5kbGVDb25zdHJhaW50cy52aWRlby5mcmFtZVJhdGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGhhbmRsZUNvbnN0cmFpbnRzLnZpZGVvKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVDb25zdHJhaW50cy52aWRlbyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3ZpZGVvIG11c3QgYmUgYm9vbGVhbicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlQ29uc3RyYWludHMudmlkZW8gPXRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9tZWRpYS5nZXRMb2NhbE1lZGlhU3RyZWFtKCdjYW1lcmEnLCBoYW5kbGVDb25zdHJhaW50cyk7XG4gICAgICAgIH0gZWxzZSBpZiAocGFyYW1Tb3VyY2Uuc2NyZWVuKSB7IC8vIOmihOeVmeahjOmdouWIhuS6q+mDqOWIhlxuICAgICAgICAgICAgY29uc3Qgc2NyZWVuUGFyYW1zID0gcGFyYW1Tb3VyY2Uuc2NyZWVuO1xuICAgICAgICAgICAgbGV0IHNjcmVlbkNvbnN0cmFpbnRzOiB7XG4gICAgICAgICAgICAgICAgYXVkaW86IGJvb2xlYW47XG4gICAgICAgICAgICAgICAgdmlkZW86IGJvb2xlYW4gfCBNZWRpYVRyYWNrQ29uc3RyYWludHM7XG4gICAgICAgICAgICB9ID0ge1xuICAgICAgICAgICAgICAgIGF1ZGlvOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB2aWRlbzogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNjcmVlblBhcmFtcy5hdWRpbykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2NyZWVuUGFyYW1zLmF1ZGlvID09ICdib29sZWFuJykge1xuICAgICAgICAgICAgICAgICAgICBzY3JlZW5Db25zdHJhaW50cy5hdWRpbyA9IHNjcmVlblBhcmFtcy5hdWRpbztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhdWRpbyBtdXN0IGJlIGJvb2xlYW4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzY3JlZW5QYXJhbXMudmlkZW9RdWFsaXR5KSB7XG4gICAgICAgICAgICAgICAgc2NyZWVuQ29uc3RyYWludHMudmlkZW8gPSB7fTtcbiAgICAgICAgICAgICAgICBpZiAoc2NyZWVuUGFyYW1zLnZpZGVvUXVhbGl0eSA8IDQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NyZWVuUXVhbGl0eUNvbmZpZyA9IGRlZmF1bHRPY3RvcHVzTWVkaWFDb25maWcuc2NyZWVuLnZpZGVvUXVhbGl0eVtzY3JlZW5QYXJhbXMudmlkZW9RdWFsaXR5IC0gMV07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZpZGVvQ3VzdG9tQml0cmF0ZSA9IHNjcmVlblF1YWxpdHlDb25maWcuYml0UmF0ZTtcbiAgICAgICAgICAgICAgICAgICAgc2NyZWVuQ29uc3RyYWludHMudmlkZW8uZnJhbWVSYXRlICAgPSBzY3JlZW5RdWFsaXR5Q29uZmlnLmZyYW1lUmF0ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2NyZWVuUGFyYW1zLmZyYW1lUmF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NyZWVuQ29uc3RyYWludHMudmlkZW8uZnJhbWVSYXRlID0gc2NyZWVuUGFyYW1zLmZyYW1lUmF0ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoc2NyZWVuUGFyYW1zLmJpdHJhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZpZGVvQ3VzdG9tQml0cmF0ZSA9IHNjcmVlblBhcmFtcy5iaXRyYXRlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzY3JlZW5Db25zdHJhaW50cy52aWRlby5mcmFtZVJhdGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2N1c3RvbUZyYW1lcmF0ZSA9IHNjcmVlbkNvbnN0cmFpbnRzLnZpZGVvLmZyYW1lUmF0ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fbWVkaWEuZ2V0TG9jYWxNZWRpYVN0cmVhbSgnZGlzcGxheScsIHNjcmVlbkNvbnN0cmFpbnRzKTtcbiAgICAgICAgfSBlbHNlIGlmIChwYXJhbVNvdXJjZS5jdXN0b20pIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJhbVNvdXJjZS5jdXN0b20uc291cmNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX21lZGlhLmdldExvY2FsTWVkaWFTdHJlYW0oJ2NhbWVyYScsIGhhbmRsZUNvbnN0cmFpbnRzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBkZXN0cm95U3RyZWFtKG1lZGlhc3RyZWFtOiBNZWRpYVN0cmVhbSk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuX21lZGlhKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ21lZGlhIGlzIG5vdCBhIGluc3RhbmNlLicpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbWVkaWEuZGVzdHJveUxvY2FsTWVkaWFTdHJlYW0obWVkaWFzdHJlYW0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0TWVkaWFTdHJlYW1UcmFja0NvbnN0cmFpbnMobWVkaWFzdHJlYW06IE1lZGlhU3RyZWFtKSB7XG4gICAgICAgIGZvciAobGV0IHRyYWNrIG9mIG1lZGlhc3RyZWFtLmdldFRyYWNrcygpKSB7XG4gICAgICAgICAgICBpZiAodHJhY2sua2luZCA9PSAndmlkZW8nKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmlkZW9Db25zdHJhaW5zID0gdHJhY2suZ2V0U2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8g56We562W5LiK5oqlXG4gICAgICAgICAgICAgICAgICAgIHVwbG9hZFNlbnNvcnNTdGF0cyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBfaWQ6IHRoaXMuX2FwcElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FwdHVyZV9oZWlnaHQ6IHZpZGVvQ29uc3RyYWlucy5oZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXB0dXJlX3dpZHRoOiB2aWRlb0NvbnN0cmFpbnMud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0X3N0YXRlOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkZ2VfdXJsOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5jb2RlX2hlaWdodDogdmlkZW9Db25zdHJhaW5zLmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuY29kZV93aWR0aDogdmlkZW9Db25zdHJhaW5zLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRfdHlwZTogMyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZwczogdmlkZW9Db25zdHJhaW5zLmZyYW1lUmF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzX2hvc3Q6IHRoaXMuX3JvbGUgPT0gMSA/IDEgOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgam9pbl9yb29tX2Nvc3Q6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dfdHlwZTogXCJsaXZlbWVfdmlkZW9fcnRjX3Jvb21fZXZlbnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbl9iaXRyYXRlOiB0aGlzLl92aWRlb0N1c3RvbUJpdHJhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwdXNoX2JpdHJhdGU6IHRoaXMuX3ZpZGVvQ3VzdG9tQml0cmF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvb21faWQ6IHRoaXMuX3Jvb21JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGZfdXNlcl9pZDogdGhpcy5fdXNlcklkLFxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2dnZXIuZGVidWcoJ2Jyb3dlciBjYW4gbm90IHN1cHBvcnQgZ2V0U2V0dGluZ3MnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgc3RhcnRQdWJsaXNoaW5nU3RyZWFtKFxuICAgICAgICBzdHJlYW1JZDogc3RyaW5nLCBcbiAgICAgICAgbWVkaWFzdHJlYW06IE1lZGlhU3RyZWFtLCBcbiAgICAgICAgZXh0cmFJbmZvPzogYW55LCBcbiAgICAgICAgcHVibGlzaE9wdGlvbj86IGFueVxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICAvLyDkuIrmiqXnpZ7nrZZcbiAgICAgICAgdXBsb2FkU2Vuc29yc1N0YXRzKHtcbiAgICAgICAgICAgIGFwcF9pZDogdGhpcy5fYXBwSWQsXG4gICAgICAgICAgICBldmVudF90eXBlOiA0LFxuICAgICAgICAgICAgbG9nX3R5cGU6IFwibGl2ZW1lX3ZpZGVvX3J0Y19zdGF0aXN0aWNzXCIsXG4gICAgICAgICAgICByb29tX2lkOiB0aGlzLl9yb29tSWQsXG4gICAgICAgICAgICBzZWxmX3VzZXJfaWQ6IHRoaXMuX3VzZXJJZCxcbiAgICAgICAgICAgIHVzZXJfaWQ6IHRoaXMuX3VzZXJJZFxuICAgICAgICB9KTtcbiAgICAgICAgLy8g5LiK5oql56We562WIOmfs+inhumikeWPguaVsFxuICAgICAgICB0aGlzLmdldE1lZGlhU3RyZWFtVHJhY2tDb25zdHJhaW5zKG1lZGlhc3RyZWFtKTtcblxuICAgICAgICBpZiAoIXRoaXMuX21lZGlhKSB7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYSA9IG5ldyBNZWRpYSh7XG4gICAgICAgICAgICAgICAgdXNlcklkOiB0aGlzLl91c2VySWRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRoaXMuX21lZGlhLnNhdmVDdXJyZW50U3RyZWFtKHN0cmVhbUlkLCBtZWRpYXN0cmVhbSk7XG4gICAgICAgIHRoaXMuX21hcFN0cmVhbUlkSW5mby5zZXQoc3RyZWFtSWQsIHtcbiAgICAgICAgICAgIG1lZGlhc3RyZWFtXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMudHJhbnNwb3J0KHN0cmVhbUlkLCAnc2VuZCcpO1xuXG4gICAgICAgIC8vIOiOt+WPluaOqOa1geeKtuaAgVxuICAgICAgICB0aGlzLmdldFN0cmVhbVN0YXRlVXBkYXRlKHN0cmVhbUlkKS50aGVuKChyZXN1bHQ6IHsgXG4gICAgICAgICAgICBjb2RlOiBudW1iZXIsIFxuICAgICAgICAgICAgc3RyZWFtSWQ6IHN0cmluZywgXG4gICAgICAgICAgICBzdGF0ZTogc3RyaW5nIFxuICAgICAgICB9KSA9PiB7XG4gICAgICAgICAgICAvLyDkuIrmiqXnpZ7nrZZcbiAgICAgICAgICAgIHVwbG9hZFNlbnNvcnNTdGF0cyh7XG4gICAgICAgICAgICAgICAgYXBwX2lkOiB0aGlzLl9hcHBJZCxcbiAgICAgICAgICAgICAgICBldmVudF90eXBlOiA1LFxuICAgICAgICAgICAgICAgIGlzQ29ubmVjdGVkOiByZXN1bHQuY29kZSxcbiAgICAgICAgICAgICAgICBsb2dfdHlwZTogXCJsaXZlbWVfdmlkZW9fcnRjX3N0YXRpc3RpY3NcIixcbiAgICAgICAgICAgICAgICByb29tX2lkOiB0aGlzLl9yb29tSWQsXG4gICAgICAgICAgICAgICAgc2VsZl91c2VyX2lkOiB0aGlzLl91c2VySWQsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogdGhpcy5fdXNlcklkXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKHJlc3VsdC5zdHJlYW1JZCA9PSBzdHJlYW1JZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnQGdldHB1Ymxpc2hzdGF0ZScsIHJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIChlKSA9PiB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBzdGFydFBsYXlpbmdTdHJlYW0oXG4gICAgICAgIHN0cmVhbUlkOiBzdHJpbmcsIFxuICAgICAgICBhdWRpb091dHB1dD86IGFueSwgXG4gICAgICAgIHBsYXlPcHRpb24/OiBhbnlcbiAgICApIDogUHJvbWlzZTxNZWRpYVN0cmVhbSB8IHZvaWQ+IHtcbiAgICAgICAgLy8g5LiK5oql56We562WXG4gICAgICAgIHVwbG9hZFNlbnNvcnNTdGF0cyh7XG4gICAgICAgICAgICBhcHBfaWQ6IHRoaXMuX2FwcElkLFxuICAgICAgICAgICAgZXZlbnRfdHlwZTogNixcbiAgICAgICAgICAgIGxvZ190eXBlOiBcImxpdmVtZV92aWRlb19ydGNfc3RhdGlzdGljc1wiLFxuICAgICAgICAgICAgcm9vbV9pZDogdGhpcy5fcm9vbUlkLFxuICAgICAgICAgICAgc2VsZl91c2VyX2lkOiB0aGlzLl91c2VySWQsXG4gICAgICAgICAgICB1c2VyX2lkOiBzdHJlYW1JZFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBOT1RFOiBTdHVmZiB0byBwbGF5IHJlbW90ZSBhdWRpb3MgZHVlIHRvIGJyb3dzZXJzJyBuZXcgYXV0b3BsYXkgcG9saWN5LlxuICAgICAgICAvLyBKdXN0IGdldCBhY2Nlc3MgdG8gdGhlIG1pYyBhbmQgRE8gTk9UIGNsb3NlIHRoZSBtaWMgdHJhY2sgZm9yIGEgd2hpbGUuXG4gICAgICAgIC8vIFN1cGVyIGhhY2shXG4gICAgICAgIC8vIHtcbiAgICAgICAgLy8gICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHsgYXVkaW86IHRydWUgfSk7XG4gICAgICAgIC8vICAgICBjb25zdCBhdWRpb1RyYWNrID0gc3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF07XG4gICAgICAgIC8vICAgICBhdWRpb1RyYWNrLmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgLy8gICAgIHNldFRpbWVvdXQoKCkgPT4gYXVkaW9UcmFjay5zdG9wKCksIDEyMDAwMCk7XG4gICAgICAgIC8vIH1cblxuICAgICAgICB0aGlzLnRyYW5zcG9ydChzdHJlYW1JZCwgJ3JlY3YnKTtcblxuICAgICAgICB0aGlzLl9wdWxsU3RyZWFtTGlzdC5zZXQoc3RyZWFtSWQsIGF3YWl0ICh0aGlzLl9tYXBTdHJlYW1JZGhhbmRsZXIuZ2V0KHN0cmVhbUlkKSBhcyBEZXZpY2UpLmdldFBsYXlTdHJlYW0oKSk7XG4gICAgICAgIFxuICAgICAgICAvLyDlpoLmnpzmmK/ph43ov57vvIzliJnmm7/mjaJtZWRpc3RyZWFtXG4gICAgICAgIGNvbnN0IGN1cnJlbnRQbGF5SW5mbyA9IHRoaXMuX21hcFN0cmVhbUlkSW5mby5nZXQoc3RyZWFtSWQpO1xuICAgICAgICBcbiAgICAgICAgaWYoY3VycmVudFBsYXlJbmZvKSB7XG4gICAgICAgICAgICAgLy8g5LiK5oql56We562WXG4gICAgICAgICAgICB1cGxvYWRTZW5zb3JzU3RhdHMoe1xuICAgICAgICAgICAgICAgIGFwcF9pZDogdGhpcy5fYXBwSWQsXG4gICAgICAgICAgICAgICAgZXZlbnRfdHlwZTogNyxcbiAgICAgICAgICAgICAgICBpc0Nvbm5lY3RlZDogMyxcbiAgICAgICAgICAgICAgICBsb2dfdHlwZTogXCJsaXZlbWVfdmlkZW9fcnRjX3N0YXRpc3RpY3NcIixcbiAgICAgICAgICAgICAgICByb29tX2lkOiB0aGlzLl9yb29tSWQsXG4gICAgICAgICAgICAgICAgc2VsZl91c2VyX2lkOiB0aGlzLl91c2VySWQsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogc3RyZWFtSWRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFBsYXlTdHJlYW0gPSBjdXJyZW50UGxheUluZm8ubWVkaWFzdHJlYW07XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgY3VycmVudFBsYXlTdHJlYW0uZ2V0VHJhY2tzKCkpIHtcbiAgICAgICAgICAgICAgICBpdGVtLnN0b3AoKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50UGxheVN0cmVhbS5yZW1vdmVUcmFjayhpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZm9yIChjb25zdCBjZWxsIG9mICh0aGlzLl9wdWxsU3RyZWFtTGlzdC5nZXQoc3RyZWFtSWQpIGFzIE1lZGlhU3RyZWFtKS5nZXRUcmFja3MoKSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRQbGF5U3RyZWFtLmFkZFRyYWNrKGNlbGwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ0BnZXRwbGF5c3RhdGUnLCB7XG4gICAgICAgICAgICAgICAgY29kZTogMTEsXG4gICAgICAgICAgICAgICAgc3RhdGU6ICdSRVBMQVlJTkcnLFxuICAgICAgICAgICAgICAgIHN0cmVhbUlkOiBzdHJlYW1JZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX21hcFN0cmVhbUlkSW5mby5zZXQoc3RyZWFtSWQsIHtcbiAgICAgICAgICAgICAgICBtZWRpYXN0cmVhbTogdGhpcy5fcHVsbFN0cmVhbUxpc3QuZ2V0KHN0cmVhbUlkKSBhcyBNZWRpYVN0cmVhbVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyDojrflj5bmi4nmtYHnirbmgIFcbiAgICAgICAgICAgIHRoaXMuZ2V0U3RyZWFtU3RhdGVVcGRhdGUoc3RyZWFtSWQpLnRoZW4oKHJlc3VsdDoge1xuICAgICAgICAgICAgICAgIGNvZGU6IG51bWJlciwgXG4gICAgICAgICAgICAgICAgc3RyZWFtSWQ6IHN0cmluZywgXG4gICAgICAgICAgICAgICAgc3RhdGU6IHN0cmluZyBcbiAgICAgICAgICAgIH0pID0+IHtcbiAgICAgICAgICAgICAgICAvLyDkuIrmiqXnpZ7nrZZcbiAgICAgICAgICAgICAgICB1cGxvYWRTZW5zb3JzU3RhdHMoe1xuICAgICAgICAgICAgICAgICAgICBhcHBfaWQ6IHRoaXMuX2FwcElkLFxuICAgICAgICAgICAgICAgICAgICBldmVudF90eXBlOiA3LFxuICAgICAgICAgICAgICAgICAgICBpc0Nvbm5lY3RlZDogcmVzdWx0LmNvZGUsXG4gICAgICAgICAgICAgICAgICAgIGxvZ190eXBlOiBcImxpdmVtZV92aWRlb19ydGNfc3RhdGlzdGljc1wiLFxuICAgICAgICAgICAgICAgICAgICByb29tX2lkOiB0aGlzLl9yb29tSWQsXG4gICAgICAgICAgICAgICAgICAgIHNlbGZfdXNlcl9pZDogdGhpcy5fdXNlcklkLFxuICAgICAgICAgICAgICAgICAgICB1c2VyX2lkOiBzdHJlYW1JZFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdAZ2V0cGxheXN0YXRlJywgcmVzdWx0KTtcbiAgICAgICAgICAgIH0sIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZXN1bHRTdHJlYW1JbmZvID0gdGhpcy5fbWFwU3RyZWFtSWRJbmZvLmdldChzdHJlYW1JZCk7XG4gICAgICAgIGlmICghcmVzdWx0U3RyZWFtSW5mbykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzdHJlYW1JZCBpcyBub3QgZXhpc3QuJyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiByZXN1bHRTdHJlYW1JbmZvLm1lZGlhc3RyZWFtO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgdHJhbnNwb3J0KHN0cmVhbUlkOiBzdHJpbmcsIGRpcmVjdGlvbjogc3RyaW5nKSB7XG4gICAgICAgIGlmICghdGhpcy5fc2lnbmFsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NpZ25hbCBpcyBub3QgYSBpbnN0YW5jZS4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX21hcFN0cmVhbUlkaGFuZGxlci5zZXQoc3RyZWFtSWQsIG5ldyBEZXZpY2UoKSk7XG5cbiAgICAgICAgdGhpcy5fbWFwU3RyZWFtSWRoYW5kbGVyLmdldChzdHJlYW1JZCkhLmxvYWQoe1xuICAgICAgICAgICAgc3RyZWFtSWQsXG4gICAgICAgICAgICBkaXJlY3Rpb25cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChkaXJlY3Rpb24gPT0gJ3NlbmQnICYmICh0aGlzLl92aWRlb0N1c3RvbUJpdHJhdGUgfHwgdGhpcy5fYXVkaW9DdXN0b21CaXRyYXRlKSkge1xuICAgICAgICAgICAgdGhpcy5fbWFwU3RyZWFtSWRoYW5kbGVyLmdldChzdHJlYW1JZCkhLnNldFVzZXJDdXN0b21QYXJhbXMoe1xuICAgICAgICAgICAgICAgIHZpZGVvQ3VzdG9tQml0cmF0ZTogdGhpcy5fdmlkZW9DdXN0b21CaXRyYXRlLFxuICAgICAgICAgICAgICAgIGF1ZGlvQ3VzdG9tQml0cmF0ZTogdGhpcy5fYXVkaW9DdXN0b21CaXRyYXRlLFxuICAgICAgICAgICAgICAgIGN1c3RvbUZyYW1lcmF0ZTogdGhpcy5fY3VzdG9tRnJhbWVyYXRlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBvcHRpb25zO1xuICAgICAgICBjb25zdCBzdHJlYW1JbmZvID0gdGhpcy5fbWFwU3RyZWFtSWRJbmZvLmdldChzdHJlYW1JZCk7XG4gICAgICAgIGlmIChzdHJlYW1JbmZvKSB7XG4gICAgICAgICAgICBjb25zdCBtZWRpYXN0cmVhbSA9IHN0cmVhbUluZm8ubWVkaWFzdHJlYW07XG4gICAgICAgICAgICBvcHRpb25zID0geyBtZWRpYXN0cmVhbSB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgbG9jYWxPZmZlclNkcCB9ID0gYXdhaXQgdGhpcy5fbWFwU3RyZWFtSWRoYW5kbGVyLmdldChzdHJlYW1JZCkhLmdldExvY2FsT2ZmZXJTZHAob3B0aW9ucyk7IFxuICAgICAgICBcbiAgICAgICAgdGhpcy5fc2lnbmFsLnNlbmRMb2NhbE9mZmVyU2RwKHtcbiAgICAgICAgICAgIHNkcDogbG9jYWxPZmZlclNkcCxcbiAgICAgICAgICAgIHB1bGxTdHJlYW1JZDogc3RyZWFtSWQsXG4gICAgICAgICAgICBwdWxsU3RyZWFtUm9vbUlkOiB0aGlzLl9yb29tSWQgLy8g5pqC5pe25rKh5pyJ5aSa5oi/6Ze0XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX3NpZ25hbC5nZXRDYW5kaWRhdGVBcnJheShzdHJlYW1JZCk7XG4gICAgICAgIGxldCBnZXRDYW5kaWRhdGVDYWxsYmFjayA9IGFzeW5jIChjYW5kaWRhdGVSZXN1bHQ6IFJUQ0ljZUNhbmRpZGF0ZUluaXRbXSkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9zaWduYWwpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NpZ25hbCBub3QgYSBpbnN0YW5jZS4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGdldEFuc3dlclNkcFJlc3VsdCA9IGF3YWl0IHRoaXMuX3NpZ25hbC5yZWNlaXZlQW5zd2VyU2RwKHN0cmVhbUlkKTtcbiAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5yZXBvcnQoJ2dldCBhbnN3ZXJzZHAnLCBnZXRBbnN3ZXJTZHBSZXN1bHQpO1xuICAgICAgICAgICAgaWYgKCdyZW1vdGVBbnN3ZXJTZHAnIGluIGdldEFuc3dlclNkcFJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgcmVtb3RlQW5zd2VyU2RwLCBwZWVySWQgfSA9IGdldEFuc3dlclNkcFJlc3VsdDtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXBTdHJlYW1JZGhhbmRsZXIuZ2V0KHN0cmVhbUlkKSEuc2V0UmVtb3RlQW5zd2VyU2RwKHsgcmVtb3RlQW5zd2VyU2RwIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLnJlcG9ydCgnZ2V0IGNhbmRpZGF0ZVJlc3VsdCcsIGNhbmRpZGF0ZVJlc3VsdCk7XG4gICAgICAgICAgICB0aGlzLl9tYXBTdHJlYW1JZGhhbmRsZXIuZ2V0KHN0cmVhbUlkKSEuc2V0SWNlQ2FuZGlkYXRlKGNhbmRpZGF0ZVJlc3VsdCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX3NpZ25hbC5vbihgQGdldGNhbmRpZGF0ZSR7c3RyZWFtSWR9YCwgKGNhbmRpZGF0ZVJlc3VsdDogUlRDSWNlQ2FuZGlkYXRlSW5pdFtdKSA9PiB7XG4gICAgICAgICAgICBnZXRDYW5kaWRhdGVDYWxsYmFjayhjYW5kaWRhdGVSZXN1bHQpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9zaWduYWwpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NpZ25hbCBub3QgYSBpbnN0YW5jZS4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3NpZ25hbC5vZmYoYEBnZXRjYW5kaWRhdGUke3N0cmVhbUlkfWApO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGdldFN0cmVhbVN0YXRlVXBkYXRlKHN0cmVhbUlkOiBzdHJpbmcpOiBQcm9taXNlPHN0cmVhbVN0YXRlPiB7XG4gICAgICAgIGlmICghdGhpcy5fc2lnbmFsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NpZ25hbCBub3QgYSBpbnN0YW5jZS4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGN1cnJlbnRIYW5kbGVyRGV2aWNlcyA9IHRoaXMuX21hcFN0cmVhbUlkaGFuZGxlci5nZXQoc3RyZWFtSWQpO1xuICAgICAgICBpZiAoIWN1cnJlbnRIYW5kbGVyRGV2aWNlcykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEZXZpY2UgaGFuZGxlciBub3QgbG9hZC4nKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuX3NpZ25hbC5vZmYoJ0ByZWNvbm5lY3Rpb24nLCB0aGlzLnJlY29ubmVjdGlvbkZ1bik7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQ6IHN0cmVhbVN0YXRlID0gYXdhaXQgY3VycmVudEhhbmRsZXJEZXZpY2VzLmdldENvbm5lY3Rpb25TdGF0ZVVwZGF0ZSgpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlID09IDEpIHtcbiAgICAgICAgICAgICAgICAvLyDkuIrmiqXmlbDmja5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fcmVwb3J0SGFuZGxlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8g5Y+W5YC86L+H5pep5Lya5rKh5pyJ5aSE55CG77yM5YGa5bu26L+fMXPlpITnkIZcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwbG9hZFJlYWx0aW1lU3RyZWFtRGF0YSgpO1xuICAgICAgICAgICAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8g5pat572R6YeN6L+eXG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3Rpb25MaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBzdG9wUHVibGlzaGluZ1N0cmVhbShzdHJlYW1JZDogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRIYW5kbGVyRGV2aWNlcyA9IHRoaXMuX21hcFN0cmVhbUlkaGFuZGxlci5nZXQoc3RyZWFtSWQpO1xuICAgICAgICBpZiAoIWN1cnJlbnRIYW5kbGVyRGV2aWNlcykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEZXZpY2UgaGFuZGxlciBub3QgbG9hZC4nKTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50SGFuZGxlckRldmljZXMuc3RvcFRyYW5zY2VpdmVyKCk7XG4gICAgICAgIGN1cnJlbnRIYW5kbGVyRGV2aWNlcy5kZXN0cm95KCk7XG5cbiAgICAgICAgdGhpcy5fbWFwU3RyZWFtSWRoYW5kbGVyLmRlbGV0ZShzdHJlYW1JZCk7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9tZWRpYSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdtZWRpYSBpcyBub3QgYSBpbnN0YW5jZScpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRoaXMuX21lZGlhLmRlbGV0ZUN1cnJlbnRTdHJlYW0oc3RyZWFtSWQpO1xuXG4gICAgICAgIGlmICghdGhpcy5fc2lnbmFsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NpZ25hbCBub3QgYSBpbnN0YW5jZS4nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zaWduYWwuc3RvcFB1c2goc3RyZWFtSWQpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5fbG9nZ2VyICYmIHRoaXMuX2xvZ2dlci5pbmZvKCdzdG9wIHB1Ymxpc2ggc3RyZWFtIHN1Y2Nlc3MuJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0b3BQbGF5aW5nU3RyZWFtKHN0cmVhbUlkOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgY3VycmVudERldmljZXMgPSB0aGlzLl9tYXBTdHJlYW1JZGhhbmRsZXIuZ2V0KHN0cmVhbUlkKTtcbiAgICAgICAgaWYgKCFjdXJyZW50RGV2aWNlcykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEZXZpY2UgaGFuZGxlciBub3QgbG9hZC4nKTtcbiAgICAgICAgfSBcbiAgICAgICAgY3VycmVudERldmljZXMuc3RvcFRyYW5zY2VpdmVyKCk7XG4gICAgICAgIGN1cnJlbnREZXZpY2VzLmRlc3Ryb3koKTtcblxuICAgICAgICAvLyBjbGVhclRpbWVvdXQodGhpcy5fcmVwb3J0SGFuZGxlKTtcblxuICAgICAgICB0aGlzLl9tYXBTdHJlYW1JZGhhbmRsZXIuZGVsZXRlKHN0cmVhbUlkKTtcblxuICAgICAgICBpZiAoIXRoaXMuX3NpZ25hbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzaWduYWwgaXMgbm90IGEgaW5zdGFuY2UuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc2lnbmFsLnN0b3BQbGF5KHN0cmVhbUlkKTtcblxuICAgICAgICB0aGlzLl9sb2dnZXIgJiYgdGhpcy5fbG9nZ2VyLmluZm8oJ3N0b3AgcGxheSBzdHJlYW0gc3VjY2Vzcy4nKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdXBkYXRlTWl4U3RyZWFtKG1peFN0cmVhbUNvbmZpZzogbWl4U3RyZWFtQ29uZmlnLCBzdWNjZXNzQ2FsbGJhY2s6IGFueSwgZmFpbGVkQ2FsbGJhY2s6IGFueSl7XG4gICAgICAgIGlmICghdGhpcy5fc2lnbmFsKSB7IHJldHVybjsgfVxuXG4gICAgICAgIHRoaXMuX3NpZ25hbC51cGRhdGVNaXhTdHJlYW0obWl4U3RyZWFtQ29uZmlnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbXV0ZVN3aXRjaChzdHJlYW1JZDogc3RyaW5nLCBtdXRlOiBib29sZWFuKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRTdHJlYW1JbmZvID0gdGhpcy5fbWFwU3RyZWFtSWRJbmZvLmdldChzdHJlYW1JZCk7XG4gICAgICAgIGlmIChjdXJyZW50U3RyZWFtSW5mbykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFN0cmVhbSA9IGN1cnJlbnRTdHJlYW1JbmZvLm1lZGlhc3RyZWFtO1xuICAgICAgICAgICAgaWYgKG11dGUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50U3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF0uZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50U3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF0uZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3N0cmVhbUlkIGlzIG5vdCBleGlzdC4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBjYW1lcmFTd2l0Y2goc3RyZWFtSWQ6IHN0cmluZywgc3RhdGU6ICdjbG9zZScgfCAnb3BlbicpIHtcbiAgICAgICAgY29uc3QgY3VycmVudFN0cmVhbUluZm8gPSB0aGlzLl9tYXBTdHJlYW1JZEluZm8uZ2V0KHN0cmVhbUlkKTtcbiAgICAgICAgaWYgKGN1cnJlbnRTdHJlYW1JbmZvKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50U3RyZWFtID0gY3VycmVudFN0cmVhbUluZm8ubWVkaWFzdHJlYW07XG4gICAgICAgICAgICBpZiAoc3RhdGUgPT0gJ29wZW4nKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdLmVuYWJsZWQgPSB0cnVlOztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdLmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignc3RyZWFtSWQgaXMgbm90IGV4aXN0LicpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyB1cGRhdGVEZXZpY2UoXG4gICAgICAgIHR5cGU6ICdhdWRpbycgfCAndmlkZW8nLCBcbiAgICAgICAgY3VycmVudFN0cmVhbTogTWVkaWFTdHJlYW0sIFxuICAgICAgICBkZXZpY2VJZDogc3RyaW5nLFxuICAgICAgICBzdHJlYW1JZD86IHN0cmluZ1xuICAgICk6IFByb21pc2U8TWVkaWFTdHJlYW0gfCBlcnJNc2c+IHtcbiAgICAgICAgbGV0IGRldmljZUNvbnN0cmFpbnRzO1xuICAgICAgICBpZiAodHlwZSA9PSAnYXVkaW8nKSB7XG4gICAgICAgICAgICBkZXZpY2VDb25zdHJhaW50cyA9IHtcbiAgICAgICAgICAgICAgICBhdWRpbzoge1xuICAgICAgICAgICAgICAgICAgICBkZXZpY2VJZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGRldmljZUlkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAndmlkZW8nKSB7XG4gICAgICAgICAgICBkZXZpY2VDb25zdHJhaW50cyA9IHtcbiAgICAgICAgICAgICAgICB2aWRlbzoge1xuICAgICAgICAgICAgICAgICAgICBkZXZpY2VJZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGRldmljZUlkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IG1lZGlhc3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoZGV2aWNlQ29uc3RyYWludHMpO1xuICAgICAgICAgICAgY29uc3QgbWVkaWFzdHJlYW1UcmFjayA9IHR5cGUgPT0gJ3ZpZGVvJyA/IG1lZGlhc3RyZWFtLmdldFZpZGVvVHJhY2tzKClbMF0gOiBtZWRpYXN0cmVhbS5nZXRBdWRpb1RyYWNrcygpWzBdO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVwbGFjZVRyYWNrKGN1cnJlbnRTdHJlYW0sIG1lZGlhc3RyZWFtVHJhY2ssIHN0cmVhbUlkKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGVyckNvZGUuZ2V0KCdkZXZpY2VzU3VwcG9ydEVycm9yJykgYXMgZXJyTXNnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHJlcGxhY2VUcmFjayhjdXJyZW50U3RyZWFtOiBNZWRpYVN0cmVhbSwgdHJhY2s6IE1lZGlhU3RyZWFtVHJhY2ssIHN0cmVhbUlkPzogc3RyaW5nKTogTWVkaWFTdHJlYW0ge1xuICAgICAgICBpZiAoc3RyZWFtSWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRIYW5kbGVyID0gdGhpcy5fbWFwU3RyZWFtSWRoYW5kbGVyLmdldChzdHJlYW1JZCk7XG4gICAgICAgICAgICBpZiAoY3VycmVudEhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50SGFuZGxlci5yZXBsYWNlVHJhY2sodHJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fbWVkaWEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbWVkaWEgaXMgbm90IGEgaW5zdGFuY2UnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fbWVkaWEucmVwbGFjZVRyYWNrKGN1cnJlbnRTdHJlYW0sIHRyYWNrKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgY2hhbmdlQ29uc3RyYWludHMoXG4gICAgICAgIGN1cnJlbnRTdHJlYW06IE1lZGlhU3RyZWFtLFxuICAgICAgICB0eXBlOiAnYXVkaW8nIHwgJ3ZpZGVvJywgXG4gICAgICAgIGNvbnN0cmFpbnM6IE1lZGlhVHJhY2tDb25zdHJhaW50cyAmIHNvdXJjZUNhbWVyYSxcbiAgICAgICAgc3RyZWFtSWQ/OiBzdHJpbmdcbiAgICApOiBQcm9taXNlPGNoYW5nZUNvbnN0cmFpbnRzUmVzdWx0IHwgdm9pZD4ge1xuICAgICAgICBpZiAoY29uc3RyYWlucy5hdWRpb0lucHV0KSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZURldmljZSh0eXBlLCBjdXJyZW50U3RyZWFtLCBjb25zdHJhaW5zLmF1ZGlvSW5wdXQsIHN0cmVhbUlkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uc3RyYWlucy52aWRlb0lucHV0KSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZURldmljZSh0eXBlLCBjdXJyZW50U3RyZWFtLCBjb25zdHJhaW5zLnZpZGVvSW5wdXQsIHN0cmVhbUlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghY3VycmVudFN0cmVhbSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5lcnJDb2RlLmdldCgnY29uc3RyYWluQ2hhbmdlRmFpbGVkJykgYXMgZXJyTXNnXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGUgPT09ICdhdWRpbycpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgY3VycmVudFN0cmVhbS5nZXRBdWRpb1RyYWNrcygpWzBdLmFwcGx5Q29uc3RyYWludHMoY29uc3RyYWlucyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3ZpZGVvJykge1xuICAgICAgICAgICAgbGV0IHZpZGVvQ29uc3RyYWlucyA9IGNvbnN0cmFpbnM7XG4gICAgICAgICAgICBpZiAoY29uc3RyYWlucy52aWRlb1F1YWxpdHkpIHtcbiAgICAgICAgICAgICAgICB2aWRlb0NvbnN0cmFpbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmNvbnN0cmFpbnMsXG4gICAgICAgICAgICAgICAgICAgIC4uLmRlZmF1bHRPY3RvcHVzTWVkaWFDb25maWcuY2FtZXJhLnZpZGVvUXVhbGl0eVtjb25zdHJhaW5zLnZpZGVvUXVhbGl0eSAtIDFdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCBjdXJyZW50U3RyZWFtLmdldFZpZGVvVHJhY2tzKClbMF0uYXBwbHlDb25zdHJhaW50cyh2aWRlb0NvbnN0cmFpbnMpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5lcnJDb2RlLmdldCgnY29uc3RyYWluQ2hhbmdlU3VjY2VzcycpIGFzIGVyck1zZ1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgdXBsb2FkUmVhbHRpbWVTdHJlYW1EYXRhKCkge1xuICAgICAgICBsZXQgcmVzdWx0OiBhbnkgPSB7XG4gICAgICAgICAgICBjcnlzdGFsQmFsbDogW10sXG4gICAgICAgICAgICBzZW5zb3JEYXRhOiBbXVxuICAgICAgICB9O1xuICAgICAgICBmb3IgKGNvbnN0IFtzdHJlYW1JZCwgY3VycmVudEhhbmRsZXJdIG9mIHRoaXMuX21hcFN0cmVhbUlkaGFuZGxlcikge1xuICAgICAgICAgICAgaWYgKCFjdXJyZW50SGFuZGxlcikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignc3RyZWFtSWQgaXMgbm90IGV4aXN0LicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY3J5c3RhbEJhbGxEYXRhID0gYXdhaXQgY3VycmVudEhhbmRsZXIuZ2V0U3RhdHNEYXRhKHR5cGUuU2Vuc29yKTtcbiAgICAgICAgICAgIGlmIChjcnlzdGFsQmFsbERhdGEuY3J5c3RhbEJhbGwgIT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LmNyeXN0YWxCYWxsLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICByb29tX2lkOiB0aGlzLl9yb29tSWQsXG4gICAgICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHN0cmVhbUlkLFxuICAgICAgICAgICAgICAgICAgICAuLi5jcnlzdGFsQmFsbERhdGEuY3J5c3RhbEJhbGxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIHJlc3VsdC5zZW5zb3JEYXRhLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICByb29tX2lkOiB0aGlzLl9yb29tSWQsXG4gICAgICAgICAgICAgICAgICAgIHNlbGZfdXNlcl9pZDogdGhpcy5fdXNlcklkLFxuICAgICAgICAgICAgICAgICAgICBzdHJlYW1fdXNlcl9pZDogc3RyZWFtSWQsXG4gICAgICAgICAgICAgICAgICAgIC4uLmNyeXN0YWxCYWxsRGF0YS5zZW5zb3JcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5fc2lnbmFsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NpZ25hbCBub3QgYSBpbnN0YW5jZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0LmNyeXN0YWxCYWxsLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fc2lnbmFsLnVwbG9hZFN0YXRzRGF0YShyZXN1bHQpO1xuICAgICAgICAgICAgcmVzdWx0ID0ge1xuICAgICAgICAgICAgICAgIGNyeXN0YWxCYWxsOiBbXSxcbiAgICAgICAgICAgICAgICBzZW5zb3JEYXRhOiBbXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3JlcG9ydEhhbmRsZSA9IHNldFRpbWVvdXQodGhpcy51cGxvYWRSZWFsdGltZVN0cmVhbURhdGEuYmluZCh0aGlzKSwgNTAwMCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZWNvbm5lY3Rpb25MaXN0ZW5lcnMoKSB7XG4gICAgICAgIGlmICghdGhpcy5fc2lnbmFsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NpZ25hbCBub3QgYSBpbnN0YW5jZS4nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zaWduYWwub24oJ0ByZWNvbm5lY3Rpb24nLCB0aGlzLnJlY29ubmVjdGlvbkZ1bik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZWNvbm5lY3Rpb25GdW4gPSAocmVzdWx0OiBhbnkpID0+IHtcbiAgICAgICAgY29uc3QgbWVkaWFTdHJlYW0gPSB0aGlzLl9tYXBTdHJlYW1JZEluZm8uZ2V0KHJlc3VsdC5zdHJlYW1JZCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRIYW5kbGVyID0gdGhpcy5fbWFwU3RyZWFtSWRoYW5kbGVyLmdldChyZXN1bHQuc3RyZWFtSWQpO1xuXG4gICAgICAgIGlmICghbWVkaWFTdHJlYW0gfHwgIWN1cnJlbnRIYW5kbGVyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3N0cmVhbUlkIGlzIG5vdCBleGlzdC4nKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY3VycmVudEhhbmRsZXIuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLl9tYXBTdHJlYW1JZGhhbmRsZXIuZGVsZXRlKHJlc3VsdC5zdHJlYW1JZCk7XG5cbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3JlcG9ydEhhbmRsZSk7XG5cbiAgICAgICAgaWYgKHJlc3VsdC51c2VySWQgPT0gdGhpcy5fdXNlcklkKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0UHVibGlzaGluZ1N0cmVhbShcbiAgICAgICAgICAgICAgICByZXN1bHQuc3RyZWFtSWQsXG4gICAgICAgICAgICAgICAgbWVkaWFTdHJlYW0ubWVkaWFzdHJlYW1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0UGxheWluZ1N0cmVhbShcbiAgICAgICAgICAgICAgICByZXN1bHQuc3RyZWFtSWRcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgZ2V0TWVkaWFTdHJlYW1UcmFja1N0YXRzKHN0cmVhbUlkOiBzdHJpbmcsIHR5cGU6IG51bWJlcikge1xuICAgICAgICBjb25zdCBjdXJyZW50SGFuZGxlciA9IHRoaXMuX21hcFN0cmVhbUlkaGFuZGxlci5nZXQoc3RyZWFtSWQpO1xuICAgICAgICBpZiAoIWN1cnJlbnRIYW5kbGVyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3N0cmVhbUlkIGlzIG5vdCBleGlzdC4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXdhaXQgY3VycmVudEhhbmRsZXIuZ2V0U3RhdHNEYXRhKHR5cGUpO1xuICAgIH1cbn07XG4iLCJcbmNvbnN0IF9fREVGQVVMVF9NRURJQV9DT05GSUdfXyA9IHtcblx0Y2FtZXJhOiB7XG5cdFx0dmlkZW9RdWFsaXR5OiBbXG5cdFx0XHR7XG5cdFx0XHRcdHdpZHRoOiAzMjAsXG5cdFx0XHRcdGhlaWdodDogMjQwLFxuXHRcdFx0XHRmcmFtZVJhdGU6IDE1LFxuXHRcdFx0XHRiaXRSYXRlOiAzMDBcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdHdpZHRoOiA2NDAsXG5cdFx0XHRcdGhlaWdodDogNDgwLFxuXHRcdFx0XHRmcmFtZVJhdGU6IDE1LFxuXHRcdFx0XHRiaXRSYXRlOiA4MDBcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdHdpZHRoOiAxMjgwLFxuXHRcdFx0XHRoZWlnaHQ6IDcyMCxcblx0XHRcdFx0ZnJhbWVSYXRlOiAyMCxcblx0XHRcdFx0Yml0UmF0ZTogMTUwMFxuXHRcdFx0fVxuXHRcdF1cblx0fSxcblx0c2NyZWVuOiB7XG5cdFx0dmlkZW9RdWFsaXR5OiBbXG5cdFx0XHR7XG5cdFx0XHRcdGZyYW1lUmF0ZTogMjAsXG5cdFx0XHRcdGJpdFJhdGU6IDgwMFxuXHRcdFx0fSwgXG5cdFx0XHR7XG5cdFx0XHRcdGZyYW1lUmF0ZTogMTUsXG5cdFx0XHRcdGJpdFJhdGU6IDE1MDBcblx0XHRcdH0sIFxuXHRcdFx0e1xuXHRcdFx0XHRmcmFtZVJhdGU6IDUsXG5cdFx0XHRcdGJpdFJhdGU6IDIwMDBcblx0XHRcdH1cblx0XHRdXG5cdH0sXG5cdGN1c3RvbToge31cbn07XG5leHBvcnQgZGVmYXVsdCBfX0RFRkFVTFRfTUVESUFfQ09ORklHX187IiwiXG5pbXBvcnQgKiBhcyBib3dzZXIgZnJvbSAnYm93c2VyJztcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJy4uL2xvZy9sb2dnZXInO1xuaW1wb3J0IHtcblx0SGFuZGxlckZhY3RvcnksXG5cdEhhbmRsZXJJbnRlcmZhY2UsXG5cdEhhbmRsZXJTZXRMb2NhbE9mZmVyU2RwT3B0aW9ucyxcblx0SGFuZGxlclNldExvY2FsT2ZmZXJTZHBSZXN1bHQsXG5cdEhhbmRsZXJTZXRSZW1vdGVBbnN3ZXJTZHBPcHRpb25zLFxuXHRjdXN0b21QYXJhbXNcbn0gZnJvbSAnLi9oYW5kbGVycy9IYW5kbGVySW50ZXJmYWNlJztcblxuaW1wb3J0IHtcbiAgICBzdHJlYW1TdGF0ZVxufSBmcm9tICcuLi8uLi9jb21tb24vZXhwb3J0SW50ZXJmYWNlJztcbmltcG9ydCBldmVudGVtaXQgZnJvbSAnZXZlbnRlbWl0dGVyMyc7XG5pbXBvcnQgeyBDaHJvbWU1OCB9IGZyb20gJy4vaGFuZGxlcnMvQ2hyb21lNTgnO1xuaW1wb3J0IHsgQ2hyb21lNjggfSBmcm9tICcuL2hhbmRsZXJzL0Nocm9tZTY4JztcbmltcG9ydCB7IENocm9tZTcwIH0gZnJvbSAnLi9oYW5kbGVycy9DaHJvbWU3MCc7XG5pbXBvcnQgeyBTYWZhcmkxMSB9IGZyb20gJy4vaGFuZGxlcnMvU2FmYXJpMTEnO1xuaW1wb3J0IHsgU2FmYXJpMTIgfSBmcm9tICcuL2hhbmRsZXJzL1NhZmFyaTEyJztcbmltcG9ydCB7IEZpcmVmb3g2MCB9IGZyb20gJy4vaGFuZGxlcnMvRmlyZWZveDYwJztcbmltcG9ydCB7IEVkZ2U4MCB9IGZyb20gJy4vaGFuZGxlcnMvRWRnZTgwJztcbmltcG9ydCB7IE9wZXJhNTYgfSBmcm9tICcuL2hhbmRsZXJzL09wZXJhNTYnO1xuaW1wb3J0IHsgT3BlcmE1MiB9IGZyb20gJy4vaGFuZGxlcnMvT3BlcmE1MidcbmltcG9ydCB7IE9wZXJhNDUgfSBmcm9tICcuL2hhbmRsZXJzL09wZXJhNDUnO1xuaW1wb3J0IHsgUVEgfSBmcm9tICcuL2hhbmRsZXJzL1FRJztcbmltcG9ydCB7IFdlQ2hhdDcwIH0gZnJvbSAnLi9oYW5kbGVycy9XZUNoYXQ3MCc7XG5cbmV4cG9ydCB0eXBlIEJ1aWx0aW5IYW5kbGVyTmFtZSA9XG5cdHwgJ0Nocm9tZTcwJ1xuICAgIHwgJ0Nocm9tZTY4J1xuICAgIHwgJ0Nocm9tZTU4J1xuXHR8ICdTYWZhcmkxMSdcblx0fCAnU2FmYXJpMTInXG5cdHwgJ0ZpcmVmb3g2MCdcblx0fCAnRWRnZTgwJ1xuXHR8ICdPcGVyYTU2J1xuXHR8ICdPcGVyYTUyJ1xuXHR8ICdPcGVyYTQ1J1xuXHR8ICdRUSdcblx0fCAnV2VDaGF0NzAnO1xuXG5leHBvcnQgdHlwZSBEZXZpY2VPcHRpb25zID1cbntcblx0LyoqXG5cdCAqIFRoZSBuYW1lIG9mIG9uZSBvZiB0aGUgYnVpbHRpbiBoYW5kbGVycy5cblx0ICovXG5cdGhhbmRsZXJOYW1lPzogQnVpbHRpbkhhbmRsZXJOYW1lO1xuXHQvKipcblx0ICogQ3VzdG9tIGhhbmRsZXIgZmFjdG9yeS5cblx0ICovXG5cdGhhbmRsZXJGYWN0b3J5PzogSGFuZGxlckZhY3Rvcnk7XG5cdC8qKlxuXHQgKiBERVBSRUNBVEVEIVxuXHQgKiBUaGUgbmFtZSBvZiBvbmUgb2YgdGhlIGJ1aWx0aW4gaGFuZGxlcnMuXG5cdCAqL1xuXHRIYW5kbGVyPzogc3RyaW5nO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGRldGVjdERldmljZSgpOiBCdWlsdGluSGFuZGxlck5hbWUgfCB1bmRlZmluZWRcbntcblx0Ly8gQnJvd3Nlci5cblx0aWYgKHR5cGVvZiBuYXZpZ2F0b3IgPT09ICdvYmplY3QnICYmIHR5cGVvZiBuYXZpZ2F0b3IudXNlckFnZW50ID09PSAnc3RyaW5nJylcblx0e1xuXHRcdGNvbnN0IHVhID0gbmF2aWdhdG9yLnVzZXJBZ2VudDtcblx0XHRjb25zdCBicm93c2VyID0gYm93c2VyLmdldFBhcnNlcih1YSk7XG5cdFx0Y29uc3QgZW5naW5lID0gYnJvd3Nlci5nZXRFbmdpbmUoKTtcblx0XHQvLyBDaHJvbWUgYW5kIENocm9taXVtLlxuXHRcdGlmIChicm93c2VyLnNhdGlzZmllcyh7IGNocm9tZTogJz49NzAnLCBjaHJvbWl1bTogJz49NzAnIH0pKVxuXHRcdHtcblx0XHRcdHJldHVybiAnQ2hyb21lNzAnO1xuXHRcdH1cblx0XHRlbHNlIGlmIChicm93c2VyLnNhdGlzZmllcyh7IGNocm9tZTogJz49NjgnLCBjaHJvbWl1bTogJz49NjgnIH0pKVxuXHRcdHtcblx0XHRcdHJldHVybiAnQ2hyb21lNjgnO1xuXHRcdH1cblx0XHRlbHNlIGlmIChicm93c2VyLnNhdGlzZmllcyh7IGNocm9tZTogJz49NTgnLCBjaHJvbWl1bTogJz49NTgnIH0pKVxuXHRcdHtcblx0XHRcdHJldHVybiAnQ2hyb21lNTgnO1xuXHRcdH1cblx0XHQvLyBGaXJlZm94LlxuXHRcdGVsc2UgaWYgKGJyb3dzZXIuc2F0aXNmaWVzKHsgZmlyZWZveDogJz49NjAnIH0pKVxuXHRcdHtcblx0XHRcdHJldHVybiAnRmlyZWZveDYwJztcblx0XHR9XG5cdFx0Ly8gU2FmYXJpIHdpdGggVW5pZmllZC1QbGFuIHN1cHBvcnQgZW5hYmxlZC5cblx0XHRlbHNlIGlmIChcblx0XHRcdGJyb3dzZXIuc2F0aXNmaWVzKHsgc2FmYXJpOiAnPj0xMi4wJyB9KSAmJlxuXHRcdFx0dHlwZW9mIFJUQ1J0cFRyYW5zY2VpdmVyICE9PSAndW5kZWZpbmVkJ1xuXHRcdClcblx0XHR7XG5cdFx0XHRyZXR1cm4gJ1NhZmFyaTEyJztcblx0XHR9XG5cdFx0Ly8gU2FmYXJpIHdpdGggUGxhYi1CIHN1cHBvcnQuXG5cdFx0ZWxzZSBpZiAoYnJvd3Nlci5zYXRpc2ZpZXMoeyBzYWZhcmk6ICc+PTExJyB9KSlcblx0XHR7XG5cdFx0XHRyZXR1cm4gJ1NhZmFyaTExJztcblx0XHR9XG5cdFx0Ly8gT2xkIEVkZ2Ugd2l0aCBPUlRDIHN1cHBvcnQuXG5cdFx0ZWxzZSBpZiAoXG5cdFx0XHRicm93c2VyLnNhdGlzZmllcyh7ICdtaWNyb3NvZnQgZWRnZSc6ICc+PTExJyB9KVxuXHRcdClcblx0XHR7XG5cdFx0XHRyZXR1cm4gJ0VkZ2U4MCc7XG5cdFx0fVxuXHRcdC8vd2VDaGF0XG5cdFx0ZWxzZSBpZiAoYnJvd3Nlci5zYXRpc2ZpZXMoeyBXZUNoYXQ6ICc+PTcuMCcgfSkpIHtcblxuXHRcdFx0cmV0dXJuICdXZUNoYXQ3MCc7XG5cdFx0fVxuXHRcdGVsc2UgaWYgKGJyb3dzZXIuc2F0aXNmaWVzKHsgJ09wZXJhJzogJz49NTknIH0pKVxuXHRcdHtcblx0XHRcdHJldHVybiAnQ2hyb21lNzAnO1xuXHRcdH1cblx0XHRlbHNlIGlmIChicm93c2VyLnNhdGlzZmllcyh7ICdPcGVyYSc6ICc+PTU2JyB9KSlcblx0XHR7XG5cdFx0XHRyZXR1cm4gJ09wZXJhNTYnO1xuXHRcdH1cblx0XHRlbHNlIGlmIChicm93c2VyLnNhdGlzZmllcyh7ICdPcGVyYSc6ICc+PTUyJyB9KSlcblx0XHR7XG5cdFx0XHRyZXR1cm4gJ09wZXJhNTInO1xuXHRcdH1cblx0XHQvLyBPbGQgb3BlcmEgc3VwcG9ydC5cblx0XHRlbHNlIGlmIChicm93c2VyLnNhdGlzZmllcyh7ICdPcGVyYSc6ICc+PTQ1JyB9KSlcblx0XHR7XG5cdFx0XHRyZXR1cm4gJ09wZXJhNDUnO1xuXHRcdH1cblx0XHRlbHNlIGlmIChicm93c2VyLnNhdGlzZmllcyh7ICdRUSBCcm93c2VyJzogJz49MTAuNScgfSkpXG5cdFx0e1xuXHRcdFx0cmV0dXJuICdRUSc7XG5cdFx0fVxuXHRcdC8vIEJlc3QgZWZmb3J0IGZvciBDaHJvbWl1bSBiYXNlZCBicm93c2Vycy5cblx0XHRlbHNlIGlmIChlbmdpbmUubmFtZSAmJiBlbmdpbmUubmFtZS50b0xvd2VyQ2FzZSgpID09PSAnYmxpbmsnKVxuXHRcdHtcblx0XHRcdGNvbnN0IG1hdGNoID0gdWEubWF0Y2goLyg/Oig/OkNocm9tZXxDaHJvbWl1bSkpWyAvXShcXHcrKS9pKTtcblxuXHRcdFx0aWYgKG1hdGNoKVxuXHRcdFx0e1xuXHRcdFx0XHRjb25zdCB2ZXJzaW9uID0gTnVtYmVyKG1hdGNoWzFdKTtcblxuXHRcdFx0XHRpZiAodmVyc2lvbiA+PSA3MClcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHJldHVybiAnQ2hyb21lNzAnO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2UgaWYgKHZlcnNpb24gPj0gNjgpXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRyZXR1cm4gJ0Nocm9tZTY4Jztcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRyZXR1cm4gJ0Nocm9tZTU4Jztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0ZWxzZVxuXHRcdFx0e1xuXHRcdFx0XHRyZXR1cm4gJ0Nocm9tZTcwJztcblx0XHRcdH1cblx0XHR9XG5cdFx0Ly8gVW5zdXBwb3J0ZWQgYnJvd3Nlci5cblx0XHRlbHNlXG5cdFx0e1xuXHRcdFx0Y29uc29sZS53YXJuKFxuXHRcdFx0XHQndGhpcy5fZGV0ZWN0RGV2aWNlKCkgfCBicm93c2VyIG5vdCBzdXBwb3J0ZWQgW25hbWU6JXMsIHZlcnNpb246JXNdJyxcblx0XHRcdFx0YnJvd3Nlci5nZXRCcm93c2VyTmFtZSgpLCBicm93c2VyLmdldEJyb3dzZXJWZXJzaW9uKCkpO1xuXG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH1cblx0fVxuXHQvLyBVbmtub3duIGRldmljZS5cblx0ZWxzZVxuXHR7XG5cdFx0Y29uc29sZS53YXJuKCd0aGlzLl9kZXRlY3REZXZpY2UoKSB8IHVua25vd24gZGV2aWNlJyk7XG5cblx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBEZXZpY2UgZXh0ZW5kcyBldmVudGVtaXRcbntcblx0XG5cdHByaXZhdGUgcmVhZG9ubHkgX2hhbmRsZXJGYWN0b3J5OiBIYW5kbGVyRmFjdG9yeTtcblx0cHJpdmF0ZSByZWFkb25seSBfaGFuZGxlck5hbWU6IHN0cmluZztcblx0cHJpdmF0ZSByZWFkb25seSBfaGFuZGxlcjogSGFuZGxlckludGVyZmFjZTtcblx0cHJpdmF0ZSBfZGlyZWN0aW9uOiAnc2VuZCcgfCAncmVjdicgPSAnc2VuZCc7XG5cdHByaXZhdGUgX3N0cmVhbUlkOiBzdHJpbmcgPSAnJztcblx0cHJpdmF0ZSBfbG9nZ2VyOiBhbnkgPSBudWxsO1xuXG5cdGNvbnN0cnVjdG9yKHsgaGFuZGxlck5hbWUsIGhhbmRsZXJGYWN0b3J5LCBIYW5kbGVyIH06IERldmljZU9wdGlvbnMgPSB7fSlcblx0e1xuXHRcdHN1cGVyKCk7XG5cdFx0dGhpcy5fbG9nZ2VyID0gbG9nZ2VyLmNvbGxlY3Q7XG5cdFx0Ly8gSGFuZGxlIGRlcHJlY2F0ZWQgb3B0aW9uLlxuXHRcdGlmIChIYW5kbGVyKVxuXHRcdHtcblx0XHRcdHRoaXMuX2xvZ2dlci53YXJuKFxuXHRcdFx0XHQnY29uc3RydWN0b3IoKSB8IEhhbmRsZXIgb3B0aW9uIGlzIERFUFJFQ0FURUQsIHVzZSBoYW5kbGVyTmFtZSBvciBoYW5kbGVyRmFjdG9yeSBpbnN0ZWFkJyk7XG5cblx0XHRcdGlmICh0eXBlb2YgSGFuZGxlciA9PT0gJ3N0cmluZycpXG5cdFx0XHRcdGhhbmRsZXJOYW1lID0gSGFuZGxlciBhcyBCdWlsdGluSGFuZGxlck5hbWU7XG5cdFx0XHRlbHNlXG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoXG5cdFx0XHRcdFx0J25vbiBzdHJpbmcgSGFuZGxlciBvcHRpb24gbm8gbG9uZ2VyIHN1cHBvcnRlZCwgdXNlIGhhbmRsZXJGYWN0b3J5IGluc3RlYWQnKTtcblx0XHR9XG5cblx0XHRpZiAoaGFuZGxlck5hbWUgJiYgaGFuZGxlckZhY3RvcnkpXG5cdFx0e1xuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihcblx0XHRcdFx0J2p1c3Qgb25lIG9mIGhhbmRsZXJOYW1lIG9yIGhhbmRsZXJJbnRlcmZhY2UgY2FuIGJlIGdpdmVuJyk7XG5cdFx0fVxuXG5cdFx0aWYgKGhhbmRsZXJGYWN0b3J5KVxuXHRcdHtcblx0XHRcdHRoaXMuX2hhbmRsZXJGYWN0b3J5ID0gaGFuZGxlckZhY3Rvcnk7XG5cdFx0fVxuXHRcdGVsc2Vcblx0XHR7XG5cdFx0XHRpZiAoaGFuZGxlck5hbWUpXG5cdFx0XHR7XG5cdFx0XHRcdHRoaXMuX2xvZ2dlci5kZWJ1ZygnY29uc3RydWN0b3IoKSB8IGhhbmRsZXIgZ2l2ZW46ICVzJywgaGFuZGxlck5hbWUpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZVxuXHRcdFx0e1xuXHRcdFx0XHRoYW5kbGVyTmFtZSA9IGRldGVjdERldmljZSgpO1xuXHRcdFx0XHRpZiAoaGFuZGxlck5hbWUpXG5cdFx0XHRcdFx0dGhpcy5fbG9nZ2VyLmRlYnVnKCdjb25zdHJ1Y3RvcigpIHwgZGV0ZWN0ZWQgaGFuZGxlcjogJXMnLCBoYW5kbGVyTmFtZSk7XG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ2RldmljZSBub3Qgc3VwcG9ydGVkJyk7XG5cdFx0XHR9XG5cblx0XHRcdFxuXHRcdFx0c3dpdGNoIChoYW5kbGVyTmFtZSlcblx0XHRcdHtcblx0XHRcdFx0Y2FzZSAnQ2hyb21lNzAnOlxuXHRcdFx0XHRcdHRoaXMuX2hhbmRsZXJGYWN0b3J5ID0gQ2hyb21lNzAuY3JlYXRlRmFjdG9yeSgpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICdDaHJvbWU2OCc6XG5cdFx0XHRcdFx0dGhpcy5faGFuZGxlckZhY3RvcnkgPSBDaHJvbWU2OC5jcmVhdGVGYWN0b3J5KCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJ0Nocm9tZTU4Jzpcblx0XHRcdFx0XHR0aGlzLl9oYW5kbGVyRmFjdG9yeSA9IENocm9tZTU4LmNyZWF0ZUZhY3RvcnkoKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAnRmlyZWZveDYwJzpcblx0XHRcdFx0XHR0aGlzLl9oYW5kbGVyRmFjdG9yeSA9IEZpcmVmb3g2MC5jcmVhdGVGYWN0b3J5KCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJ1NhZmFyaTEyJzpcblx0XHRcdFx0XHR0aGlzLl9oYW5kbGVyRmFjdG9yeSA9IFNhZmFyaTEyLmNyZWF0ZUZhY3RvcnkoKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAnU2FmYXJpMTEnOlxuXHRcdFx0XHRcdHRoaXMuX2hhbmRsZXJGYWN0b3J5ID0gU2FmYXJpMTEuY3JlYXRlRmFjdG9yeSgpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICdFZGdlODAnOlxuXHRcdFx0XHRcdHRoaXMuX2hhbmRsZXJGYWN0b3J5ID0gRWRnZTgwLmNyZWF0ZUZhY3RvcnkoKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAnT3BlcmE1Nic6XG5cdFx0XHRcdFx0dGhpcy5faGFuZGxlckZhY3RvcnkgPSBPcGVyYTU2LmNyZWF0ZUZhY3RvcnkoKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAnT3BlcmE1Mic6XG5cdFx0XHRcdFx0dGhpcy5faGFuZGxlckZhY3RvcnkgPSBPcGVyYTUyLmNyZWF0ZUZhY3RvcnkoKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAnT3BlcmE0NSc6XG5cdFx0XHRcdFx0dGhpcy5faGFuZGxlckZhY3RvcnkgPSBPcGVyYTQ1LmNyZWF0ZUZhY3RvcnkoKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAnUVEnOlxuXHRcdFx0XHRcdHRoaXMuX2hhbmRsZXJGYWN0b3J5ID0gUVEuY3JlYXRlRmFjdG9yeSgpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICdXZUNoYXQ3MCc6XG5cdFx0XHRcdFx0dGhpcy5faGFuZGxlckZhY3RvcnkgPSBXZUNoYXQ3MC5jcmVhdGVGYWN0b3J5KCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihgdW5rbm93biBoYW5kbGVyTmFtZSBcIiR7aGFuZGxlck5hbWV9XCJgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBDcmVhdGUgYSB0ZW1wb3JhbCBoYW5kbGVyIHRvIGdldCBpdHMgbmFtZS5cblx0XHR0aGlzLl9oYW5kbGVyID0gdGhpcy5faGFuZGxlckZhY3RvcnkoKTtcblxuXHRcdHRoaXMuX2hhbmRsZXJOYW1lID0gdGhpcy5faGFuZGxlci5uYW1lO1xuXG5cdFx0dGhpcy5faGFuZGxlci5jbG9zZSgpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRoZSBSVEMgaGFuZGxlciBuYW1lLlxuXHQgKi9cblx0Z2V0IGhhbmRsZXJOYW1lKCk6IHN0cmluZ1xuXHR7XG5cdFx0cmV0dXJuIHRoaXMuX2hhbmRsZXJOYW1lO1xuXHR9XG5cblx0LyoqXG5cdCAqIEluaXRpYWxpemUgdGhlIERldmljZS5cblx0ICovXG5cdGFzeW5jIGxvYWQoe1xuXHRcdHN0cmVhbUlkLFxuXHRcdGRpcmVjdGlvbixcblx0XHRpY2VTZXJ2ZXJzLFxuXHRcdGljZVRyYW5zcG9ydFBvbGljeVxuXHR9OiBhbnkpOiBQcm9taXNlPHZvaWQ+XG5cdHtcblxuXHRcdHRyeVxuXHRcdHtcblx0XHRcdHRoaXMuX2xvZ2dlci5yZXBvcnQoJ2RldmljZSBpbml0JywgeyBzdHJlYW1JZCwgZGlyZWN0aW9uIH0pO1xuXHRcdFx0dGhpcy5fc3RyZWFtSWQgPSBzdHJlYW1JZDtcblx0XHRcdHRoaXMuX2RpcmVjdGlvbiA9IGRpcmVjdGlvbjtcblxuXHRcdFx0dGhpcy5faGFuZGxlci5ydW4oe1xuXHRcdFx0XHRzdHJlYW1JZCxcblx0XHRcdFx0ZGlyZWN0aW9uXG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Y2F0Y2ggKGVycm9yKVxuXHRcdHtcblx0XHRcdGlmICh0aGlzLl9oYW5kbGVyKSB7XG5cdFx0XHRcdHRoaXMuX2hhbmRsZXIuY2xvc2UoKTtcblx0XHRcdH1cblxuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXHR9XG5cblx0ZGVzdHJveSgpIHtcblx0XHR0aGlzLl9oYW5kbGVyLmNsb3NlKCk7XG5cdH1cblxuXHRhc3luYyBnZXRMb2NhbE9mZmVyU2RwKCBwYXJhbXM/OiBIYW5kbGVyU2V0TG9jYWxPZmZlclNkcE9wdGlvbnMgKTogUHJvbWlzZTxIYW5kbGVyU2V0TG9jYWxPZmZlclNkcFJlc3VsdD4gIHtcblx0XHR0aGlzLl9sb2dnZXIucmVwb3J0KCdnZXRMb2NhbE9mZmVyU2RwIHBhcmFtcycsIHBhcmFtcyk7XG5cdFx0dGhpcy5faGFuZGxlci5zZXRMb2NhbE9mZmVyU2RwKHBhcmFtcyk7XG5cdFx0Y29uc3QgbG9jYWxPZmZlclNkcCA9IGF3YWl0IHRoaXMuX2hhbmRsZXIuZ2V0TG9jYWxPZmZlclNkcCgpO1xuXHRcdHJldHVybiBsb2NhbE9mZmVyU2RwO1xuXHR9IFxuXG5cdHNldFJlbW90ZUFuc3dlclNkcCh7IHJlbW90ZUFuc3dlclNkcCB9OiBIYW5kbGVyU2V0UmVtb3RlQW5zd2VyU2RwT3B0aW9ucykge1xuXHRcdHJldHVybiB0aGlzLl9oYW5kbGVyLnNldFJlbW90ZUFuc3dlclNkcCh7IHJlbW90ZUFuc3dlclNkcCB9KTtcblx0fVxuXG5cdHNldEljZUNhbmRpZGF0ZShjYW5kaWRhdGU6IFJUQ0ljZUNhbmRpZGF0ZUluaXRbXSkge1xuXHRcdHRoaXMuX2hhbmRsZXIuc2V0SWNlQ2FuZGlkYXRlKGNhbmRpZGF0ZSk7XG5cdH1cblxuXHRzdG9wVHJhbnNjZWl2ZXIoKSB7XG5cdFx0dGhpcy5faGFuZGxlci5zdG9wVHJhbnNjZWl2ZXIoKTtcblx0fVxuXG5cdGFzeW5jIGdldENvbm5lY3Rpb25TdGF0ZVVwZGF0ZSgpOiBQcm9taXNlPHN0cmVhbVN0YXRlPiB7XG5cdFx0Y29uc3QgeyBzdGF0ZSwgY29kZSB9ID0gIGF3YWl0IHRoaXMuX2hhbmRsZXIuZ2V0SUNFQ29ubmVjdGlvblN0YXRlKCk7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN0YXRlLFxuXHRcdFx0Y29kZSxcblx0XHRcdHN0cmVhbUlkOiB0aGlzLl9zdHJlYW1JZFxuXHRcdH1cblx0fVxuXG5cdGFzeW5jIGdldFBsYXlTdHJlYW0oKTogUHJvbWlzZTxNZWRpYVN0cmVhbT4ge1xuXHRcdHJldHVybiBhd2FpdCB0aGlzLl9oYW5kbGVyLmdldFRyYWNrKCk7XG5cdH1cblxuXHRzZXRVc2VyQ3VzdG9tUGFyYW1zKGN1c3RvbVBhcmFtczogY3VzdG9tUGFyYW1zKSB7XG5cdFx0dGhpcy5fbG9nZ2VyLmluZm8oJ3NldEN1c3RvbSBwYXJhbXMnLCBjdXN0b21QYXJhbXMpO1xuXHRcdHRoaXMuX2hhbmRsZXIuc2V0Q3VzdG9tZXJWYWx1ZShjdXN0b21QYXJhbXMpO1xuXHR9XG5cblx0cmVwbGFjZVRyYWNrKHRyYWNrOiBNZWRpYVN0cmVhbVRyYWNrKSB7XG5cdFx0dGhpcy5faGFuZGxlci5yZXBsYWNlVHJhY2sodHJhY2spO1xuXHR9XG5cblx0YXN5bmMgZ2V0U3RhdHNEYXRhKHR5cGU6IG51bWJlcikge1xuXHRcdC8vIHJldHVybiBhd2FpdCB0aGlzLl9oYW5kbGVyLnRyYW5zcG9ydFN0YXRzKCk7XG5cdFx0cmV0dXJuIGF3YWl0IHRoaXMuX2hhbmRsZXIudHJhbnNwb3J0U3RhdHModHlwZSk7XG5cdH1cblxuXHQvLyBnZXRNZWRpYVN0cmVhbVRyYWNrU3RhdHModHlwZTogbnVtYmVyKSB7XG5cdC8vIFx0dGhpcy5faGFuZGxlci5nZXRTdGF0c0RhdGEodHlwZSk7XG5cdC8vIH1cbn1cbiIsIi8vLyB+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+flxuLy8vIEBDb3B5cmlnaHQgfjIwMTkg4picU2FtbHY54pieIGFuZCBvdGhlciBjb250cmlidXRvcnNcbi8vLyBATUlULUxJQ0VOU0UgfCA0LjAuMS1iZXRhIHwgaHR0cHM6Ly9kZXZlbG9wZXJzLmd1bGVzcy5jb20vXG4vLy8gfn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5cbmltcG9ydCBNZWRpYURldmljZUluZm9LaW5kIGZyb20gXCIuL01lZGlhRGV2aWNlSW5mb0tpbmRcIlxuXG5jbGFzcyBNZWRpYURldmljZUluZm9DYXRlZ29yeSB7XG4gICAgcHJpdmF0ZSBfY2FtZXJhczogTWVkaWFEZXZpY2VJbmZvW10gPSBbXTtcbiAgICBwcml2YXRlIF9taWNyb3Bob25lczogTWVkaWFEZXZpY2VJbmZvW10gPSBbXTtcbiAgICBwcml2YXRlIF9zcGVha2VyczogTWVkaWFEZXZpY2VJbmZvW10gPSBbXTtcblxuICAgIGNvbnN0cnVjdG9yKGRldmljZUluZm9zOiBNZWRpYURldmljZUluZm9bXSkge1xuICAgICAgICBmb3IgKGNvbnN0IGRldmljZUluZm8gb2YgZGV2aWNlSW5mb3MpIHtcbiAgICAgICAgICAgIHRoaXMuYXBwZW5kKGRldmljZUluZm8pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBjYW1lcmFzKCk6IE1lZGlhRGV2aWNlSW5mb1tdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbWVyYXM7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBtaWNyb3Bob25lcygpOiBNZWRpYURldmljZUluZm9bXSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9taWNyb3Bob25lcztcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHNwZWFrZXJzKCk6IE1lZGlhRGV2aWNlSW5mb1tdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NwZWFrZXJzO1xuICAgIH1cblxuICAgIHB1YmxpYyBhcHBlbmQoZGV2aWNlSW5mbzogTWVkaWFEZXZpY2VJbmZvKTogdm9pZCB7XG4gICAgICAgIHN3aXRjaCAoZGV2aWNlSW5mby5raW5kKSB7XG4gICAgICAgICAgICBjYXNlIE1lZGlhRGV2aWNlSW5mb0tpbmQuQ0FNRVJBIDpcbiAgICAgICAgICAgICAgICB0aGlzLl9jYW1lcmFzLnB1c2goZGV2aWNlSW5mbyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgTWVkaWFEZXZpY2VJbmZvS2luZC5NSUNST1BIT05FIDpcbiAgICAgICAgICAgICAgICB0aGlzLl9taWNyb3Bob25lcy5wdXNoKGRldmljZUluZm8pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIE1lZGlhRGV2aWNlSW5mb0tpbmQuU1BFQUtFUiA6XG4gICAgICAgICAgICAgICAgdGhpcy5fc3BlYWtlcnMucHVzaChkZXZpY2VJbmZvKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDogYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1lZGlhRGV2aWNlSW5mb0NhdGVnb3J5O1xuIiwiaW1wb3J0IHsgQ2hyb21lNjggfSBmcm9tICcuL0Nocm9tZTY4JztcbmltcG9ydCB7XG5cdEhhbmRsZXJGYWN0b3J5LFxuXHRIYW5kbGVySW50ZXJmYWNlLFxuXHRIYW5kbGVyUnVuT3B0aW9ucyxcblx0SGFuZGxlclNldExvY2FsT2ZmZXJTZHBPcHRpb25zLFxuXHRIYW5kbGVyU2V0UmVtb3RlQW5zd2VyU2RwT3B0aW9uc1xufSBmcm9tICcuL0hhbmRsZXJJbnRlcmZhY2UnO1xuXG5leHBvcnQgY2xhc3MgQ2hyb21lNTggZXh0ZW5kcyBDaHJvbWU2OFxue1xuXHQvLyBwcml2YXRlIF9jdXJyZW50U3RyZWFtOiBNZWRpYVN0cmVhbSB8IG51bGwgPSBudWxsO1xuICAgIFxuXHRzdGF0aWMgY3JlYXRlRmFjdG9yeSgpOiBIYW5kbGVyRmFjdG9yeVxuXHR7XG5cdFx0cmV0dXJuICgpOiBDaHJvbWU1OCA9PiBuZXcgQ2hyb21lNTgoKTtcblx0fVxuXG5cdGNvbnN0cnVjdG9yKClcblx0e1xuXHRcdHN1cGVyKCk7XG5cdH1cblxuXHRnZXQgbmFtZSgpOiBzdHJpbmdcblx0e1xuXHRcdHJldHVybiAnQ2hyb21lNTgnO1xuXHR9XG5cblx0cnVuKFxuXHRcdHtcblx0XHRcdGRpcmVjdGlvbixcblx0XHRcdGljZVNlcnZlcnMsXG5cdFx0XHRpY2VUcmFuc3BvcnRQb2xpY3lcblx0XHR9OiBIYW5kbGVyUnVuT3B0aW9uc1xuXHQpOiB2b2lkXG5cdHtcblx0XHR0aGlzLl9kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG5cblx0XHR0aGlzLl9wYyA9IG5ldyAoUlRDUGVlckNvbm5lY3Rpb24gYXMgYW55KShcblx0XHRcdHtcblx0XHRcdFx0aWNlU2VydmVycyAgICAgICAgIDogaWNlU2VydmVycyB8fCBbXSxcblx0XHRcdFx0aWNlVHJhbnNwb3J0UG9saWN5IDogaWNlVHJhbnNwb3J0UG9saWN5IHx8ICdhbGwnLFxuXHRcdFx0XHRidW5kbGVQb2xpY3kgICAgICAgOiAnbWF4LWJ1bmRsZScsXG5cdFx0XHRcdHJ0Y3BNdXhQb2xpY3kgICAgICA6ICdyZXF1aXJlJyxcblx0XHRcdFx0c2RwU2VtYW50aWNzICAgICAgIDogJ3VuaWZpZWQtcGxhbicsXG5cdFx0XHR9KTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuX3BjLm9uaWNlY2FuZGlkYXRlID0gKGU6IFJUQ1BlZXJDb25uZWN0aW9uSWNlRXZlbnQpID0+IHtcblx0XHRcdHRoaXMuX2xvZ2dlci5kZWJ1Zygnb25pY2VjYW5kaWRhdGUgZXZlbnQ6OjonLCBlKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fcGMub25pY2VnYXRoZXJpbmdzdGF0ZWNoYW5nZSA9IChlOiBFdmVudCkgPT4ge1xuXHRcdFx0dGhpcy5fbG9nZ2VyLmRlYnVnKCdvbmljZWdhdGhlcmluZ3N0YXRlY2hhbmdlOjo6JywgZSk7XG5cdFx0fTtcbiAgICAgICAgdGhpcy5fcGMub25zaWduYWxpbmdzdGF0ZWNoYW5nZSA9IChlOiBFdmVudCkgPT4ge1xuXHRcdFx0dGhpcy5fbG9nZ2VyLmRlYnVnKCdvbnNpZ25hbGluZ3N0YXRlY2hhbmdlOjo6JywgZSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX3BjLm9uY29ubmVjdGlvbnN0YXRlY2hhbmdlID0gKGU6IEV2ZW50KSA9PiB7XG5cdFx0XHR0aGlzLl9sb2dnZXIuZGVidWcoJ29uY29ubmVjdGlvbnN0YXRlY2hhbmdlOjo6JywgZSk7XG4gICAgICAgIH07XG5cdH1cblxuXHRhc3luYyBzZXRMb2NhbE9mZmVyU2RwKFxuXHRcdHBhcmFtcz86IEhhbmRsZXJTZXRMb2NhbE9mZmVyU2RwT3B0aW9uc1xuXHQpOiBQcm9taXNlPHZvaWQ+XG5cdHtcblx0XHRpZiAodGhpcy5fZGlyZWN0aW9uID09PSAncmVjdicpIHtcblx0XHRcdHRoaXMuX3BjLmFkZFN0cmVhbSh0aGlzLl9zZW5kU3RyZWFtKTtcblx0XHR9IGVsc2UgaWYgKHRoaXMuX2RpcmVjdGlvbiA9PT0gJ3NlbmQnKSB7XG5cdFx0XHRpZiAocGFyYW1zID09PSB2b2lkIDApIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdtZWRpYXN0cmVhbSBtdXN0IGJlIG5vdCBleGlzdC4nKTtcblx0XHRcdH1cblx0XHRcdGNvbnN0IHsgbWVkaWFzdHJlYW0sIGVuY29kaW5nc30gPSBwYXJhbXM7XG5cblx0XHRcdGlmIChtZWRpYXN0cmVhbSA9PT0gdm9pZCAwKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignbWVkaWFzdHJlYW0gbXVzdCBiZSBub3QgZXhpc3QuJyk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuX3BjLmFkZFN0cmVhbShtZWRpYXN0cmVhbSk7XG5cdFx0XHR0aGlzLl9jdXJyZW50U3RyZWFtID0gbWVkaWFzdHJlYW07XG5cdFx0fVxuXHR9XG5cblx0Ly8gc3RvcFRyYW5zY2VpdmVyKCkge1xuXHQvLyBcdGlmICghdGhpcy5fY3VycmVudFN0cmVhbSkge1xuXHQvLyBcdFx0dGhyb3cgbmV3IEVycm9yKCdtZWRpYXN0cmVhbSBub3QgZm91bmQnKTtcblx0Ly8gXHR9XG4gICAgICAgIFxuXHQvLyBcdGZvciAobGV0IGl0ZW0gb2YgdGhpcy5fY3VycmVudFN0cmVhbS5nZXRUcmFja3MoKSkge1xuXHQvLyBcdFx0dGhpcy5fcGMucmVtb3ZlVHJhY2soaXRlbSk7XG5cdC8vIFx0XHRpdGVtLnN0b3AoKTtcblx0Ly8gXHR9XG5cdC8vIFx0dGhpcy5jbG9zZSgpO1xuXHQvLyB9XG5cblx0Z2V0VHJhY2soKTogUHJvbWlzZTxNZWRpYVN0cmVhbT4ge1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHR0aGlzLl9wYy5vbmFkZHN0cmVhbSA9IChlOiBhbnkpID0+IHtcblx0XHRcdFx0aWYgKHRoaXMuX2hhc1RyYWNrKSB7IHJldHVybjsgfSB0aGlzLl9oYXNUcmFjayA9IHRydWU7XG5cdFx0XHRcdHRoaXMuX2xvZ2dlci5kZWJ1Zygnb250cmFjaycsIGUpO1xuXHRcdFx0XHRpZiAoZS5zdHJlYW0pIHtcblx0XHRcdFx0XHRpZiAodGhpcy5fZGlyZWN0aW9uID09ICdyZWN2Jykge1xuXHRcdFx0XHRcdFx0dGhpcy5fY3VycmVudFN0cmVhbSA9IGUuc3RyZWFtO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXNvbHZlKGUuc3RyZWFtKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9KTtcblx0fVxufVxuIiwiaW1wb3J0IHsgSGFuZGxlciB9IGZyb20gJy4vaGFuZGxlcic7XG5pbXBvcnQge1xuXHRIYW5kbGVyRmFjdG9yeSxcblx0SGFuZGxlckludGVyZmFjZSxcblx0SGFuZGxlclJ1bk9wdGlvbnMsXG5cdEhhbmRsZXJTZXRMb2NhbE9mZmVyU2RwT3B0aW9ucyxcblx0SGFuZGxlclNldFJlbW90ZUFuc3dlclNkcE9wdGlvbnNcbn0gZnJvbSAnLi9IYW5kbGVySW50ZXJmYWNlJztcblxuZXhwb3J0IGNsYXNzIENocm9tZTY4IGV4dGVuZHMgSGFuZGxlclxue1xuXHQvLyBwcml2YXRlIHJlYWRvbmx5IF9tYXBVc2VySWRTdHJlYW06IE1hcDxzdHJpbmcsIE1lZGlhU3RyZWFtPiA9IG5ldyBNYXAoKTtcblx0XG4gICAgXG5cdHN0YXRpYyBjcmVhdGVGYWN0b3J5KCk6IEhhbmRsZXJGYWN0b3J5XG5cdHtcblx0XHRyZXR1cm4gKCk6IENocm9tZTY4ID0+IG5ldyBDaHJvbWU2OCgpO1xuXHR9XG5cblx0Y29uc3RydWN0b3IoKVxuXHR7XG5cdFx0c3VwZXIoKTtcblx0fVxuXG5cdGdldCBuYW1lKCk6IHN0cmluZ1xuXHR7XG5cdFx0cmV0dXJuICdDaHJvbWU2OCc7XG5cdH1cblxuXHRhc3luYyBzZXRMb2NhbE9mZmVyU2RwKFxuXHRcdHBhcmFtcz86IEhhbmRsZXJTZXRMb2NhbE9mZmVyU2RwT3B0aW9uc1xuXHQpOiBQcm9taXNlPHZvaWQ+XG5cdHtcblx0XHRpZiAodGhpcy5fZGlyZWN0aW9uID09PSAnc2VuZCcpIHtcblx0XHRcdGlmIChwYXJhbXMgPT09IHZvaWQgMCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ21lZGlhc3RyZWFtIG11c3QgYmUgbm90IGV4aXN0LicpO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3QgeyBtZWRpYXN0cmVhbSwgZW5jb2RpbmdzIH0gPSBwYXJhbXM7XG5cblx0XHRcdGlmIChtZWRpYXN0cmVhbSA9PT0gdm9pZCAwKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignbWVkaWFzdHJlYW0gbXVzdCBiZSBub3QgZXhpc3QuJyk7XG5cdFx0XHR9XG5cblx0XHRcdGZvciAobGV0IHRyYWNrIG9mIG1lZGlhc3RyZWFtLmdldFRyYWNrcygpKSB7XG5cdFx0XHRcdHRoaXMuX3BjLmFkZFRyYWNrKHRyYWNrLCB0aGlzLl9zZW5kU3RyZWFtKTsgXG5cdFx0XHR9XG5cdFx0XHR0aGlzLl9jdXJyZW50U3RyZWFtID0gbWVkaWFzdHJlYW07XG5cdFx0fVxuXHR9XG5cblx0Ly8gc3RvcFRyYW5zY2VpdmVyKCkge1xuXHQvLyBcdGlmICghdGhpcy5fY3VycmVudFN0cmVhbSkge1xuXHQvLyBcdFx0dGhyb3cgbmV3IEVycm9yKCdhc3NvY2lhdGVkIHN0cmVhbSBub3QgZm91bmQnKTtcblx0Ly8gXHR9XG5cdC8vIFx0Zm9yIChsZXQgaXRlbSBvZiB0aGlzLl9jdXJyZW50U3RyZWFtLmdldFRyYWNrcygpKSB7XG5cdC8vIFx0XHRpdGVtLnN0b3AoKTtcblx0Ly8gXHR9XG5cdC8vIFx0dGhpcy5jbG9zZSgpO1xuXHQvLyB9XG5cblx0YXN5bmMgZ2V0TG9jYWxPZmZlclNkcCgpOiBQcm9taXNlPHtsb2NhbE9mZmVyU2RwOiBzdHJpbmd9PiB7XG5cdFx0dHJ5IHtcblx0XHRcdGxldCBjcmVhdGVPZmZlck9wdGlvbnMgPSB7XG5cdFx0XHRcdG9mZmVyVG9SZWNlaXZlQXVkaW86IGZhbHNlLFxuXHRcdFx0XHRvZmZlclRvUmVjZWl2ZVZpZGVvOiBmYWxzZVxuXHRcdFx0fVxuXHRcdFx0aWYgKHRoaXMuX2RpcmVjdGlvbiA9PT0gJ3JlY3YnKSB7XG5cdFx0XHRcdGNyZWF0ZU9mZmVyT3B0aW9ucyA9IHtcblx0XHRcdFx0XHRvZmZlclRvUmVjZWl2ZUF1ZGlvOiB0cnVlLFxuXHRcdFx0XHRcdG9mZmVyVG9SZWNlaXZlVmlkZW86IHRydWVcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0bGV0IG9mZmVyID0gYXdhaXQgdGhpcy5fcGMuY3JlYXRlT2ZmZXIoY3JlYXRlT2ZmZXJPcHRpb25zKTtcblx0XHRcdGxldCBzZHA6IHN0cmluZztcblx0XHRcdGlmICh0aGlzLl92aWRlb0N1c3RvbUJpdHJhdGUgIT09IDAgfHwgdGhpcy5fYXVkaW9DdXN0b21CaXRyYXRlICE9PSAwKSB7XG5cdFx0XHRcdHNkcCA9IHRoaXMuc2V0U2RwQ3VzdG9tQml0cmF0ZShvZmZlci5zZHApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c2RwID0gb2ZmZXIuc2RwO1xuXHRcdFx0fVxuXHRcdFx0Ly8gYXdhaXQgdGhpcy5fcGMuc2V0TG9jYWxEZXNjcmlwdGlvbihvZmZlcik7XG5cdFx0XHRhd2FpdCB0aGlzLl9wYy5zZXRMb2NhbERlc2NyaXB0aW9uKHtcblx0XHRcdFx0XHR0eXBlOiAnb2ZmZXInLFxuXHRcdFx0XHRcdHNkcDogc2RwXG5cdFx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0bG9jYWxPZmZlclNkcDogb2ZmZXIuc2RwXG5cdFx0XHR9XG5cdFx0fSBjYXRjaChlKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ3NldCBsb2NhbCBvZmZlciBzZHAgZXJyb3InKTtcblx0XHR9XG5cdH1cbn1cbiIsImltcG9ydCB7IEhhbmRsZXIgfSBmcm9tICcuL2hhbmRsZXInO1xuaW1wb3J0IHtcblx0SGFuZGxlckZhY3Rvcnlcbn0gZnJvbSAnLi9IYW5kbGVySW50ZXJmYWNlJztcblxuZXhwb3J0IGNsYXNzIENocm9tZTcwIGV4dGVuZHMgSGFuZGxlciBcbntcblx0c3RhdGljIGNyZWF0ZUZhY3RvcnkoKTogSGFuZGxlckZhY3Rvcnlcblx0e1xuXHRcdHJldHVybiAoKTogQ2hyb21lNzAgPT4gbmV3IENocm9tZTcwKCk7XG5cdH1cblxuXHRjb25zdHJ1Y3RvcigpXG5cdHtcblx0XHRzdXBlcigpO1xuXHR9XG5cblx0Z2V0IG5hbWUoKTogc3RyaW5nXG5cdHtcblx0XHRyZXR1cm4gJ0Nocm9tZTcwJztcblx0fVxufSIsImltcG9ydCB7IEhhbmRsZXIgfSBmcm9tICcuL2hhbmRsZXInO1xuaW1wb3J0IHtcblx0SGFuZGxlckZhY3Rvcnlcbn0gZnJvbSAnLi9IYW5kbGVySW50ZXJmYWNlJztcblxuZXhwb3J0IGNsYXNzIEVkZ2U4MCBleHRlbmRzIEhhbmRsZXIgXG57XG5cdHN0YXRpYyBjcmVhdGVGYWN0b3J5KCk6IEhhbmRsZXJGYWN0b3J5XG5cdHtcblx0XHRyZXR1cm4gKCk6IEVkZ2U4MCA9PiBuZXcgRWRnZTgwKCk7XG5cdH1cblxuXHRjb25zdHJ1Y3RvcigpXG5cdHtcblx0XHRzdXBlcigpO1xuXHR9XG5cblx0Z2V0IG5hbWUoKTogc3RyaW5nXG5cdHtcblx0XHRyZXR1cm4gJ0VkZ2U4MCc7XG5cdH1cbn0iLCJpbXBvcnQgeyBIYW5kbGVyIH0gZnJvbSAnLi9oYW5kbGVyJztcbmltcG9ydCB7XG5cdEhhbmRsZXJGYWN0b3J5XG59IGZyb20gJy4vSGFuZGxlckludGVyZmFjZSc7XG5cbmV4cG9ydCBjbGFzcyBGaXJlZm94NjAgZXh0ZW5kcyBIYW5kbGVyXG57XHRcbiAgICBzdGF0aWMgY3JlYXRlRmFjdG9yeSgpOiBIYW5kbGVyRmFjdG9yeVxuXHR7XG5cdFx0cmV0dXJuICgpOiBGaXJlZm94NjAgPT4gbmV3IEZpcmVmb3g2MCgpO1xuXHR9XG5cblx0Y29uc3RydWN0b3IoKVxuXHR7XG5cdFx0c3VwZXIoKTtcblx0fVxuXG5cdGdldCBuYW1lKCk6IHN0cmluZ1xuXHR7XG5cdFx0cmV0dXJuICdGaXJlZm94NjAnO1xuXHR9XG59XG4iLCJcbmltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSBcImV2ZW50ZW1pdHRlcjNcIjtcbmltcG9ydCB7XG5cdFJ0cENhcGFiaWxpdGllcyxcblx0UnRwUGFyYW1ldGVycyxcblx0UnRwRW5jb2RpbmdQYXJhbWV0ZXJzXG59IGZyb20gJy4uL1J0cFBhcmFtZXRlcnMnO1xuXG5leHBvcnQgdHlwZSBIYW5kbGVyRmFjdG9yeSA9ICgpID0+IEhhbmRsZXJJbnRlcmZhY2U7XG5cbmV4cG9ydCB0eXBlIEhhbmRsZXJSdW5PcHRpb25zID1cbntcblx0c3RyZWFtSWQ6IHN0cmluZztcblx0ZGlyZWN0aW9uOiAnc2VuZCcgfCAncmVjdic7XG5cdGljZVNlcnZlcnM/OiBSVENJY2VTZXJ2ZXJbXTtcblx0aWNlVHJhbnNwb3J0UG9saWN5PzogUlRDSWNlVHJhbnNwb3J0UG9saWN5O1xufTtcblxuZXhwb3J0IHR5cGUgSGFuZGxlclNldExvY2FsT2ZmZXJTZHBPcHRpb25zID1cbntcblx0bWVkaWFzdHJlYW0/OiBNZWRpYVN0cmVhbTtcblx0ZW5jb2RpbmdzPzogUnRwRW5jb2RpbmdQYXJhbWV0ZXJzW107XG59O1xuXG5leHBvcnQgdHlwZSBIYW5kbGVyU2V0TG9jYWxPZmZlclNkcFJlc3VsdCA9XG57XG5cdGxvY2FsT2ZmZXJTZHA6IHN0cmluZztcbn07XG5cbmV4cG9ydCB0eXBlIEhhbmRsZXJTZXRSZW1vdGVBbnN3ZXJTZHBPcHRpb25zID1cbntcblx0cmVtb3RlQW5zd2VyU2RwOiBzdHJpbmcsXG5cdC8vIGNhbmRpZGF0ZUFycmF5OiBSVENJY2VDYW5kaWRhdGVJbml0W11cbn07XG5cbmV4cG9ydCB0eXBlIGljZVN0YXRlUmVzdWx0ID0ge1xuXHRzdGF0ZTogc3RyaW5nLFxuXHRjb2RlOiBudW1iZXJcbn1cblxuZXhwb3J0IHR5cGUgY3VzdG9tUGFyYW1zID0ge1xuXHR2aWRlb0N1c3RvbUJpdHJhdGU6IG51bWJlcjtcblx0YXVkaW9DdXN0b21CaXRyYXRlOiBudW1iZXI7XG5cdGN1c3RvbUZyYW1lcmF0ZTogbnVtYmVyO1xufVxuXG5leHBvcnQgdHlwZSBzdGF0c0RhdGEgPSBhbnk7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBIYW5kbGVySW50ZXJmYWNlIGV4dGVuZHMgRXZlbnRFbWl0dGVyXG57XG5cdGNvbnN0cnVjdG9yKClcblx0e1xuXHRcdHN1cGVyKCk7XG5cdH1cblxuXHRhYnN0cmFjdCBnZXQgbmFtZSgpOiBzdHJpbmc7XG5cblx0YWJzdHJhY3QgY2xvc2UoKTogdm9pZDtcblxuXHQvLyBhYnN0cmFjdCBhc3luYyBnZXROYXRpdmVSdHBDYXBhYmlsaXRpZXMoKTogUHJvbWlzZTxSdHBDYXBhYmlsaXRpZXM+O1xuXG5cdGFic3RyYWN0IHJ1bihvcHRpb25zOiBIYW5kbGVyUnVuT3B0aW9ucyk6IHZvaWQ7XG5cblx0YWJzdHJhY3QgYXN5bmMgc2V0TG9jYWxPZmZlclNkcChvcHRpb25zPzogSGFuZGxlclNldExvY2FsT2ZmZXJTZHBPcHRpb25zKTogUHJvbWlzZTx2b2lkPjtcblxuXHRhYnN0cmFjdCBhc3luYyBnZXRMb2NhbE9mZmVyU2RwKCk6IFByb21pc2U8eyBsb2NhbE9mZmVyU2RwOiBzdHJpbmcgfT47XG5cblx0YWJzdHJhY3QgYXN5bmMgcmVwbGFjZVRyYWNrKCBcblx0XHR0cmFjazogTWVkaWFTdHJlYW1UcmFja1xuXHQpOiBQcm9taXNlPHZvaWQ+O1xuXG5cdGFic3RyYWN0IGFzeW5jIGdldFRyYWNrKCk6IFByb21pc2U8TWVkaWFTdHJlYW0+XG5cblx0YWJzdHJhY3QgYXN5bmMgc2V0UmVtb3RlQW5zd2VyU2RwKFxuXHRcdG9wdGlvbnM6IEhhbmRsZXJTZXRSZW1vdGVBbnN3ZXJTZHBPcHRpb25zXG5cdCk6IFByb21pc2U8dm9pZD47XG5cblx0YWJzdHJhY3Qgc2V0SWNlQ2FuZGlkYXRlKGNhbmRpZGF0ZUFycmF5OiBSVENJY2VDYW5kaWRhdGVJbml0W10pOiB2b2lkXG5cblx0YWJzdHJhY3Qgc3RvcFRyYW5zY2VpdmVyKCk6IHZvaWRcblxuXHRhYnN0cmFjdCBzZXRDdXN0b21lclZhbHVlKGN1c3RvbVBhcmFtczogY3VzdG9tUGFyYW1zKTogdm9pZFxuXG5cdGFic3RyYWN0IHRyYW5zcG9ydFN0YXRzKHlwZURhdGE6IG51bWJlcik6IGFueVxuXG5cdC8vIGFic3RyYWN0IGdldFN0YXRzRGF0YSh0eXBlOiBudW1iZXIpOiBhbnlcblxuXHRhYnN0cmFjdCBnZXRJQ0VDb25uZWN0aW9uU3RhdGUoKTogUHJvbWlzZTxpY2VTdGF0ZVJlc3VsdD5cbn1cbiIsImltcG9ydCB7IEhhbmRsZXIgfSBmcm9tICcuL2hhbmRsZXInO1xuaW1wb3J0IHtcblx0SGFuZGxlckZhY3RvcnksXG5cdEhhbmRsZXJJbnRlcmZhY2UsXG5cdEhhbmRsZXJSdW5PcHRpb25zLFxuXHRIYW5kbGVyU2V0TG9jYWxPZmZlclNkcE9wdGlvbnMsXG5cdEhhbmRsZXJTZXRSZW1vdGVBbnN3ZXJTZHBPcHRpb25zXG59IGZyb20gJy4vSGFuZGxlckludGVyZmFjZSc7XG5cbmV4cG9ydCBjbGFzcyBPcGVyYTQ1IGV4dGVuZHMgSGFuZGxlclxue1xuXHQvLyBwcml2YXRlIF9jdXJyZW50U3RyZWFtOiBNZWRpYVN0cmVhbSB8IG51bGwgPSBudWxsO1xuICAgIFxuXHRzdGF0aWMgY3JlYXRlRmFjdG9yeSgpOiBIYW5kbGVyRmFjdG9yeVxuXHR7XG5cdFx0cmV0dXJuICgpOiBPcGVyYTQ1ID0+IG5ldyBPcGVyYTQ1KCk7XG5cdH1cblxuXHRjb25zdHJ1Y3RvcigpXG5cdHtcblx0XHRzdXBlcigpO1xuXHR9XG5cblx0Z2V0IG5hbWUoKTogc3RyaW5nXG5cdHtcblx0XHRyZXR1cm4gJ09wZXJhNDUnO1xuXHR9XG5cblx0cnVuKFxuXHRcdHtcblx0XHRcdGRpcmVjdGlvbixcblx0XHRcdGljZVNlcnZlcnMsXG5cdFx0XHRpY2VUcmFuc3BvcnRQb2xpY3lcblx0XHR9OiBIYW5kbGVyUnVuT3B0aW9ucyBcblx0KTogdm9pZFxuXHR7XG5cdFx0dGhpcy5fZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuXG5cdFx0dGhpcy5fcGMgPSBuZXcgKFJUQ1BlZXJDb25uZWN0aW9uIGFzIGFueSkoXG5cdFx0XHR7XG5cdFx0XHRcdGljZVNlcnZlcnMgICAgICAgICA6IGljZVNlcnZlcnMgfHwgW10sXG5cdFx0XHRcdGljZVRyYW5zcG9ydFBvbGljeSA6IGljZVRyYW5zcG9ydFBvbGljeSB8fCAnYWxsJyxcblx0XHRcdFx0YnVuZGxlUG9saWN5ICAgICAgIDogJ21heC1idW5kbGUnLFxuXHRcdFx0XHRydGNwTXV4UG9saWN5ICAgICAgOiAncmVxdWlyZScsXG5cdFx0XHRcdHNkcFNlbWFudGljcyAgICAgICA6ICd1bmlmaWVkLXBsYW4nLFxuXHRcdFx0fSk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLl9wYy5vbmljZWNhbmRpZGF0ZSA9IChlOiBSVENQZWVyQ29ubmVjdGlvbkljZUV2ZW50KSA9PiB7XG5cdFx0XHR0aGlzLl9sb2dnZXIuZGVidWcoJ29uaWNlY2FuZGlkYXRlIGV2ZW50Ojo6JywgZSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX3BjLm9uaWNlZ2F0aGVyaW5nc3RhdGVjaGFuZ2UgPSAoZTogRXZlbnQpID0+IHtcblx0XHRcdHRoaXMuX2xvZ2dlci5kZWJ1Zygnb25pY2VnYXRoZXJpbmdzdGF0ZWNoYW5nZTo6OicsIGUpO1xuXHRcdH07XG4gICAgICAgIHRoaXMuX3BjLm9uc2lnbmFsaW5nc3RhdGVjaGFuZ2UgPSAoZTogRXZlbnQpID0+IHtcblx0XHRcdHRoaXMuX2xvZ2dlci5kZWJ1Zygnb25zaWduYWxpbmdzdGF0ZWNoYW5nZTo6OicsIGUpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9wYy5vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZSA9IChlOiBFdmVudCkgPT4ge1xuXHRcdFx0dGhpcy5fbG9nZ2VyLmRlYnVnKCdvbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZTo6OicsIGUpO1xuICAgICAgICB9O1xuXHR9XG5cblx0YXN5bmMgc2V0TG9jYWxPZmZlclNkcChcblx0XHRwYXJhbXM/OiBIYW5kbGVyU2V0TG9jYWxPZmZlclNkcE9wdGlvbnNcblx0KTogUHJvbWlzZTx2b2lkPlxuXHR7XG5cdFx0aWYgKHRoaXMuX2RpcmVjdGlvbiA9PT0gJ3JlY3YnKSB7XG5cdFx0XHR0aGlzLl9wYy5hZGRTdHJlYW0odGhpcy5fc2VuZFN0cmVhbSk7XG5cdFx0fSBlbHNlIGlmICh0aGlzLl9kaXJlY3Rpb24gPT09ICdzZW5kJykge1xuXHRcdFx0aWYgKHBhcmFtcyA9PT0gdm9pZCAwKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignbWVkaWFzdHJlYW0gbXVzdCBiZSBub3QgZXhpc3QuJyk7XG5cdFx0XHR9XG5cdFx0XHRjb25zdCB7IG1lZGlhc3RyZWFtLCBlbmNvZGluZ3N9ID0gcGFyYW1zO1xuXG5cdFx0XHRpZiAobWVkaWFzdHJlYW0gPT09IHZvaWQgMCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ21lZGlhc3RyZWFtIG11c3QgYmUgbm90IGV4aXN0LicpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9wYy5hZGRTdHJlYW0obWVkaWFzdHJlYW0pO1xuXHRcdFx0dGhpcy5fY3VycmVudFN0cmVhbSA9IG1lZGlhc3RyZWFtO1xuXHRcdH1cblx0fVxuXG5cdC8vIHN0b3BUcmFuc2NlaXZlcigpIHtcblx0Ly8gXHRpZiAoIXRoaXMuX2N1cnJlbnRTdHJlYW0pIHtcblx0Ly8gXHRcdHRocm93IG5ldyBFcnJvcignbWVkaWFzdHJlYW0gbm90IGZvdW5kJyk7XG5cdC8vIFx0fVxuICAgICAgICBcblx0Ly8gXHRmb3IgKGxldCBpdGVtIG9mIHRoaXMuX2N1cnJlbnRTdHJlYW0uZ2V0VHJhY2tzKCkpIHtcblx0Ly8gXHRcdC8vIHRoaXMuX3BjLnJlbW92ZVRyYWNrKGl0ZW0pO1xuXHQvLyBcdFx0aXRlbS5zdG9wKCk7XG5cdC8vIFx0fVxuXHQvLyBcdHRoaXMuY2xvc2UoKTtcblx0Ly8gfVxuXG5cdGFzeW5jIGdldExvY2FsT2ZmZXJTZHAoKTogUHJvbWlzZTx7bG9jYWxPZmZlclNkcDogc3RyaW5nfT4ge1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHR0aGlzLl9wYy5vbm5lZ290aWF0aW9ubmVlZGVkID0gYXN5bmMoZTogRXZlbnQpID0+IHtcblx0XHRcdFx0aWYgKHRoaXMuX2lzTmVnb3RpYXRpbmcpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0dGhpcy5faXNOZWdvdGlhdGluZyA9IHRydWU7XG5cdFx0XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0bGV0IGNyZWF0ZU9mZmVyT3B0aW9ucyA9IHtcblx0XHRcdFx0XHRcdG9mZmVyVG9SZWNlaXZlQXVkaW86IGZhbHNlLFxuXHRcdFx0XHRcdFx0b2ZmZXJUb1JlY2VpdmVWaWRlbzogZmFsc2Vcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKHRoaXMuX2RpcmVjdGlvbiA9PT0gJ3JlY3YnKSB7XG5cdFx0XHRcdFx0XHRjcmVhdGVPZmZlck9wdGlvbnMgPSB7XG5cdFx0XHRcdFx0XHRcdG9mZmVyVG9SZWNlaXZlQXVkaW86IHRydWUsXG5cdFx0XHRcdFx0XHRcdG9mZmVyVG9SZWNlaXZlVmlkZW86IHRydWVcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bGV0IG9mZmVyID0gYXdhaXQgdGhpcy5fcGMuY3JlYXRlT2ZmZXIoY3JlYXRlT2ZmZXJPcHRpb25zKTtcblx0XHRcdFx0XHRsZXQgc2RwOiBzdHJpbmc7XG5cdFx0XHRcdFx0aWYgKHRoaXMuX3ZpZGVvQ3VzdG9tQml0cmF0ZSAhPT0gMCB8fCB0aGlzLl9hdWRpb0N1c3RvbUJpdHJhdGUgIT09IDApIHtcblx0XHRcdFx0XHRcdHNkcCA9IHRoaXMuc2V0U2RwQ3VzdG9tQml0cmF0ZShvZmZlci5zZHApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRzZHAgPSBvZmZlci5zZHA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdC8vIGF3YWl0IHRoaXMuX3BjLnNldExvY2FsRGVzY3JpcHRpb24ob2ZmZXIpO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMuX3BjLnNldExvY2FsRGVzY3JpcHRpb24oe1xuXHRcdFx0XHRcdFx0XHR0eXBlOiAnb2ZmZXInLFxuXHRcdFx0XHRcdFx0XHRzZHA6IHNkcFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0cmVzb2x2ZSh7XG5cdFx0XHRcdFx0XHRsb2NhbE9mZmVyU2RwOiBvZmZlci5zZHBcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ3NldCBsb2NhbCBvZmZlciBzZHAgZXJyb3InKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9KTtcblx0fVxuXG5cdGdldFRyYWNrKCk6IFByb21pc2U8TWVkaWFTdHJlYW0+IHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0dGhpcy5fcGMub25hZGRzdHJlYW0gPSAoZTogYW55KSA9PiB7XG5cdFx0XHRcdGlmICh0aGlzLl9oYXNUcmFjaykgeyByZXR1cm47IH0gdGhpcy5faGFzVHJhY2sgPSB0cnVlO1xuXHRcdFx0XHR0aGlzLl9sb2dnZXIuZGVidWcoJ29udHJhY2s6OjonLCBlKTtcblx0XHRcdFx0aWYgKGUuc3RyZWFtKSB7XG5cdFx0XHRcdFx0aWYgKHRoaXMuX2RpcmVjdGlvbiA9PSAncmVjdicpIHtcblx0XHRcdFx0XHRcdHRoaXMuX2N1cnJlbnRTdHJlYW0gPSBlLnN0cmVhbTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmVzb2x2ZShlLnN0cmVhbSk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0fSk7XG5cdH1cbn1cbiIsImltcG9ydCB7IEhhbmRsZXIgfSBmcm9tICcuL2hhbmRsZXInO1xuaW1wb3J0IHtcblx0SGFuZGxlckZhY3RvcnksXG5cdEhhbmRsZXJJbnRlcmZhY2UsXG5cdEhhbmRsZXJSdW5PcHRpb25zLFxuXHRIYW5kbGVyU2V0TG9jYWxPZmZlclNkcE9wdGlvbnMsXG5cdEhhbmRsZXJTZXRSZW1vdGVBbnN3ZXJTZHBPcHRpb25zXG59IGZyb20gJy4vSGFuZGxlckludGVyZmFjZSc7XG5cbmV4cG9ydCBjbGFzcyBPcGVyYTUyIGV4dGVuZHMgSGFuZGxlclxue1xuXHRzdGF0aWMgY3JlYXRlRmFjdG9yeSgpOiBIYW5kbGVyRmFjdG9yeVxuXHR7XG5cdFx0cmV0dXJuICgpOiBPcGVyYTUyID0+IG5ldyBPcGVyYTUyKCk7XG5cdH1cblxuXHRjb25zdHJ1Y3RvcigpXG5cdHtcblx0XHRzdXBlcigpO1xuXHR9XG5cblx0Z2V0IG5hbWUoKTogc3RyaW5nXG5cdHtcblx0XHRyZXR1cm4gJ09wZXJhNTInO1xuXHR9XG5cblx0cnVuKFxuXHRcdHtcblx0XHRcdGRpcmVjdGlvbixcblx0XHRcdGljZVNlcnZlcnMsXG5cdFx0XHRpY2VUcmFuc3BvcnRQb2xpY3lcblx0XHR9OiBIYW5kbGVyUnVuT3B0aW9ucyBcblx0KTogdm9pZFxuXHR7XG5cdFx0dGhpcy5fZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuXG5cdFx0dGhpcy5fcGMgPSBuZXcgKFJUQ1BlZXJDb25uZWN0aW9uIGFzIGFueSkoXG5cdFx0XHR7XG5cdFx0XHRcdGljZVNlcnZlcnMgICAgICAgICA6IGljZVNlcnZlcnMgfHwgW10sXG5cdFx0XHRcdGljZVRyYW5zcG9ydFBvbGljeSA6IGljZVRyYW5zcG9ydFBvbGljeSB8fCAnYWxsJyxcblx0XHRcdFx0YnVuZGxlUG9saWN5ICAgICAgIDogJ21heC1idW5kbGUnLFxuXHRcdFx0XHRydGNwTXV4UG9saWN5ICAgICAgOiAncmVxdWlyZScsXG5cdFx0XHRcdHNkcFNlbWFudGljcyAgICAgICA6ICd1bmlmaWVkLXBsYW4nLFxuXHRcdFx0fSk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLl9wYy5vbmljZWNhbmRpZGF0ZSA9IChlOiBSVENQZWVyQ29ubmVjdGlvbkljZUV2ZW50KSA9PiB7XG5cdFx0XHR0aGlzLl9sb2dnZXIuZGVidWcoJ29uaWNlY2FuZGlkYXRlIGV2ZW50Ojo6JywgZSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX3BjLm9uaWNlZ2F0aGVyaW5nc3RhdGVjaGFuZ2UgPSAoZTogRXZlbnQpID0+IHtcblx0XHRcdHRoaXMuX2xvZ2dlci5kZWJ1Zygnb25pY2VnYXRoZXJpbmdzdGF0ZWNoYW5nZTo6OicsIGUpO1xuXHRcdH07XG4gICAgICAgIHRoaXMuX3BjLm9uc2lnbmFsaW5nc3RhdGVjaGFuZ2UgPSAoZTogRXZlbnQpID0+IHtcblx0XHRcdHRoaXMuX2xvZ2dlci5kZWJ1Zygnb25zaWduYWxpbmdzdGF0ZWNoYW5nZTo6OicsIGUpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9wYy5vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZSA9IChlOiBFdmVudCkgPT4ge1xuXHRcdFx0dGhpcy5fbG9nZ2VyLmRlYnVnKCdvbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZTo6OicsIGUpO1xuXHRcdH07XG5cdFx0dGhpcy5fcGMub25hZGRzdHJlYW0gPSAoZTogRXZlbnQpID0+IHtcblx0XHRcdHRoaXMuX2xvZ2dlci5kZWJ1Zygnb250cmFjazo6OicsIGUpO1xuXHRcdH1cblx0fVxuXG5cdGFzeW5jIHNldExvY2FsT2ZmZXJTZHAoXG5cdFx0cGFyYW1zPzogSGFuZGxlclNldExvY2FsT2ZmZXJTZHBPcHRpb25zXG5cdCk6IFByb21pc2U8dm9pZD5cblx0e1xuXHRcdGlmICh0aGlzLl9kaXJlY3Rpb24gPT09ICdyZWN2Jykge1xuXHRcdFx0Ly8gdGhpcy5fcGMuYWRkU3RyZWFtKHRoaXMuX3NlbmRTdHJlYW0pO1xuXHRcdFx0Ly8gdGhpcy5zZW5kTG9jYWxPZmZlclNkcCgpO1xuXHRcdH0gZWxzZSBpZiAodGhpcy5fZGlyZWN0aW9uID09PSAnc2VuZCcpIHtcblx0XHRcdGlmIChwYXJhbXMgPT09IHZvaWQgMCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ21lZGlhc3RyZWFtIG11c3QgYmUgbm90IGV4aXN0LicpO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3QgeyBtZWRpYXN0cmVhbSwgZW5jb2RpbmdzfSA9IHBhcmFtcztcblxuXHRcdFx0aWYgKG1lZGlhc3RyZWFtID09PSB2b2lkIDApIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdtZWRpYXN0cmVhbSBtdXN0IGJlIG5vdCBleGlzdC4nKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5fcGMuYWRkU3RyZWFtKG1lZGlhc3RyZWFtKTtcblx0XHRcdHRoaXMuX2N1cnJlbnRTdHJlYW0gPSBtZWRpYXN0cmVhbTtcblx0XHR9XG5cdH1cblxuXHRhc3luYyBnZXRMb2NhbE9mZmVyU2RwKCk6IFByb21pc2U8e2xvY2FsT2ZmZXJTZHA6IHN0cmluZ30+IHtcblxuXHRcdHRyeSB7XG5cdFx0XHRsZXQgY3JlYXRlT2ZmZXJPcHRpb25zID0ge1xuXHRcdFx0XHRvZmZlclRvUmVjZWl2ZUF1ZGlvOiBmYWxzZSxcblx0XHRcdFx0b2ZmZXJUb1JlY2VpdmVWaWRlbzogZmFsc2Vcblx0XHRcdH1cblx0XHRcdGlmICh0aGlzLl9kaXJlY3Rpb24gPT09ICdyZWN2Jykge1xuXHRcdFx0XHRjcmVhdGVPZmZlck9wdGlvbnMgPSB7XG5cdFx0XHRcdFx0b2ZmZXJUb1JlY2VpdmVBdWRpbzogdHJ1ZSxcblx0XHRcdFx0XHRvZmZlclRvUmVjZWl2ZVZpZGVvOiB0cnVlXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGxldCBvZmZlciA9IGF3YWl0IHRoaXMuX3BjLmNyZWF0ZU9mZmVyKGNyZWF0ZU9mZmVyT3B0aW9ucyk7XG5cdFx0XHRsZXQgc2RwOiBzdHJpbmc7XG5cdFx0XHRpZiAodGhpcy5fdmlkZW9DdXN0b21CaXRyYXRlICE9PSAwIHx8IHRoaXMuX2F1ZGlvQ3VzdG9tQml0cmF0ZSAhPT0gMCkge1xuXHRcdFx0XHRzZHAgPSB0aGlzLnNldFNkcEN1c3RvbUJpdHJhdGUob2ZmZXIuc2RwKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHNkcCA9IG9mZmVyLnNkcDtcblx0XHRcdH1cblx0XHRcdGF3YWl0IHRoaXMuX3BjLnNldExvY2FsRGVzY3JpcHRpb24oe1xuXHRcdFx0XHRcdHR5cGU6ICdvZmZlcicsXG5cdFx0XHRcdFx0c2RwOiBzZHBcblx0XHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRsb2NhbE9mZmVyU2RwOiBvZmZlci5zZHBcblx0XHRcdH1cblx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignc2V0IGxvY2FsIG9mZmVyIHNkcCBlcnJvcicpO1xuXHRcdH1cblx0fTtcbn1cbiIsImltcG9ydCB7IEhhbmRsZXIgfSBmcm9tICcuL2hhbmRsZXInO1xuaW1wb3J0IHtcblx0SGFuZGxlckZhY3RvcnksXG5cdEhhbmRsZXJJbnRlcmZhY2UsXG5cdEhhbmRsZXJSdW5PcHRpb25zLFxuXHRIYW5kbGVyU2V0TG9jYWxPZmZlclNkcE9wdGlvbnMsXG5cdEhhbmRsZXJTZXRSZW1vdGVBbnN3ZXJTZHBPcHRpb25zXG59IGZyb20gJy4vSGFuZGxlckludGVyZmFjZSc7XG5cbmV4cG9ydCBjbGFzcyBPcGVyYTU2IGV4dGVuZHMgSGFuZGxlclxue1xuXHQvLyBwcml2YXRlIF9jdXJyZW50U3RyZWFtOiBNZWRpYVN0cmVhbSB8IG51bGwgPSBudWxsO1xuICAgIFxuXHRzdGF0aWMgY3JlYXRlRmFjdG9yeSgpOiBIYW5kbGVyRmFjdG9yeVxuXHR7XG5cdFx0cmV0dXJuICgpOiBPcGVyYTU2ID0+IG5ldyBPcGVyYTU2KCk7XG5cdH1cblxuXHRjb25zdHJ1Y3RvcigpXG5cdHtcblx0XHRzdXBlcigpO1xuXHR9XG5cblx0Z2V0IG5hbWUoKTogc3RyaW5nXG5cdHtcblx0XHRyZXR1cm4gJ09wZXJhNTYnO1xuXHR9XG5cblx0cnVuKFxuXHRcdHtcblx0XHRcdGRpcmVjdGlvbixcblx0XHRcdGljZVNlcnZlcnMsXG5cdFx0XHRpY2VUcmFuc3BvcnRQb2xpY3lcblx0XHR9OiBIYW5kbGVyUnVuT3B0aW9ucyBcblx0KTogdm9pZFxuXHR7XG5cdFx0dGhpcy5fZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuXG5cdFx0dGhpcy5fcGMgPSBuZXcgKFJUQ1BlZXJDb25uZWN0aW9uIGFzIGFueSkoXG5cdFx0XHR7XG5cdFx0XHRcdGljZVNlcnZlcnMgICAgICAgICA6IGljZVNlcnZlcnMgfHwgW10sXG5cdFx0XHRcdGljZVRyYW5zcG9ydFBvbGljeSA6IGljZVRyYW5zcG9ydFBvbGljeSB8fCAnYWxsJyxcblx0XHRcdFx0YnVuZGxlUG9saWN5ICAgICAgIDogJ21heC1idW5kbGUnLFxuXHRcdFx0XHRydGNwTXV4UG9saWN5ICAgICAgOiAncmVxdWlyZScsXG5cdFx0XHRcdHNkcFNlbWFudGljcyAgICAgICA6ICd1bmlmaWVkLXBsYW4nLFxuXHRcdFx0fSk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLl9wYy5vbmljZWNhbmRpZGF0ZSA9IChlOiBSVENQZWVyQ29ubmVjdGlvbkljZUV2ZW50KSA9PiB7XG5cdFx0XHR0aGlzLl9sb2dnZXIuZGVidWcoJ29uaWNlY2FuZGlkYXRlIGV2ZW50Ojo6JywgZSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX3BjLm9uaWNlZ2F0aGVyaW5nc3RhdGVjaGFuZ2UgPSAoZTogRXZlbnQpID0+IHtcblx0XHRcdHRoaXMuX2xvZ2dlci5kZWJ1Zygnb25pY2VnYXRoZXJpbmdzdGF0ZWNoYW5nZTo6OicsIGUpO1xuXHRcdH07XG4gICAgICAgIHRoaXMuX3BjLm9uc2lnbmFsaW5nc3RhdGVjaGFuZ2UgPSAoZTogRXZlbnQpID0+IHtcblx0XHRcdHRoaXMuX2xvZ2dlci5kZWJ1Zygnb25zaWduYWxpbmdzdGF0ZWNoYW5nZTo6OicsIGUpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9wYy5vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZSA9IChlOiBFdmVudCkgPT4ge1xuXHRcdFx0dGhpcy5fbG9nZ2VyLmRlYnVnKCdvbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZTo6OicsIGUpO1xuXHRcdH07XG5cdFx0Ly8gdGhpcy5fcGMub25hZGRzdHJlYW0gPSAoZTogRXZlbnQpID0+IHtcblx0XHQvLyBcdHRoaXMuX2xvZ2dlci5kZWJ1Zygnb25hZGRzdHJlYW06OjonLCBlKTtcblx0XHQvLyB9XG5cdH1cblxuXHRhc3luYyBzZXRMb2NhbE9mZmVyU2RwKFxuXHRcdHBhcmFtcz86IEhhbmRsZXJTZXRMb2NhbE9mZmVyU2RwT3B0aW9uc1xuXHQpOiBQcm9taXNlPHZvaWQ+XG5cdHtcblx0XHRpZiAodGhpcy5fZGlyZWN0aW9uID09PSAncmVjdicpIHtcblx0XHRcdC8vIHRoaXMuX3BjLmFkZFN0cmVhbSh0aGlzLl9zZW5kU3RyZWFtKTtcblx0XHRcdHRoaXMuX3RyYW5zY2VpdmVyQXJyLnB1c2godGhpcy5fcGMuYWRkVHJhbnNjZWl2ZXIoJ2F1ZGlvJywgeyBkaXJlY3Rpb246ICdyZWN2b25seScgfSkpO1xuXHRcdFx0dGhpcy5fdHJhbnNjZWl2ZXJBcnIucHVzaCh0aGlzLl9wYy5hZGRUcmFuc2NlaXZlcigndmlkZW8nLCB7IGRpcmVjdGlvbjogJ3JlY3Zvbmx5JyB9KSk7XG5cdFx0fSBlbHNlIGlmICh0aGlzLl9kaXJlY3Rpb24gPT09ICdzZW5kJykge1xuXHRcdFx0aWYgKHBhcmFtcyA9PT0gdm9pZCAwKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignbWVkaWFzdHJlYW0gbXVzdCBiZSBub3QgZXhpc3QuJyk7XG5cdFx0XHR9XG5cdFx0XHRjb25zdCB7IG1lZGlhc3RyZWFtLCBlbmNvZGluZ3N9ID0gcGFyYW1zO1xuXG5cdFx0XHRpZiAobWVkaWFzdHJlYW0gPT09IHZvaWQgMCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ21lZGlhc3RyZWFtIG11c3QgYmUgbm90IGV4aXN0LicpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9wYy5hZGRTdHJlYW0obWVkaWFzdHJlYW0pO1xuXHRcdFx0dGhpcy5fY3VycmVudFN0cmVhbSA9IG1lZGlhc3RyZWFtO1xuXHRcdH1cblx0fVxuXG5cdGFzeW5jIGdldExvY2FsT2ZmZXJTZHAoKTogUHJvbWlzZTx7bG9jYWxPZmZlclNkcDogc3RyaW5nfT4ge1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHR0aGlzLl9wYy5vbm5lZ290aWF0aW9ubmVlZGVkID0gYXN5bmMoZTogRXZlbnQpID0+IHtcblx0XHRcdFx0aWYgKHRoaXMuX2lzTmVnb3RpYXRpbmcpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0dGhpcy5faXNOZWdvdGlhdGluZyA9IHRydWU7XG5cdFx0XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0bGV0IGNyZWF0ZU9mZmVyT3B0aW9ucyA9IHtcblx0XHRcdFx0XHRcdG9mZmVyVG9SZWNlaXZlQXVkaW86IGZhbHNlLFxuXHRcdFx0XHRcdFx0b2ZmZXJUb1JlY2VpdmVWaWRlbzogZmFsc2Vcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKHRoaXMuX2RpcmVjdGlvbiA9PT0gJ3JlY3YnKSB7XG5cdFx0XHRcdFx0XHRjcmVhdGVPZmZlck9wdGlvbnMgPSB7XG5cdFx0XHRcdFx0XHRcdG9mZmVyVG9SZWNlaXZlQXVkaW86IHRydWUsXG5cdFx0XHRcdFx0XHRcdG9mZmVyVG9SZWNlaXZlVmlkZW86IHRydWVcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bGV0IG9mZmVyID0gYXdhaXQgdGhpcy5fcGMuY3JlYXRlT2ZmZXIoY3JlYXRlT2ZmZXJPcHRpb25zKTtcblx0XHRcdFx0XHRsZXQgc2RwOiBzdHJpbmc7XG5cdFx0XHRcdFx0aWYgKHRoaXMuX3ZpZGVvQ3VzdG9tQml0cmF0ZSAhPT0gMCB8fCB0aGlzLl9hdWRpb0N1c3RvbUJpdHJhdGUgIT09IDApIHtcblx0XHRcdFx0XHRcdHNkcCA9IHRoaXMuc2V0U2RwQ3VzdG9tQml0cmF0ZShvZmZlci5zZHApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRzZHAgPSBvZmZlci5zZHA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdC8vIGF3YWl0IHRoaXMuX3BjLnNldExvY2FsRGVzY3JpcHRpb24ob2ZmZXIpO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMuX3BjLnNldExvY2FsRGVzY3JpcHRpb24oe1xuXHRcdFx0XHRcdFx0XHR0eXBlOiAnb2ZmZXInLFxuXHRcdFx0XHRcdFx0XHRzZHA6IHNkcFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0cmVzb2x2ZSh7XG5cdFx0XHRcdFx0XHRsb2NhbE9mZmVyU2RwOiBvZmZlci5zZHBcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ3NldCBsb2NhbCBvZmZlciBzZHAgZXJyb3InKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9KTtcblx0fVxufVxuIiwiaW1wb3J0IHsgSGFuZGxlciB9IGZyb20gJy4vaGFuZGxlcic7XG5pbXBvcnQge1xuXHRIYW5kbGVyRmFjdG9yeSxcblx0SGFuZGxlclNldExvY2FsT2ZmZXJTZHBPcHRpb25zXG59IGZyb20gJy4vSGFuZGxlckludGVyZmFjZSc7XG5cbmV4cG9ydCBjbGFzcyBRUSBleHRlbmRzIEhhbmRsZXIgXG57XG5cdHN0YXRpYyBjcmVhdGVGYWN0b3J5KCk6IEhhbmRsZXJGYWN0b3J5XG5cdHtcblx0XHRyZXR1cm4gKCk6IFFRID0+IG5ldyBRUSgpO1xuXHR9XG5cblx0Y29uc3RydWN0b3IoKVxuXHR7XG5cdFx0c3VwZXIoKTtcblx0fVxuXG5cdGdldCBuYW1lKCk6IHN0cmluZ1xuXHR7XG5cdFx0cmV0dXJuICdRUSc7XG5cdH1cblxuXHRhc3luYyBzZXRMb2NhbE9mZmVyU2RwKFxuXHRcdHBhcmFtcz86IEhhbmRsZXJTZXRMb2NhbE9mZmVyU2RwT3B0aW9uc1xuXHQpOiBQcm9taXNlPHZvaWQ+XG5cdHtcblx0XHRpZiAodGhpcy5fZGlyZWN0aW9uID09PSAnc2VuZCcpIHtcblx0XHRcdGlmIChwYXJhbXMgPT09IHZvaWQgMCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ21lZGlhc3RyZWFtIG11c3QgYmUgbm90IGV4aXN0LicpO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3QgeyBtZWRpYXN0cmVhbSwgZW5jb2RpbmdzIH0gPSBwYXJhbXM7XG5cblx0XHRcdGlmIChtZWRpYXN0cmVhbSA9PT0gdm9pZCAwKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignbWVkaWFzdHJlYW0gbXVzdCBiZSBub3QgZXhpc3QuJyk7XG5cdFx0XHR9XG5cblx0XHRcdGZvciAobGV0IHRyYWNrIG9mIG1lZGlhc3RyZWFtLmdldFRyYWNrcygpKSB7XG5cdFx0XHRcdHRoaXMuX3BjLmFkZFRyYWNrKHRyYWNrLCB0aGlzLl9zZW5kU3RyZWFtKTsgXG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmICh0aGlzLl9kaXJlY3Rpb24gPT09ICdyZWN2Jykge1xuXHRcdFx0Ly8gZm9yIChsZXQgdHJhY2sgb2YgKHRoaXMuX3NlbmRTdHJlYW0gYXMgTWVkaWFTdHJlYW0pLmdldFRyYWNrcygpKSB7XG5cdFx0XHQvLyBcdHRoaXMuX3BjLmFkZFRyYWNrKHRyYWNrLCB0aGlzLl9zZW5kU3RyZWFtKTsgXG5cdFx0XHQvLyB9XG5cdFx0XHR0aGlzLl90cmFuc2NlaXZlckFyci5wdXNoKHRoaXMuX3BjLmFkZFRyYW5zY2VpdmVyKCdhdWRpbycsIHsgZGlyZWN0aW9uOiAncmVjdm9ubHknIH0pKTtcblx0XHRcdHRoaXMuX3RyYW5zY2VpdmVyQXJyLnB1c2godGhpcy5fcGMuYWRkVHJhbnNjZWl2ZXIoJ3ZpZGVvJywgeyBkaXJlY3Rpb246ICdyZWN2b25seScgfSkpO1xuXHRcdH1cblx0fVxufSIsImltcG9ydCB7IEhhbmRsZXIgfSBmcm9tICcuL2hhbmRsZXInO1xuaW1wb3J0IHtcblx0SGFuZGxlckZhY3RvcnksXG5cdEhhbmRsZXJJbnRlcmZhY2UsXG5cdEhhbmRsZXJSdW5PcHRpb25zLFxuXHRIYW5kbGVyU2V0TG9jYWxPZmZlclNkcE9wdGlvbnMsXG5cdEhhbmRsZXJTZXRSZW1vdGVBbnN3ZXJTZHBPcHRpb25zXG59IGZyb20gJy4vSGFuZGxlckludGVyZmFjZSc7XG5cbmV4cG9ydCBjbGFzcyBTYWZhcmkxMSBleHRlbmRzIEhhbmRsZXJcbntcblx0Ly8gcHJpdmF0ZSBfY3VycmVudFN0cmVhbTogTWVkaWFTdHJlYW0gfCBudWxsID0gbnVsbDtcbiAgICBcblx0c3RhdGljIGNyZWF0ZUZhY3RvcnkoKTogSGFuZGxlckZhY3Rvcnlcblx0e1xuXHRcdHJldHVybiAoKTogU2FmYXJpMTEgPT4gbmV3IFNhZmFyaTExKCk7XG5cdH1cblxuXHRjb25zdHJ1Y3RvcigpXG5cdHtcblx0XHRzdXBlcigpO1xuXHR9XG5cblx0Z2V0IG5hbWUoKTogc3RyaW5nXG5cdHtcblx0XHRyZXR1cm4gJ1NhZmFyaTExJztcblx0fVxuXG5cdGFzeW5jIHNldExvY2FsT2ZmZXJTZHAoXG5cdFx0cGFyYW1zPzogSGFuZGxlclNldExvY2FsT2ZmZXJTZHBPcHRpb25zXG5cdCk6IFByb21pc2U8dm9pZD5cblx0e1xuXHRcdGlmICh0aGlzLl9kaXJlY3Rpb24gPT09ICdzZW5kJykge1xuXHRcdFx0aWYgKHBhcmFtcyA9PT0gdm9pZCAwKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignbWVkaWFzdHJlYW0gbXVzdCBiZSBub3QgZXhpc3QuJyk7XG5cdFx0XHR9XG5cdFx0XHRjb25zdCB7IG1lZGlhc3RyZWFtLCBlbmNvZGluZ3MgfSA9IHBhcmFtcztcblxuXHRcdFx0aWYgKG1lZGlhc3RyZWFtID09PSB2b2lkIDApIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdtZWRpYXN0cmVhbSBtdXN0IGJlIG5vdCBleGlzdC4nKTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yIChsZXQgdHJhY2sgb2YgbWVkaWFzdHJlYW0uZ2V0VHJhY2tzKCkpIHtcblx0XHRcdFx0dGhpcy5fcGMuYWRkVHJhY2sodHJhY2ssIHRoaXMuX3NlbmRTdHJlYW0pOyBcblx0XHRcdH1cblx0XHRcdHRoaXMuX2N1cnJlbnRTdHJlYW0gPSBtZWRpYXN0cmVhbTtcblxuXHRcdH0gZWxzZSBpZiAodGhpcy5fZGlyZWN0aW9uID09PSAncmVjdicpIHtcblx0XHRcdGZvciAobGV0IHRyYWNrIG9mIHRoaXMuX3NlbmRTdHJlYW0uZ2V0VHJhY2tzKCkpIHtcblx0XHRcdFx0dGhpcy5fcGMuYWRkVHJhY2sodHJhY2ssIHRoaXMuX3NlbmRTdHJlYW0pOyBcblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cbiIsImltcG9ydCB7IEhhbmRsZXIgfSBmcm9tICcuL2hhbmRsZXInO1xuaW1wb3J0IHtcblx0SGFuZGxlckZhY3Rvcnlcbn0gZnJvbSAnLi9IYW5kbGVySW50ZXJmYWNlJztcblxuZXhwb3J0IGNsYXNzIFNhZmFyaTEyIGV4dGVuZHMgSGFuZGxlclxue1xuXHRzdGF0aWMgY3JlYXRlRmFjdG9yeSgpOiBIYW5kbGVyRmFjdG9yeVxuXHR7XG5cdFx0cmV0dXJuICgpOiBTYWZhcmkxMiA9PiBuZXcgU2FmYXJpMTIoKTtcblx0fVxuXG5cdGNvbnN0cnVjdG9yKClcblx0e1xuXHRcdHN1cGVyKCk7XG5cdH1cblxuXHRnZXQgbmFtZSgpOiBzdHJpbmdcblx0e1xuXHRcdHJldHVybiAnU2FmYXJpMTInO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBIYW5kbGVyIH0gZnJvbSAnLi9oYW5kbGVyJztcbmltcG9ydCB7XG5cdEhhbmRsZXJGYWN0b3J5LFxuXHRIYW5kbGVySW50ZXJmYWNlLFxuXHRIYW5kbGVyUnVuT3B0aW9ucyxcblx0SGFuZGxlclNldExvY2FsT2ZmZXJTZHBPcHRpb25zLFxuXHRIYW5kbGVyU2V0UmVtb3RlQW5zd2VyU2RwT3B0aW9uc1xufSBmcm9tICcuL0hhbmRsZXJJbnRlcmZhY2UnO1xuXG5leHBvcnQgY2xhc3MgV2VDaGF0NzAgZXh0ZW5kcyBIYW5kbGVyXG57XG5cdC8vIHByaXZhdGUgX2N1cnJlbnRTdHJlYW06IE1lZGlhU3RyZWFtIHwgbnVsbCA9IG51bGw7XG4gICAgXG5cdHN0YXRpYyBjcmVhdGVGYWN0b3J5KCk6IEhhbmRsZXJGYWN0b3J5XG5cdHtcblx0XHRyZXR1cm4gKCk6IFdlQ2hhdDcwID0+IG5ldyBXZUNoYXQ3MCgpO1xuXHR9XG5cblx0Y29uc3RydWN0b3IoKVxuXHR7XG5cdFx0c3VwZXIoKTtcblx0fVxuXG5cdGdldCBuYW1lKCk6IHN0cmluZ1xuXHR7XG5cdFx0cmV0dXJuICdXZUNoYXQ3MCc7XG5cdH1cblxuXHRydW4oXG5cdFx0e1xuXHRcdFx0ZGlyZWN0aW9uLFxuXHRcdFx0aWNlU2VydmVycyxcblx0XHRcdGljZVRyYW5zcG9ydFBvbGljeVxuXHRcdH06IEhhbmRsZXJSdW5PcHRpb25zIFxuXHQpOiB2b2lkXG5cdHtcblx0XHR0aGlzLl9kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG5cblx0XHR0aGlzLl9wYyA9IG5ldyAoUlRDUGVlckNvbm5lY3Rpb24gYXMgYW55KShcblx0XHRcdHtcblx0XHRcdFx0aWNlU2VydmVycyAgICAgICAgIDogaWNlU2VydmVycyB8fCBbXSxcblx0XHRcdFx0aWNlVHJhbnNwb3J0UG9saWN5IDogaWNlVHJhbnNwb3J0UG9saWN5IHx8ICdhbGwnLFxuXHRcdFx0XHRidW5kbGVQb2xpY3kgICAgICAgOiAnbWF4LWJ1bmRsZScsXG5cdFx0XHRcdHJ0Y3BNdXhQb2xpY3kgICAgICA6ICdyZXF1aXJlJyxcblx0XHRcdFx0c2RwU2VtYW50aWNzICAgICAgIDogJ3VuaWZpZWQtcGxhbicsXG5cdFx0XHR9KTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuX3BjLm9uaWNlY2FuZGlkYXRlID0gKGU6IFJUQ1BlZXJDb25uZWN0aW9uSWNlRXZlbnQpID0+IHtcblx0XHRcdHRoaXMuX2xvZ2dlci5kZWJ1Zygnb25pY2VjYW5kaWRhdGUgZXZlbnQ6OjonLCBlKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fcGMub25pY2VnYXRoZXJpbmdzdGF0ZWNoYW5nZSA9IChlOiBFdmVudCkgPT4ge1xuXHRcdFx0dGhpcy5fbG9nZ2VyLmRlYnVnKCdvbmljZWdhdGhlcmluZ3N0YXRlY2hhbmdlOjo6JywgZSk7XG5cdFx0fTtcbiAgICAgICAgdGhpcy5fcGMub25zaWduYWxpbmdzdGF0ZWNoYW5nZSA9IChlOiBFdmVudCkgPT4ge1xuXHRcdFx0dGhpcy5fbG9nZ2VyLmRlYnVnKCdvbnNpZ25hbGluZ3N0YXRlY2hhbmdlOjo6JywgZSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX3BjLm9uY29ubmVjdGlvbnN0YXRlY2hhbmdlID0gKGU6IEV2ZW50KSA9PiB7XG5cdFx0XHR0aGlzLl9sb2dnZXIuZGVidWcoJ29uY29ubmVjdGlvbnN0YXRlY2hhbmdlOjo6JywgZSk7XG5cdFx0fTtcblx0XHQvLyB0aGlzLl9wYy5vbmFkZHN0cmVhbSA9IChlOiBFdmVudCkgPT4ge1xuXHRcdC8vIFx0Y29uc29sZS5sb2coJ29udHJhY2s6OjonLCBlKTtcblx0XHQvLyB9XG5cdH1cblxuXHRhc3luYyBzZXRMb2NhbE9mZmVyU2RwKFxuXHRcdHBhcmFtcz86IEhhbmRsZXJTZXRMb2NhbE9mZmVyU2RwT3B0aW9uc1xuXHQpOiBQcm9taXNlPHZvaWQ+XG5cdHtcblx0XHRpZiAodGhpcy5fZGlyZWN0aW9uID09PSAnc2VuZCcpIHtcblx0XHRcdGlmIChwYXJhbXMgPT09IHZvaWQgMCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ21lZGlhc3RyZWFtIG11c3QgYmUgbm90IGV4aXN0LicpO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3QgeyBtZWRpYXN0cmVhbSwgZW5jb2RpbmdzIH0gPSBwYXJhbXM7XG5cdFx0XHRpZiAoIW1lZGlhc3RyZWFtKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignbWVkaWFzdHJlYW0gbXVzdCBiZSBub3QgZXhpc3QuJyk7XG5cdFx0XHR9XG5cdFx0XHRmb3IgKGxldCB0cmFjayBvZiBtZWRpYXN0cmVhbS5nZXRUcmFja3MoKSkge1xuXHRcdFx0XHR0aGlzLl90cmFuc2NlaXZlckFyci5wdXNoKHRoaXMuX3BjLmFkZFRyYW5zY2VpdmVyKFxuXHRcdFx0XHRcdHRyYWNrLFxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGRpcmVjdGlvbiAgICAgOiAnc2VuZG9ubHknLFxuXHRcdFx0XHRcdFx0c3RyZWFtcyAgICAgICA6IFsgdGhpcy5fc2VuZFN0cmVhbSBdLFxuXHRcdFx0XHRcdFx0c2VuZEVuY29kaW5ncyA6IGVuY29kaW5nc1xuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgZ2V0TG9jYWxPZmZlclNkcCgpOiBQcm9taXNlPHtsb2NhbE9mZmVyU2RwOiBzdHJpbmd9PiB7XG5cdFx0dHJ5IHtcblx0XHRcdGxldCBjcmVhdGVPZmZlck9wdGlvbnMgPSB7XG5cdFx0XHRcdG9mZmVyVG9SZWNlaXZlQXVkaW86IGZhbHNlLFxuXHRcdFx0XHRvZmZlclRvUmVjZWl2ZVZpZGVvOiBmYWxzZVxuXHRcdFx0fVxuXHRcdFx0aWYgKHRoaXMuX2RpcmVjdGlvbiA9PT0gJ3JlY3YnKSB7XG5cdFx0XHRcdGNyZWF0ZU9mZmVyT3B0aW9ucyA9IHtcblx0XHRcdFx0XHRvZmZlclRvUmVjZWl2ZUF1ZGlvOiB0cnVlLFxuXHRcdFx0XHRcdG9mZmVyVG9SZWNlaXZlVmlkZW86IHRydWVcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0bGV0IG9mZmVyID0gYXdhaXQgdGhpcy5fcGMuY3JlYXRlT2ZmZXIoY3JlYXRlT2ZmZXJPcHRpb25zKTtcblx0XHRcdGxldCBzZHA6IHN0cmluZztcblx0XHRcdGlmICh0aGlzLl92aWRlb0N1c3RvbUJpdHJhdGUgIT09IDAgfHwgdGhpcy5fYXVkaW9DdXN0b21CaXRyYXRlICE9PSAwKSB7XG5cdFx0XHRcdHNkcCA9IHRoaXMuc2V0U2RwQ3VzdG9tQml0cmF0ZShvZmZlci5zZHApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c2RwID0gb2ZmZXIuc2RwO1xuXHRcdFx0fVxuXHRcdFx0YXdhaXQgdGhpcy5fcGMuc2V0TG9jYWxEZXNjcmlwdGlvbih7XG5cdFx0XHRcdFx0dHlwZTogJ29mZmVyJyxcblx0XHRcdFx0XHRzZHA6IHNkcFxuXHRcdFx0XHR9KTtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGxvY2FsT2ZmZXJTZHA6IG9mZmVyLnNkcFxuXHRcdFx0fVxuXHRcdH0gY2F0Y2goZSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdzZXQgbG9jYWwgb2ZmZXIgc2RwIGVycm9yJyk7XG5cdFx0fVxuXHR9O1xufVxuIiwiaW1wb3J0ICogYXMgc2RwVHJhbnNmb3JtIGZyb20gJ3NkcC10cmFuc2Zvcm0nO1xuLy8gaW1wb3J0ICogYXMgc2RwQ29tbW9uVXRpbHMgZnJvbSAnLi9zZHAvY29tbW9uVXRpbHMnO1xuaW1wb3J0IFN0YXRpc3RpY3MgZnJvbSAnLi9zdGF0cy9DcnlzdGFsQmFsbFN0YXRzJztcbmltcG9ydCBTZW5zb3JTdGF0cyBmcm9tICcuL3N0YXRzL1NlbnNvclN0YXRzJztcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJy4uLy4uL2xvZy9sb2dnZXInO1xuaW1wb3J0IHsgcGNTdGF0cywgdHlwZSwgc3RhbmRhcmQgfSBmcm9tICcuL3N0YXRzL1N0YXRpc3RpY3MnO1xuaW1wb3J0IHtcblx0SGFuZGxlckZhY3RvcnksXG5cdEhhbmRsZXJJbnRlcmZhY2UsXG5cdEhhbmRsZXJSdW5PcHRpb25zLFxuXHRIYW5kbGVyU2V0TG9jYWxPZmZlclNkcE9wdGlvbnMsXG5cdEhhbmRsZXJTZXRSZW1vdGVBbnN3ZXJTZHBPcHRpb25zLFxuXHRpY2VTdGF0ZVJlc3VsdCxcblx0c3RhdHNEYXRhLFxuXHRjdXN0b21QYXJhbXNcbn0gZnJvbSAnLi9IYW5kbGVySW50ZXJmYWNlJztcblxuZXhwb3J0IGNsYXNzIEhhbmRsZXIgZXh0ZW5kcyBIYW5kbGVySW50ZXJmYWNlXG57XG5cdHByb3RlY3RlZCBfbG9nZ2VyOiBhbnkgPSBudWxsO1xuXHRwcml2YXRlIF9zdGF0aXN0aWNzOiBTdGF0aXN0aWNzIHwgbnVsbCA9IG51bGw7XG5cdHByaXZhdGUgX3NlbnNvcnN0YXRzOiBTZW5zb3JTdGF0cyB8IG51bGwgPSBudWxsO1xuXHRwcml2YXRlIF9zdHJlYW1JZDogc3RyaW5nID0gJyc7XG4gICAgcHJvdGVjdGVkIF9kaXJlY3Rpb246ICdzZW5kJyB8ICdyZWN2JyA9ICdzZW5kJztcblx0cHJvdGVjdGVkIHJlYWRvbmx5IF9zZW5kU3RyZWFtID0gbmV3IE1lZGlhU3RyZWFtKCk7XG5cdHByb3RlY3RlZCBfcGM6IGFueTtcblx0cHJvdGVjdGVkIF92aWRlb0N1c3RvbUJpdHJhdGU6IG51bWJlciA9IDA7XG5cdHByb3RlY3RlZCBfYXVkaW9DdXN0b21CaXRyYXRlOiBudW1iZXIgPSAwO1xuXHRwcm90ZWN0ZWQgX2N1c3RvbUZyYW1lcmF0ZTogbnVtYmVyID0gMDtcblx0cHJvdGVjdGVkIF9oYXNUcmFjazogYm9vbGVhbiA9IGZhbHNlO1xuXHRwcm90ZWN0ZWQgX2lzTmVnb3RpYXRpbmc6IGJvb2xlYW4gPSBmYWxzZTtcblx0cHJvdGVjdGVkIF90cmFuc2NlaXZlckFycjogQXJyYXk8UlRDUnRwVHJhbnNjZWl2ZXI+ID0gbmV3IEFycmF5KCk7XG5cdHByb3RlY3RlZCBfY3VycmVudFN0cmVhbTogTWVkaWFTdHJlYW0gfCBudWxsID0gbnVsbDtcblx0cHJpdmF0ZSBfcGNTdGF0czogcGNTdGF0cyB8IG51bGwgPSBudWxsO1xuICAgIFxuXHRzdGF0aWMgY3JlYXRlRmFjdG9yeSgpOiBIYW5kbGVyRmFjdG9yeVxuXHR7XG5cdFx0cmV0dXJuICgpOiBIYW5kbGVyID0+IG5ldyBIYW5kbGVyKCk7XG5cdH1cblxuXHRjb25zdHJ1Y3RvcigpXG5cdHtcblx0XHRzdXBlcigpO1xuXHRcdHRoaXMuX2xvZ2dlciA9IGxvZ2dlci5jb2xsZWN0O1xuXHR9XG5cblx0Z2V0IG5hbWUoKTogc3RyaW5nXG5cdHtcblx0XHRyZXR1cm4gJ0hhbmRsZXInO1xuXHR9XG5cblx0Y2xvc2UoKTogdm9pZFxuXHR7XG5cdFx0aWYgKHRoaXMuX3BjKVxuXHRcdHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGlmICh0aGlzLl9zdGF0aXN0aWNzKSB7XG5cdFx0XHRcdFx0dGhpcy5fc3RhdGlzdGljcy5zdG9wSW50ZXJ2YWwoKTtcblx0XHRcdFx0XHR0aGlzLl9zdGF0aXN0aWNzID0gbnVsbDtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAodGhpcy5fc2Vuc29yc3RhdHMpIHsgdGhpcy5fc2Vuc29yc3RhdHMgPSBudWxsOyB9XG5cdFx0XHRcdHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGMuY2xvc2UoKTsgXG4gICAgICAgICAgICAgICAgdGhpcy5fcGMub25pY2VjYW5kaWRhdGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuX3BjLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYy5vbmljZWdhdGhlcmluZ3N0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYy5vbnNpZ25hbGluZ3N0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYy5vbm5lZ290aWF0aW9ubmVlZGVkID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYy5vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZSA9IG51bGw7XG5cdFx0XHRcdHRoaXMuX3BjLm9udHJhY2sgPSBudWxsO1xuXHRcdFx0XHR0aGlzLl9pc05lZ290aWF0aW5nID0gZmFsc2U7XG5cdFx0XHRcdHRoaXMuX2hhc1RyYWNrID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cdFx0XHRjYXRjaCAoZXJyb3IpIHt9XG5cdFx0fVxuXHR9XG5cblx0cnVuKHtcblx0XHRcdHN0cmVhbUlkLFxuXHRcdFx0ZGlyZWN0aW9uLFxuXHRcdFx0aWNlU2VydmVycyxcblx0XHRcdGljZVRyYW5zcG9ydFBvbGljeVxuXHRcdH06IEhhbmRsZXJSdW5PcHRpb25zXG5cdCk6IHZvaWRcblx0e1xuXHRcdHRoaXMuX3N0cmVhbUlkIFx0PSBzdHJlYW1JZDtcblx0XHR0aGlzLl9kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG5cdFx0dHJ5IHtcblx0XHRcdHRoaXMuX3BjID0gbmV3IChSVENQZWVyQ29ubmVjdGlvbiBhcyBhbnkpKFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0aWNlU2VydmVycyAgICAgICAgIDogaWNlU2VydmVycyB8fCBbXSxcblx0XHRcdFx0XHRpY2VUcmFuc3BvcnRQb2xpY3kgOiBpY2VUcmFuc3BvcnRQb2xpY3kgfHwgJ2FsbCcsXG5cdFx0XHRcdFx0YnVuZGxlUG9saWN5ICAgICAgIDogJ21heC1idW5kbGUnLFxuXHRcdFx0XHRcdHJ0Y3BNdXhQb2xpY3kgICAgICA6ICdyZXF1aXJlJyxcblx0XHRcdFx0XHRzZHBTZW1hbnRpY3MgICAgICAgOiAndW5pZmllZC1wbGFuJyxcblx0XHRcdFx0fSk7XG5cdFx0fSBjYXRjaChlKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoZSk7XG5cdFx0fVxuXHRcdFxuICAgICAgICB0aGlzLl9wYy5vbmljZWNhbmRpZGF0ZSA9IChlOiBSVENQZWVyQ29ubmVjdGlvbkljZUV2ZW50KSA9PiB7XG5cdFx0XHQvLyBjb25zb2xlLmxvZygnb25pY2VjYW5kaWRhdGUgZXZlbnQ6OjonLCBlKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fcGMub25pY2VnYXRoZXJpbmdzdGF0ZWNoYW5nZSA9IChlOiBFdmVudCkgPT4ge1xuXHRcdFx0dGhpcy5fbG9nZ2VyLmRlYnVnKGAke3N0cmVhbUlkfW9uaWNlZ2F0aGVyaW5nc3RhdGVjaGFuZ2U6OjpgLCB0aGlzLl9wYy5pY2VHYXRoZXJpbmdTdGF0ZSk7XG5cdFx0fTtcbiAgICAgICAgdGhpcy5fcGMub25zaWduYWxpbmdzdGF0ZWNoYW5nZSA9IChlOiBFdmVudCkgPT4ge1xuXHRcdFx0dGhpcy5fbG9nZ2VyLmRlYnVnKGAke3N0cmVhbUlkfW9uc2lnbmFsaW5nc3RhdGVjaGFuZ2U6OjpgLCB0aGlzLl9wYy5zaWduYWxpbmdTdGF0ZSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX3BjLm9uY29ubmVjdGlvbnN0YXRlY2hhbmdlID0gKGU6IGFueSkgPT4ge1xuXHRcdFx0dGhpcy5fbG9nZ2VyLmRlYnVnKCdvbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZTo6OicsIGUuY3VycmVudFRhcmdldC5jb25uZWN0aW9uU3RhdGUpO1xuICAgICAgICB9O1xuXHR9XG5cblx0YXN5bmMgc2V0TG9jYWxPZmZlclNkcChcblx0XHRwYXJhbXM/OiBIYW5kbGVyU2V0TG9jYWxPZmZlclNkcE9wdGlvbnNcblx0KTogUHJvbWlzZTx2b2lkPlxuXHR7XG5cdFx0bGV0IHRyYW5zY2VpdmVyQXJyID0gbmV3IEFycmF5KCk7XG5cdFx0aWYgKHRoaXMuX2RpcmVjdGlvbiA9PSAncmVjdicpIHtcblx0XHRcdHRyYW5zY2VpdmVyQXJyLnB1c2godGhpcy5fcGMuYWRkVHJhbnNjZWl2ZXIoJ2F1ZGlvJywgeyBkaXJlY3Rpb246ICdyZWN2b25seScgfSkpO1xuXHRcdFx0dHJhbnNjZWl2ZXJBcnIucHVzaCh0aGlzLl9wYy5hZGRUcmFuc2NlaXZlcigndmlkZW8nLCB7IGRpcmVjdGlvbjogJ3JlY3Zvbmx5JyB9KSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmIChwYXJhbXMgPT09IHZvaWQgMCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ21lZGlhc3RyZWFtIG11c3QgYmUgbm90IGV4aXN0LicpO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3QgeyBtZWRpYXN0cmVhbSwgZW5jb2RpbmdzIH0gPSBwYXJhbXM7XG5cdFx0XHRpZiAoIW1lZGlhc3RyZWFtKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignbWVkaWFzdHJlYW0gbXVzdCBiZSBub3QgZXhpc3QuJyk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLl9jdXJyZW50U3RyZWFtID0gbWVkaWFzdHJlYW07XG5cdFx0XHRmb3IgKGxldCB0cmFjayBvZiBtZWRpYXN0cmVhbS5nZXRUcmFja3MoKSkge1xuXHRcdFx0XHR0cmFuc2NlaXZlckFyci5wdXNoKHRoaXMuX3BjLmFkZFRyYW5zY2VpdmVyKFxuXHRcdFx0XHRcdHRyYWNrLFxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGRpcmVjdGlvbiAgICAgOiAnc2VuZG9ubHknLFxuXHRcdFx0XHRcdFx0c3RyZWFtcyAgICAgICA6IFsgdGhpcy5fc2VuZFN0cmVhbSBdLFxuXHRcdFx0XHRcdFx0c2VuZEVuY29kaW5ncyA6IGVuY29kaW5nc1xuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHRoaXMuX3RyYW5zY2VpdmVyQXJyID0gdHJhbnNjZWl2ZXJBcnI7XG5cdH1cblxuXHRhc3luYyBzZXRSZW1vdGVBbnN3ZXJTZHAoeyByZW1vdGVBbnN3ZXJTZHAgfTogSGFuZGxlclNldFJlbW90ZUFuc3dlclNkcE9wdGlvbnMpIHtcblx0XHRsZXQgc2RwOiBzdHJpbmc7XG5cdFx0aWYgKHRoaXMuX3ZpZGVvQ3VzdG9tQml0cmF0ZSAhPT0gMCB8fCB0aGlzLl9hdWRpb0N1c3RvbUJpdHJhdGUgIT09IDApIHtcblx0XHRcdHNkcCA9IHRoaXMuc2V0U2RwQ3VzdG9tQml0cmF0ZShyZW1vdGVBbnN3ZXJTZHApXG5cdFx0fSBlbHNlIHtcblx0XHRcdHNkcCA9IHJlbW90ZUFuc3dlclNkcDtcblx0XHR9XG5cdFx0Y29uc3QgcmVtb3RlT2ZmZXIgPSB7IHR5cGU6ICdhbnN3ZXInLCBzZHA6ICBzZHB9O1xuXHRcdHRyeSB7XG5cdFx0XHR0aGlzLl9sb2dnZXIucmVwb3J0KCdyZW1vdGUgYW5zd2Vyc2RwJywgcmVtb3RlT2ZmZXIpO1xuXHRcdFx0YXdhaXQgdGhpcy5fcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24ocmVtb3RlT2ZmZXIpO1xuXHRcdH0gY2F0Y2goZSkge1xuXHRcdFx0dGhpcy5fbG9nZ2VyLnJlcG9ydCgnc2V0IHJlbW90ZSBhbnN3ZXJzZHAgZXJyb3InLCB7IHN0cmVhbUlkOiB0aGlzLl9zdHJlYW1JZCwgcmVhc29uOiBlIH0pO1xuXHRcdFx0dGhpcy5fbG9nZ2VyLmVycm9yKCdzZXQgcmVtb3RlIGFuc3dlcnNkcCBlcnJvci4nKTtcblx0XHR9XG5cdH1cblxuXHRzZXRJY2VDYW5kaWRhdGUoY2FuZGlkYXRlQXJyYXk6IFJUQ0ljZUNhbmRpZGF0ZUluaXRbXSkge1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgY2FuZGlkYXRlQXJyYXkubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdGNvbnN0IGNhbmRpZGF0ZSA9IG5ldyBSVENJY2VDYW5kaWRhdGUoY2FuZGlkYXRlQXJyYXlbaV0pO1xuXHRcdFx0dGhpcy5fcGMuYWRkSWNlQ2FuZGlkYXRlKGNhbmRpZGF0ZSkuY2F0Y2goKGU6IEV2ZW50KSA9PiB7XG5cdFx0XHRcdHRoaXMuX2xvZ2dlci5lcnJvcignYWRkSWNlQ2FuZGlkYXRlJywgZSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHRzdG9wVHJhbnNjZWl2ZXIoKSB7XG5cdFx0Y29uc3QgdHJhbnNjZWl2ZXIgPSB0aGlzLl90cmFuc2NlaXZlckFycjtcblx0XHRpZiAoIXRyYW5zY2VpdmVyKXtcblx0XHRcdHRocm93IG5ldyBFcnJvcignYXNzb2NpYXRlZCBSVENSdHBUcmFuc2NlaXZlciBub3QgZm91bmQnKTtcblx0XHR9XG5cdFx0aWYgKHRoaXMuX3BjLnNpZ25hbGluZ1N0YXRlICE9PSAnY2xvc2VkJykge1xuXHRcdFx0Zm9yIChsZXQgaXRlbSBvZiB0cmFuc2NlaXZlcikge1xuXHRcdFx0XHRpdGVtLnNlbmRlci5yZXBsYWNlVHJhY2sobnVsbCk7XG5cdFx0XHRcdHRoaXMuX3BjLnJlbW92ZVRyYWNrKGl0ZW0uc2VuZGVyKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKHRoaXMuX2N1cnJlbnRTdHJlYW0gIT0gdm9pZCAwKSB7XG5cdFx0XHRmb3IgKGxldCBpdGVtIG9mIHRoaXMuX2N1cnJlbnRTdHJlYW0uZ2V0VHJhY2tzKCkpIHtcblx0XHRcdFx0aXRlbS5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhpcy5jbG9zZSgpO1xuXHR9XG5cdFxuXHRhc3luYyBnZXRMb2NhbE9mZmVyU2RwKCk6IFByb21pc2U8e2xvY2FsT2ZmZXJTZHA6IHN0cmluZ30+IHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0dGhpcy5fcGMub25uZWdvdGlhdGlvbm5lZWRlZCA9IGFzeW5jKGU6IEV2ZW50KSA9PiB7XG5cdFx0XHRcdGlmICh0aGlzLl9pc05lZ290aWF0aW5nKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMuX2lzTmVnb3RpYXRpbmcgPSB0cnVlO1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGxldCBvZmZlciA9IGF3YWl0IHRoaXMuX3BjLmNyZWF0ZU9mZmVyKCk7XG5cdFx0XHRcdFx0bGV0IHNkcDogc3RyaW5nO1xuXHRcdFx0XHRcdGlmICh0aGlzLl92aWRlb0N1c3RvbUJpdHJhdGUgIT09IDAgfHwgdGhpcy5fYXVkaW9DdXN0b21CaXRyYXRlICE9PSAwKSB7XG5cdFx0XHRcdFx0XHRzZHAgPSB0aGlzLnNldFNkcEN1c3RvbUJpdHJhdGUob2ZmZXIuc2RwKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0c2RwID0gb2ZmZXIuc2RwO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR0aGlzLl9sb2dnZXIucmVwb3J0KCdsb2NhbCBvZmZlciBzZHAnLCBzZHApO1xuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLl9wYy5zZXRMb2NhbERlc2NyaXB0aW9uKHtcblx0XHRcdFx0XHRcdFx0XHR0eXBlOiAnb2ZmZXInLFxuXHRcdFx0XHRcdFx0XHRcdHNkcDogc2RwXG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcignc2V0IGxvY2FsIG9mZmVyIHNkcCBlcnJvcicpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQvLyDnm67liY3mnI3liqHnq6/kuI3lhbzlrrks55uu5YmN5pqC5pe25LiN5YGa5aSE55CGXG5cdFx0XHRcdFx0cmVzb2x2ZSh7XG5cdFx0XHRcdFx0XHRsb2NhbE9mZmVyU2RwOiBvZmZlci5zZHBcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdjcmVhdGUgbG9jYWwgb2ZmZXIgc2RwIGVycm9yJyk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0fSk7XG5cdH1cblx0XG5cblx0Z2V0SUNFQ29ubmVjdGlvblN0YXRlKCk6IFByb21pc2U8aWNlU3RhdGVSZXN1bHQ+IHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0dGhpcy5fcGMub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UgPSAoZTogRXZlbnQpID0+IHtcblx0XHRcdFx0dGhpcy5fbG9nZ2VyLnJlcG9ydChgJHt0aGlzLl9zdHJlYW1JZH1nZXQgY29ubmVjdGlvbnN0YXRlY2hhbmdlIHN0YXRlOjo6YCwgdGhpcy5fcGMuaWNlQ29ubmVjdGlvblN0YXRlKTtcblx0XHRcdFx0c3dpdGNoICh0aGlzLl9wYy5pY2VDb25uZWN0aW9uU3RhdGUpIHtcblx0XHRcdFx0XHRjYXNlICdjaGVja2luZyc6XG5cdFx0XHRcdFx0XHQvLyB0aGlzLmVtaXQoJ0Bjb25uZWN0aW9uc3RhdGVjaGFuZ2UnLCAnY2hlY2tpbmcnKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2Nvbm5lY3RlZCc6XG5cdFx0XHRcdFx0Y2FzZSAnY29tcGxldGVkJzpcblx0XHRcdFx0XHRcdC8vIOe7k+aenOi/lOWbnlxuXHRcdFx0XHRcdFx0bGV0IHN1Y2Nlc3NTdGF0ZSA9IHRoaXMuX2RpcmVjdGlvbiA9PSAnc2VuZCcgPyAnUFVCTElTSElORycgOiAnUExBWUlORyc7XG5cdFx0XHRcdFx0XHR0aGlzLl9sb2dnZXIuaW5mbyhgc3RyZWFtICR7c3VjY2Vzc1N0YXRlfSBzdWNjZXNzLmApO1xuXHRcdFx0XHRcdFx0cmVzb2x2ZSh7XG5cdFx0XHRcdFx0XHRcdHN0YXRlOiBzdWNjZXNzU3RhdGUsXG5cdFx0XHRcdFx0XHRcdGNvZGU6IDFcblx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlICdmYWlsZWQnOlxuXHRcdFx0XHRcdFx0bGV0IGZhaWxlZFN0YXRlID0gdGhpcy5fZGlyZWN0aW9uID09ICdzZW5kJyA/ICdOT19QVUJMSVNIJyA6ICdOT19QTEFZJztcblx0XHRcdFx0XHRcdHRoaXMuX2xvZ2dlci5pbmZvKGBzdHJlYW0gJHtmYWlsZWRTdGF0ZX1gKTtcblx0XHRcdFx0XHRcdHJlc29sdmUoe1xuXHRcdFx0XHRcdFx0XHRzdGF0ZTogZmFpbGVkU3RhdGUsXG5cdFx0XHRcdFx0XHRcdGNvZGU6IDBcblx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlICdkaXNjb25uZWN0ZWQnOlxuXHRcdFx0XHRcdFx0Ly8gdGhpcy5lbWl0KCdAY29ubmVjdGlvbnN0YXRlY2hhbmdlJywgJ2Rpc2Nvbm5lY3RlZCcpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnY2xvc2VkJzpcblx0XHRcdFx0XHRcdC8vIHRoaXMuZW1pdCgnQGNvbm5lY3Rpb25zdGF0ZWNoYW5nZScsICdjbG9zZWQnKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XHRcdFxuXHRcdFx0fTtcblx0XHR9KVxuXHR9XG5cblx0Z2V0VHJhY2soKTogUHJvbWlzZTxNZWRpYVN0cmVhbT4ge1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHR0aGlzLl9wYy5vbnRyYWNrID0gKGU6IFJUQ1RyYWNrRXZlbnQpID0+IHtcblx0XHRcdFx0aWYgKHRoaXMuX2hhc1RyYWNrKSB7IHJldHVybjsgfSB0aGlzLl9oYXNUcmFjayA9IHRydWU7XG5cdFx0XHRcdFxuXHRcdFx0XHR0aGlzLl9sb2dnZXIuZGVidWcoYCR7dGhpcy5fc3RyZWFtSWR9Z2V0dHJhY2s6OjpgLCBlLnN0cmVhbXMubGVuZ3RoKTtcblx0XHRcdFx0aWYgKGUuc3RyZWFtcy5sZW5ndGggIT09IDApIHtcblx0XHRcdFx0XHRmb3IgKGNvbnN0IHRyYWNrIG9mIGUuc3RyZWFtc1swXS5nZXRUcmFja3MoKSkge1xuXHRcdFx0XHRcdFx0dGhpcy5fbG9nZ2VyLmRlYnVnKGAke3RoaXMuX3N0cmVhbUlkfWdldHRyYWNrIGtpbmQ6OjpgLCB0cmFjayk7XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHR0aGlzLl9jdXJyZW50U3RyZWFtID0gZS5zdHJlYW1zWzBdO1xuXHRcdFx0XHRcdHJlc29sdmUoZS5zdHJlYW1zWzBdKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9KTtcblx0fVxuXG5cdHNldEN1c3RvbWVyVmFsdWUoY3VzdG9tUGFyYW1zOiBjdXN0b21QYXJhbXMpIHtcblx0XHR0aGlzLl92aWRlb0N1c3RvbUJpdHJhdGUgPSBjdXN0b21QYXJhbXMudmlkZW9DdXN0b21CaXRyYXRlO1xuXHRcdHRoaXMuX2F1ZGlvQ3VzdG9tQml0cmF0ZSA9IGN1c3RvbVBhcmFtcy5hdWRpb0N1c3RvbUJpdHJhdGU7XG5cdFx0dGhpcy5fY3VzdG9tRnJhbWVyYXRlID0gY3VzdG9tUGFyYW1zLmN1c3RvbUZyYW1lcmF0ZTtcblx0fVxuXG5cdHByb3RlY3RlZCBzZXRTZHBDdXN0b21CaXRyYXRlKHNkcDogc3RyaW5nKSB7XG5cdFx0aWYgKHRoaXMuX3ZpZGVvQ3VzdG9tQml0cmF0ZSAhPT0gMCB8fCB0aGlzLl9hdWRpb0N1c3RvbUJpdHJhdGUgIT09IDApIHtcblx0XHRcdGxldCBzZHBPYmogPSBzZHBUcmFuc2Zvcm0ucGFyc2Uoc2RwKTtcblx0XHRcdGxldCBtZWRpYUFyciA9IHNkcE9iai5tZWRpYTtcblx0XHRcdGZvciAobGV0IGl0ZW0gb2YgbWVkaWFBcnIpIHtcblx0XHRcdFx0bGV0IGZtdHBBcnIgPSBpdGVtLmZtdHA7XG5cdFx0XHRcdGZvciAobGV0IHZhbHVlIG9mIGZtdHBBcnIpIHtcblx0XHRcdFx0XHRpZiAoaXRlbS50eXBlID09PSAndmlkZW8nICYmIHRoaXMuX3ZpZGVvQ3VzdG9tQml0cmF0ZSAhPT0gMCkge1xuXHRcdFx0XHRcdFx0bGV0IGZtdHBDb25maWcgPSBzZHBUcmFuc2Zvcm0ucGFyc2VQYXJhbXModmFsdWUuY29uZmlnKTtcblx0XHRcdFx0XHRcdGlmIChmbXRwQ29uZmlnWydwcm9maWxlLWxldmVsLWlkJ10pIHtcblx0XHRcdFx0XHRcdFx0dmFsdWUuY29uZmlnICs9IGA7eC1nb29nbGUtbWF4LWJpdHJhdGU9JHt0aGlzLl92aWRlb0N1c3RvbUJpdHJhdGV9O3gtZ29vZ2xlLW1pbi1iaXRyYXRlPSR7dGhpcy5fdmlkZW9DdXN0b21CaXRyYXRlfTt4LWdvb2dsZS1zdGFydC1iaXRyYXRlPSR7dGhpcy5fdmlkZW9DdXN0b21CaXRyYXRlfWA7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICdhdWRpbycgJiYgdGhpcy5fYXVkaW9DdXN0b21CaXRyYXRlICE9PSAwKSB7XG5cdFx0XHRcdFx0XHR2YWx1ZS5jb25maWcgKz0gYDttYXhhdmVyYWdlYml0cmF0ZT0ke3RoaXMuX2F1ZGlvQ3VzdG9tQml0cmF0ZX1gXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gc2RwVHJhbnNmb3JtLndyaXRlKHNkcE9iaik7XG5cblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhyb3cgbmV3IFJhbmdlRXJyb3IoJ2N1c3RvbUJpdFJhdGUgdmFsdWUgbm90IGludmFsaWQnKTtcblx0XHR9XG5cdH1cblxuXHRhc3luYyByZXBsYWNlVHJhY2soXG5cdFx0dHJhY2s6IE1lZGlhU3RyZWFtVHJhY2tcblx0KTogUHJvbWlzZTx2b2lkPlxuXHR7XG5cdFx0Y29uc3Qgc2VuZGVyID0gdGhpcy5fcGMuZ2V0U2VuZGVycygpLmZpbmQoKHM6IFJUQ1J0cFNlbmRlcikgPT4ge1xuXHRcdFx0aWYgKCFzLnRyYWNrKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignbWVkaWFzdHJlYW1UcmFjayBpcyBub3QgZXhpc3QuJyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcy50cmFjay5raW5kID09IHRyYWNrLmtpbmQ7XG5cdFx0fSk7XG5cdFx0dHJ5IHtcblx0XHRcdGF3YWl0IHNlbmRlci5yZXBsYWNlVHJhY2sodHJhY2spO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihlKTtcblx0XHR9XG5cdFx0XG5cdH1cblxuXHQvLyBhc3luYyB0cmFuc3BvcnRTdGF0cygpOiBQcm9taXNlPGFueT4ge1xuXHQvLyBcdGlmICh0aGlzLl9zdGF0aXN0aWNzID09IHZvaWQgMCkge1xuXHQvLyBcdFx0dGhpcy5fc3RhdGlzdGljcyA9IG5ldyBTdGF0aXN0aWNzKHtcblx0Ly8gXHRcdFx0ZnJhbWVyYXRlOiB0aGlzLl9jdXN0b21GcmFtZXJhdGUsXG5cdC8vIFx0XHRcdGJpdHJhdGU6IHRoaXMuX3ZpZGVvQ3VzdG9tQml0cmF0ZVxuXHQvLyBcdFx0fSk7XG5cdC8vIFx0fVxuXHQvLyBcdGlmICh0aGlzLl9zZW5zb3JzdGF0cyA9PSB2b2lkIDApIHtcblx0Ly8gXHRcdHRoaXMuX3NlbnNvcnN0YXRzID0gbmV3IFNlbnNvclN0YXRzKHtcblx0Ly8gXHRcdFx0ZnJhbWVyYXRlOiB0aGlzLl9jdXN0b21GcmFtZXJhdGUsXG5cdC8vIFx0XHRcdGJpdHJhdGU6IHRoaXMuX3ZpZGVvQ3VzdG9tQml0cmF0ZVxuXHQvLyBcdFx0fSlcblx0Ly8gXHR9XG5cdC8vIFx0Y29uc3Qgc3RhdHNEYXRhID0gYXdhaXQgdGhpcy5fcGMuZ2V0U3RhdHMoKTtcblx0Ly8gXHRjb25zdCBjcnlzdGFsQmFsbFN0YXRzRGF0YSA9IHRoaXMuX3N0YXRpc3RpY3Muc3RhcnRJbnRlcnZhbChzdGF0c0RhdGEpO1xuXHQvLyBcdGNvbnN0IHNlbnNvclN0YXRzRGF0YSA9IHRoaXMuX3NlbnNvcnN0YXRzLmNvbGxlY3RSVENTdGF0c1JlcG9ydChzdGF0c0RhdGEpO1xuXG5cdC8vIFx0Ly8gdGhpcy5fbG9nZ2VyLmRlYnVnKCdzdGF0c0RhdGE6OicsIHtcblx0Ly8gXHQvLyBcdGNyeXN0YWxCYWxsOiBjcnlzdGFsQmFsbFN0YXRzRGF0YSxcblx0Ly8gXHQvLyBcdHNlbnNvcjogc2Vuc29yU3RhdHNEYXRhXG5cdC8vIFx0Ly8gfSlcblx0Ly8gXHRyZXR1cm4ge1xuXHQvLyBcdFx0Y3J5c3RhbEJhbGw6IGNyeXN0YWxCYWxsU3RhdHNEYXRhLFxuXHQvLyBcdFx0c2Vuc29yOiBzZW5zb3JTdGF0c0RhdGFcblx0Ly8gXHR9O1xuXHQvLyB9XG5cblx0YXN5bmMgdHJhbnNwb3J0U3RhdHModHlwZURhdGE6IG51bWJlcikge1xuXHRcdGlmICh0aGlzLl9wY1N0YXRzID09IHZvaWQgMCkge1xuXHRcdFx0dGhpcy5fcGNTdGF0cyA9IG5ldyBwY1N0YXRzKHtcblx0XHRcdFx0ZnJhbWVyYXRlOiB0aGlzLl9jdXN0b21GcmFtZXJhdGUsXG5cdFx0XHRcdGJpdHJhdGU6IHRoaXMuX3ZpZGVvQ3VzdG9tQml0cmF0ZSxcblx0XHRcdFx0ZGlyZWN0aW9uOiB0aGlzLl9kaXJlY3Rpb25cblx0XHRcdH0pO1xuXHRcdH1cblx0XHRjb25zdCBzdGF0c0RhdGEgPSBhd2FpdCB0aGlzLl9wYy5nZXRTdGF0cygpO1xuXHRcdHRoaXMuX3BjU3RhdHMuY29sbGVjdFJUQ1N0YXRzUmVwb3J0KHN0YXRzRGF0YSk7XG5cdFx0c3dpdGNoICh0eXBlRGF0YSkge1xuXHRcdFx0Y2FzZSB0eXBlLkxvY2FsQXVkaW86XG5cdFx0XHRcdHJldHVybiB0aGlzLl9wY1N0YXRzLmdldExvY2FsQXVkaW9TdGF0cygpO1xuXHRcdFx0Y2FzZSB0eXBlLkxvY2FsVmlkZW86XG5cdFx0XHRcdHJldHVybiB0aGlzLl9wY1N0YXRzLmdldExvY2FsVmlkZW9TdGF0cygpO1xuXHRcdFx0Y2FzZSB0eXBlLlJlbW90ZUF1ZGlvOlxuXHRcdFx0XHRyZXR1cm4gdGhpcy5fcGNTdGF0cy5nZXRSZW1vdGVBdWRpb1N0YXRzKCk7XG5cdFx0XHRjYXNlIHR5cGUuUmVtb3RlVmlkZW86XG5cdFx0XHRcdHJldHVybiB0aGlzLl9wY1N0YXRzLmdldFJlbW90ZVZpZGVvU3RhdHMoKTtcblx0XHRcdGNhc2UgdHlwZS5TZW5zb3I6XG5cdFx0XHRjYXNlIHR5cGUuQ3J5c3RhbGJhbGw6XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0Y3J5c3RhbEJhbGw6IHRoaXMuX3BjU3RhdHMuZ2V0Q3J5c3RhbGJhbGxTdGF0cygpLFxuXHRcdFx0XHRcdHNlbnNvcjogdGhpcy5fcGNTdGF0cy5nZXRTZW5zb3JTdGF0cygpXG5cdFx0XHRcdH07XG5cdFx0fVxuXHR9XG5cblx0Ly8gYXN5bmMgc3RhdHNEYXRhSW50ZXJ2YWwoKSB7XG5cdC8vIFx0aWYgKHRoaXMuX3BjU3RhdHMgPT0gdm9pZCAwKSB7XG5cdC8vIFx0XHR0aHJvdyBuZXcgRXJyb3IoJ3BlZXIgY29ubmVjdGlvbiBpcyBub3QgZXhpc3QuJylcblx0Ly8gXHR9XG5cdC8vIFx0Y29uc3Qgc3RhdHNEYXRhID0gYXdhaXQgdGhpcy5fcGMuZ2V0U3RhdHMoKTtcblx0Ly8gXHR0aGlzLl9wY1N0YXRzLmNvbGxlY3RSVENTdGF0c1JlcG9ydChzdGF0c0RhdGEpO1xuXHQvLyBcdHNldFRpbWVvdXQodGhpcy5zdGF0c0RhdGFJbnRlcnZhbCwgc3RhbmRhcmQuZ2V0RGF0YUludGVydmFsKTtcblx0Ly8gfVxuXG5cdHByaXZhdGUgX2Fzc2VydFNlbmREaXJlY3Rpb24oKTogdm9pZFxuXHR7XG5cdFx0aWYgKHRoaXMuX2RpcmVjdGlvbiAhPT0gJ3NlbmQnKVxuXHRcdHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0J21ldGhvZCBjYW4ganVzdCBiZSBjYWxsZWQgZm9yIGhhbmRsZXJzIHdpdGggXCJzZW5kXCIgZGlyZWN0aW9uJyk7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBfYXNzZXJ0UmVjdkRpcmVjdGlvbigpOiB2b2lkXG5cdHtcblx0XHRpZiAodGhpcy5fZGlyZWN0aW9uICE9PSAncmVjdicpXG5cdFx0e1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHQnbWV0aG9kIGNhbiBqdXN0IGJlIGNhbGxlZCBmb3IgaGFuZGxlcnMgd2l0aCBcInJlY3ZcIiBkaXJlY3Rpb24nKTtcblx0XHR9XG5cdH1cbn1cbiIsIlxuLypcbiog5L2/55SoZ2V0c3RhdHPmlLbpm4bnu5/orqHkv6Hmga8sIOWvueS6jumcgOimgeiuoeeul+eahOe7n+iuoeWtl+autSwg5pS26ZuGLeiwg+eUqC3muIXnqbpcbiovXG50eXBlIHRhcmdldFBhcmFtcyA9IHtcbiAgICBkaXJlY3Rpb246ICdzZW5kJyB8ICdyZWN2JztcbiAgICBmcmFtZXJhdGU/OiBudW1iZXI7XG4gICAgYml0cmF0ZT86IG51bWJlcjtcbn1cblxuZXhwb3J0IGVudW0gdHlwZSB7XG4gICAgTG9jYWxBdWRpbyxcbiAgICBMb2NhbFZpZGVvLFxuICAgIFJlbW90ZUF1ZGlvLFxuICAgIFJlbW90ZVZpZGVvLFxuICAgIENyeXN0YWxiYWxsLFxuICAgIFNlbnNvclxufVxuXG5leHBvcnQgZW51bSBzdGFuZGFyZCB7XG4gICAgZnJlZXplRnJhbWVSYXRlID0gOCxcbiAgICBhdWRpb0ZyZWV6ZVJhdGUgPSAwLjA0XG59XG5cbi8vIExvY2FsQXVkaW9UcmFja1N0YXRzXG50eXBlIExvY2FsQXVkaW9UcmFja1N0YXRzID0ge1xuICAgIGNvZGVjVHlwZTogXCJvcHVzXCIgfCBcImFhY1wiXG4gICAgc2VuZEJpdHJhdGU6IG51bWJlcjsgLy8gYnBzXG4gICAgc2VuZEJ5dGVzOiBudW1iZXI7IC8vYnl0ZXNcbiAgICBzZW5kUGFja2V0czogbnVtYmVyO1xuICAgIHNlbmRQYWNrZXRzTG9zdDogbnVtYmVyO1xuICAgIHNlbmRWb2x1bWVMZXZlbDogbnVtYmVyXG59XG5cbnR5cGUgTG9jYWxWaWRlb1RyYWNrU3RhdHMgPSB7XG4gICAgY2FwdHVyZUZyYW1lUmF0ZTogdW5kZWZpbmVkIHwgbnVtYmVyO1xuICAgIGNhcHR1cmVSZXNvbHV0aW9uSGVpZ2h0OiBudW1iZXI7XG4gICAgY2FwdHVyZVJlc29sdXRpb25XaWR0aDogbnVtYmVyO1xuICAgIGNvZGVjVHlwZTogXCJIMjY0XCIgfCBcIlZQOFwiIHwgXCJWUDlcIjtcbiAgICBlbmNvZGVEZWxheTogdW5kZWZpbmVkIHwgbnVtYmVyO1xuICAgIHNlbmRCaXRyYXRlOiBudW1iZXI7XG4gICAgc2VuZEJ5dGVzOiBudW1iZXI7XG4gICAgc2VuZEZyYW1lUmF0ZTogdW5kZWZpbmVkIHwgbnVtYmVyO1xuICAgIHNlbmRQYWNrZXRzOiBudW1iZXI7XG4gICAgc2VuZFBhY2tldHNMb3N0OiBudW1iZXI7XG4gICAgc2VuZFJlc29sdXRpb25IZWlnaHQ6IG51bWJlcjtcbiAgICBzZW5kUmVzb2x1dGlvbldpZHRoOiBudW1iZXI7XG4gICAgdGFyZ2V0U2VuZEJpdHJhdGU6IG51bWJlcjtcbiAgICB0b3RhbER1cmF0aW9uOiBudW1iZXI7ICAvL+inhumikeaAu+aXtumVv++8jOWNleS9jeS4uuenklxuICAgIHRvdGFsRnJlZXplVGltZTogbnVtYmVyOyAvL+inhumikeaAu+WNoemhv+aXtumVv++8jOWNleS9jeS4uuenklxufVxuXG50eXBlIFJlbW90ZUF1ZGlvVHJhY2tTdGF0cyA9IHtcbiAgICBjb2RlY1R5cGU6IFwib3B1c1wiIHwgXCJhYWNcIjtcbiAgICBlbmQyRW5kRGVsYXk/OiBudW1iZXI7ICAvLyA/Pz8/P1xuICAgIGZyZWV6ZVJhdGU6IG51bWJlcjtcbiAgICBwYWNrZXRMb3NzUmF0ZTogbnVtYmVyO1xuICAgIHB1Ymxpc2hEdXJhdGlvbjogbnVtYmVyO1xuICAgIHJlY2VpdmVCaXRyYXRlOiBudW1iZXI7XG4gICAgcmVjZWl2ZUJ5dGVzOiBudW1iZXI7XG4gICAgcmVjZWl2ZURlbGF5OiBudW1iZXI7XG4gICAgcmVjZWl2ZUxldmVsOiBudW1iZXI7XG4gICAgcmVjZWl2ZVBhY2tldHM6IG51bWJlcjtcbiAgICByZWNlaXZlUGFja2V0c0xvc3Q6IG51bWJlcjtcbiAgICB0b3RhbER1cmF0aW9uOiBudW1iZXI7XG4gICAgdG90YWxGcmVlemVUaW1lOiBudW1iZXI7XG4gICAgdHJhbnNwb3J0RGVsYXk6IG51bWJlcjtcbn1cblxudHlwZSBSZW1vdGVWaWRlb1RyYWNrU3RhdHMgPSB7XG4gICAgY29kZWNUeXBlOiBcIkgyNjRcIiB8IFwiVlA4XCIgfCBcIlZQOVwiO1xuICAgIGRlY29kZUZyYW1lUmF0ZTogdW5kZWZpbmVkIHwgbnVtYmVyO1xuICAgIGVuZDJFbmREZWxheT86IG51bWJlcjtcbiAgICBmcmVlemVSYXRlOiBudW1iZXI7XG4gICAgcGFja2V0TG9zc1JhdGU6IG51bWJlcjtcbiAgICBwdWJsaXNoRHVyYXRpb24/OiBudW1iZXI7XG4gICAgcmVjZWl2ZUJpdHJhdGU6IG51bWJlcjtcbiAgICByZWNlaXZlQnl0ZXM6IG51bWJlcjtcbiAgICByZWNlaXZlRGVsYXk6IG51bWJlcjtcbiAgICByZWNlaXZlRnJhbWVSYXRlOiB1bmRlZmluZWQgfCBudW1iZXI7XG4gICAgcmVjZWl2ZVBhY2tldHM6IG51bWJlcjtcbiAgICByZWNlaXZlUGFja2V0c0xvc3Q6IG51bWJlcjtcbiAgICByZWNlaXZlUmVzb2x1dGlvbkhlaWdodDogbnVtYmVyO1xuICAgIHJlY2VpdmVSZXNvbHV0aW9uV2lkdGg6IG51bWJlcjtcbiAgICByZW5kZXJGcmFtZVJhdGU6IHVuZGVmaW5lZCB8IG51bWJlcjtcbiAgICB0b3RhbER1cmF0aW9uOiBudW1iZXI7IC8vIOaOpeaUtueahOinhumikeaAu+aXtumVv++8jOWNleS9jeS4uuenkuOAglxuICAgIHRvdGFsRnJlZXplVGltZTogbnVtYmVyOyAvLyDmjqXmlLbnmoTop4bpopHmgLvljaHpob/ml7bplb/vvIzljZXkvY3kuLrnp5LjgIJcbiAgICB0cmFuc3BvcnREZWxheTogbnVtYmVyOyAvLyDku47ov5znq6/lj5HpgIHop4bpopHliLDmnKzlnLDmjqXmlLbop4bpopHnmoTlu7bov5/jgIJcbn1cblxudHlwZSBTZW5zb3JTZW5kU3RhdHMgPSB7XG4gICAgYV9zZW5kX2JpdHJhdGU6IG51bWJlcjtcbiAgICBpc19zZW5kOiAwIHwgMTtcbiAgICB2X2FjdHVhbF9iaXRyYXRlOiBudW1iZXI7XG4gICAgdl9lbmNvZGVfY29zdDogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAgIHZfZnJhbWVfZW5jb2RlOiBudW1iZXI7XG4gICAgdl9mcmFtZV9zZW50OiBudW1iZXI7XG4gICAgdl9pbnB1dF9mcmFtZV9yYXRlOiBudW1iZXI7XG4gICAgdl9uYWNrX3BsaTogbnVtYmVyO1xuICAgIHZfc2VuZF9mcmFtZV9yYXRlOiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gICAgdl9zZW5kX3BhY2tldHM6IG51bWJlcjtcbiAgICB2X3NlbmRfcGxpOiBudW1iZXJcbiAgICB2X3RhcmdldF9iaXRyYXRlOiBudW1iZXI7XG59XG5cbnR5cGUgU2Vuc29yUmVjdlN0YXRzID0ge1xuICAgIGlzX3NlbmQ6IDAgfCAxO1xuICAgIGFfcmVjdl9iaXRyYXRlOiBudW1iZXI7XG4gICAgYV9yZWN2X3BhY2tldHM6IG51bWJlcjtcbiAgICBhX2xvc3RfcGFja2V0czogbnVtYmVyO1xuICAgIHZfcmVjdl9iaXRyYXRlOiBudW1iZXI7XG4gICAgdl9kZWNvZGVfY29zdDogbnVtYmVyO1xuICAgIHZfbG9zdF9wYWNrZXRzOiBudW1iZXI7XG4gICAgdl9yZWN2X2ZpcnM6IG51bWJlcjtcbiAgICB2X3JlY3ZfZnJhbWVfcmF0ZTogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAgIHZfcmVjdl9uYWNrOiBudW1iZXI7XG4gICAgdl9yZWN2X3BsaXM6IG51bWJlcjtcbn1cblxudHlwZSBDcnlzdGFsYmFsbFNlbmRTdGF0cyA9IHtcbiAgICBWU2VuZEJpdHJhdGUxOiBudW1iZXI7IOOAgOOAgOOAgOOAgOOAgC8vIOinhumikeWPkemAgeeggeeOh1xuICAgIEFTZW5kQml0cmF0ZTogbnVtYmVyOyAgICAgICAgICAvLyDpn7PpopHlj5HpgIHnoIHnjodcbiAgICBTZW5kQmFuZHdpZHRoOiBudW1iZXI744CA44CA44CA44CA44CAIC8vIOWPkemAgeacieaViOW4puWuvVxuICAgIFNlbmRSVFQ6IG51bWJlcjvjgIDjgIDjgIDjgIDjgIDjgIDjgIDjgIDjgIAvLyDlj5HpgIFydHRcbiAgICBFbmNvZGVDb3N0OiBudW1iZXIgfCB1bmRlZmluZWQ7ICAgICAgICAgICAgLy8g6KeG6aKR57yW56CB6ICX5pe2XG4gICAgVkZyYW1lUmF0ZTE6IG51bWJlciB8IHVuZGVmaW5lZDsg44CA44CA44CA44CA44CA44CALy8g6KeG6aKRQWRhcHTlkI7luKfnjodcbiAgICBWRnJhbWVSYXRlMjogbnVtYmVyOyDjgIDjgIDjgIDjgIDjgIDjgIAvLyDop4bpopHovpPlhaXluKfnjodcbiAgICBWU2VuZEZyYW1lUmF0ZTE6IG51bWJlciB8IHVuZGVmaW5lZDvjgIDjgIDjgIDjgIAvLyDop4bpopHlj5HpgIHluKfnjodcbiAgICBWU2VuZExvc3RQZXJjZW50OiBudW1iZXI7ICAgICAgLy8g6KeG6aKR5Y+R6YCB5Lii5YyF546HXG4gICAgQVNlbmRMb3N0UGVyY2VudDogbnVtYmVyO+OAgOOAgOOAgCAvLyDpn7PpopHlj5HpgIHkuKLljIXnjodcbiAgICAvLyB0YXJnZXRfZW5jb2RlX2JpdHJhdGU6IG51bWJlcjsgLy8g6KeG6aKR55uu5qCH57yW56CB56CB546HXG4gICAgLy8gYWN0dWFsX2VuY29kZV9iaXRyYXRlOiBudW1iZXI7IC8vIOinhumikeWunumZhee8lueggeeggeeOh1xuICAgIG5hY2tfcmVjZWl2ZV90aW1lczogbnVtYmVyOyAgICAvLyBuYWNr5o6l5pS25qyh5pWwXG4gICAgLy8gbmFja19zZW5kX3JhdGVfYnBzOiBudW1iZXI7ICAgIC8vIG5hY2vlj5HpgIHmlbDmja7ph49cbiAgICBwbGlfcmVjZWl2ZV90aW1lczogbnVtYmVyOyAgICAgLy8gcGxp5o6l5pS25qyh5pWwXG4gICAgLy8gZmVjX3NlbmRfcmF0ZV9icHM6IG51bWJlcjsgICAgIC8vIGZlY+WPkemAgeaVsOaNrumHj1xuICAgIC8vIG1lbW9yeV91c2FnZV9wZXJjZW50ICAvLyDlhoXlrZjkvb/nlKjnjodcbiAgICAvLyBcImNwdV91c2FnZV9wZXJjZW50XCIgICAgIC8vIENQVeS9v+eUqOeOh1xufVxuXG50eXBlIENyeXN0YWxiYWxsUmVjdlN0YXRzID0ge1xuICAgIFZSZWN2Qml0cmF0ZTogbnVtYmVyOyAgICAgICAgICAvLyDop4bpopHmjqXmlLbnoIHnjodcbiAgICBBUmVjdkJpdHJhdGU6IG51bWJlcjsgICAgICAgICAgLy8g6Z+z6aKR5o6l5pS256CB546HXG4gICAgUmVjdlJUVDogbnVtYmVyOyAgICAgICAgICAgICAgIC8vIOaOpeaUtnJ0dFxuICAgIERlY29kZUNvc3Q6IG51bWJlcjsgICAgICAgICAgICAvLyDop4bpopHop6PnoIHogJfml7ZcbiAgICBWRnJhbWVSYXRlOiBudW1iZXIgfCB1bmRlZmluZWQ7ICAgICAgICAgICAgLy8g6KeG6aKR5o6l5pS25bin546HXG4gICAgVlJlY3ZMb3N0UGVyY2VudDogbnVtYmVyOyAgICAgIC8vIOinhumikeaOpeaUtuS4ouWMheeOh1xuICAgIEFSZWN2TG9zdFBlcmNlbnQ6IG51bWJlcjsgICAgICAvLyDpn7Pop4bmjqXmlLbkuKLljIXnjodcbiAgICAvLyB2aWRlb19kZWxheSAgICAgICAgICAgLy8g5ouJ5rWB5bu25pe2XG4gICAgLy8gXCJtZW1vcnlfdXNhZ2VfcGVyY2VudFwiICAvLyDlhoXlrZjkvb/nlKjnjodcbiAgICAvLyBcImNwdV91c2FnZV9wZXJjZW50XCIgICAgIC8vIENQVeS9v+eUqOeOh1xufVxuXG5leHBvcnQgY2xhc3MgcGNTdGF0cyB7XG4gICAgcHJpdmF0ZSBfZGlyZWN0aW9uOiAnc2VuZCcgfCAncmVjdicgPSAnc2VuZCc7XG4gICAgcHJpdmF0ZSBfaW50ZXJ2YWw6IG51bWJlciA9IDEwMDA7IC8vIOm7mOiupDFz6LW35aeLXG4gICAgcHJpdmF0ZSBfbWFwQ29kZWNJZDogIE1hcDxzdHJpbmcsIHN0cmluZz4gPSBuZXcgTWFwKCk7XG4gICAgcHJpdmF0ZSBfdGFyZ2V0RnJhbWVyYXRlOiBudW1iZXIgPSAwO1xuICAgIC8vIOW4p+eOh+WwkeS6jjjluKfpu5jorqTkuLrljaHpob9cbiAgICBwcml2YXRlIF9hdWRpb0NvZGVjSWQ6IHN0cmluZyA9ICcnO1xuICAgIHByaXZhdGUgX3ZpZGVvQ29kZWNJZDogc3RyaW5nID0gJyc7XG4gICAgcHJpdmF0ZSBfc2VuZENvdW50RnJlZXplVGltZXM6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBfcmVjdkNvdW50RnJlZXplVGltZXM6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBfc3RhcnRUaW1lOiBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgX2VuZFRpbWU6IG51bWJlciA9IDA7XG5cbiAgICBwcml2YXRlIF90b3RhbEF1ZGlvRnJlZXplVGltZXM6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBfdG90YWxBdWRpb1JlY3ZUaW1lczogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIF9jdXJyZW50Um91bmRUcmlwVGltZTogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIF90b3RhbFJlbmRlckZyYW1lOiBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgX3RvdGFsRGVjb2RlRnJhbWU6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBfYXVkaW9KaXR0ZXJEZWxheTogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIF92aWRlb0ppdHRlckRlbGF5OiBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgX3RvdGFsUmVjdkZyYW1lUmF0ZTogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIF90b3RhbGZyZWV6ZUZyYW1lOiBudW1iZXIgPSAwO1xuXG4gICAgcHJpdmF0ZSBfYXVkaW9TZW5kQ29kZWNUeXBlOiAnb3B1cycgfCAnYWFjJyA9ICdhYWMnO1xuICAgIHByaXZhdGUgX2F1ZGlvU2VuZEJpdHJhdGU6IG51bWJlciA9IDA7IC8vIGJwc1xuICAgIHByaXZhdGUgX2F1ZGlvU2VuZEJ5dGVzOiBudW1iZXIgPSAwOyAvL2J5dGVzXG4gICAgcHJpdmF0ZSBfYXVkaW9TZW5kUGFja2V0czogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIF9hbmRpb1NlbmRQYWNrZXRzTG9zdDogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIF9zZW5kVm9sdW1lTGV2ZWw6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBfY2FwdHVyZUZyYW1lUmF0ZTogdW5kZWZpbmVkIHwgbnVtYmVyID0gMDsgLy8gdW5kZWZpbmVcbiAgICBwcml2YXRlIF9jYXB0dXJlUmVzb2x1dGlvbkhlaWdodDogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIF9jYXB0dXJlUmVzb2x1dGlvbldpZHRoOiBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgX3ZpZGVvU2VuZENvZGVjVHlwZTogJ0gyNjQnIHwgJ1ZQOCcgfCAnVlA5JyA9ICdIMjY0JztcbiAgICBwcml2YXRlIF9lbmNvZGVEZWxheTogdW5kZWZpbmVkIHwgbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIF92aWRlb1NlbmRCaXRyYXRlOiBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgX3ZpZGVvU2VuZEJ5dGVzOiBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgX3NlbmRGcmFtZVJhdGU6IHVuZGVmaW5lZCB8IG51bWJlcjtcbiAgICBwcml2YXRlIF92aWRlb1NlbmRQYWNrZXRzOiBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgX3ZpZGVvU2VuZFBhY2tldHNMb3N0OiBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgX3NlbmRSZXNvbHV0aW9uSGVpZ2h0OiBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgX3NlbmRSZXNvbHV0aW9uV2lkdGg6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBfdGFyZ2V0U2VuZEJpdHJhdGU6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBfc2VuZFRvdGFsRHVyYXRpb246IG51bWJlciA9IDA7ICAvL+inhumikeaAu+aXtumVv++8jOWNleS9jeS4uuenklxuICAgIHByaXZhdGUgX3NlbmRUb3RhbEZyZWV6ZVRpbWU6IG51bWJlciA9IDA7IC8v6KeG6aKR5oC75Y2h6aG/5pe26ZW/77yM5Y2V5L2N5Li656eSXG5cbiAgICBwcml2YXRlIF9hdWRpb1JlY3ZDb2RlY1R5cGU6ICdvcHVzJyB8ICdhYWMnID0gJ2FhYyc7XG4gICAgcHJpdmF0ZSBfYXVkaW9FbmQyRW5kRGVsYXk6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBfYXVkaW9GcmVlemVSYXRlOiBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgX2F1ZGlvUGFja2V0TG9zc1JhdGU6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBfYXVkaW9QdWJsaXNoRHVyYXRpb246IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBfYXVkaW9SZWNlaXZlQml0cmF0ZTogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIF9hdWRpb1JlY2VpdmVCeXRlczogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIF9hdWRpb1JlY2VpdmVEZWxheTogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIF9yZWNlaXZlTGV2ZWw6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBfYXVkaW9SZWNlaXZlUGFja2V0czogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIF9hdWRpb1JlY2VpdmVQYWNrZXRzTG9zdDogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIF9yZWN2QXVkaW9Ub3RhbER1cmF0aW9uOiBudW1iZXIgPSAwOyAgLy8vLy8vLz8/P1xuICAgIHByaXZhdGUgX3JlY3ZBdWRpb1RvdGFsRnJlZXplVGltZTogbnVtYmVyID0gMDsgICAvLy8vLy8/Pz9cbiAgICBwcml2YXRlIF9hdWRpb1RyYW5zcG9ydERlbGF5OiBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgX3ZpZGVvUmVjdkNvZGVjVHlwZTogJ0gyNjQnIHwgJ1ZQOCcgfCAnVlA5JyA9ICdIMjY0JztcbiAgICBwcml2YXRlIF9kZWNvZGVGcmFtZVJhdGU6IHVuZGVmaW5lZCB8IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBfdmlkZW9FbmQyRW5kRGVsYXk6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBfdmlkZW9GcmVlemVSYXRlOiBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgX3ZpZGVvUGFja2V0TG9zc1JhdGU6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBfdmlkZW9QdWJsaXNoRHVyYXRpb246IG51bWJlciA9IDA7ICAvLy8gPz8/XG4gICAgcHJpdmF0ZSBfdmlkZW9SZWNlaXZlQml0cmF0ZTogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIF92aWRlb1JlY2VpdmVCeXRlczogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIF92aWRlb1JlY2VpdmVEZWxheTogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIF9yZWNlaXZlRnJhbWVSYXRlOiB1bmRlZmluZWQgfCBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgX3ZpZGVvUmVjZWl2ZVBhY2tldHM6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBfdmlkZW9SZWNlaXZlUGFja2V0c0xvc3Q6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBfcmVjZWl2ZVJlc29sdXRpb25IZWlnaHQ6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBfcmVjZWl2ZVJlc29sdXRpb25XaWR0aDogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIF9yZW5kZXJGcmFtZVJhdGU6IHVuZGVmaW5lZCB8IG51bWJlcjtcbiAgICBwcml2YXRlIF9yZWN2VmlkZW9Ub3RhbER1cmF0aW9uOiBudW1iZXIgPSAwOyAvLyDmjqXmlLbnmoTop4bpopHmgLvml7bplb/vvIzljZXkvY3kuLrnp5LjgIJcbiAgICBwcml2YXRlIF9yZWN2VmlkZW9Ub3RhbEZyZWV6ZVRpbWU6IG51bWJlciA9IDA7IC8vIOaOpeaUtueahOinhumikeaAu+WNoemhv+aXtumVv++8jOWNleS9jeS4uuenkuOAglxuICAgIHByaXZhdGUgX3ZpZGVvVHJhbnNwb3J0RGVsYXk6IG51bWJlciA9IDA7IC8vIOS7jui/nOerr+WPkemAgeinhumikeWIsOacrOWcsOaOpeaUtuinhumikeeahOW7tui/n+OAglxuXG4gICAgLy8gc2Vuc29yXG4gICAgcHJpdmF0ZSBfc2VuZEZyYW1lc0VuY29kZWQ6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBfc2VuZEZyYW1lc1NlbnQ6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBfc2VuZE5hY2tDb3VudDogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIF9zZW5kUGxpQ291bnQ6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBfdG90YWxEZWNvZGVUaW1lOiBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgX2ZpckNvdW50OiBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgX3JlY3ZOYWNrQ291bnQ6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBfcmVjdlBsaUNvdW50Om51bWJlciA9IDA7XG5cbiAgICAvLyBjcnlzdGFsYmFsbFxuICAgIHByaXZhdGUgX3NlbmRCYW5kd2lkdGg6IG51bWJlciA9IDA7XG5cbiAgICBjb25zdHJ1Y3Rvcih0YXJnZXRQYXJhbXM6IHRhcmdldFBhcmFtcykge1xuICAgICAgICB0aGlzLl9kaXJlY3Rpb24gPSB0YXJnZXRQYXJhbXMuZGlyZWN0aW9uO1xuICAgICAgICBpZiAodGFyZ2V0UGFyYW1zICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGlmICh0YXJnZXRQYXJhbXMuZnJhbWVyYXRlICE9PSB2b2lkIDAgKSB7IHRoaXMuX3RhcmdldEZyYW1lcmF0ZSA9ICB0YXJnZXRQYXJhbXMuZnJhbWVyYXRlIH07XG4gICAgICAgICAgICBpZiAodGFyZ2V0UGFyYW1zLmJpdHJhdGUgIT09IHZvaWQgMCApIHsgdGhpcy5fdGFyZ2V0U2VuZEJpdHJhdGUgPSAgdGFyZ2V0UGFyYW1zLmJpdHJhdGUgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBnZXRMb2NhbEF1ZGlvU3RhdHMoKTpMb2NhbEF1ZGlvVHJhY2tTdGF0cyB7XG4gICAgICAgIHRoaXMuX2NhbGN1bGF0ZVRvdGFsSW5kZXgoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvZGVjVHlwZTogdGhpcy5fYXVkaW9TZW5kQ29kZWNUeXBlLFxuICAgICAgICAgICAgc2VuZEJpdHJhdGU6IHRoaXMuX2F1ZGlvU2VuZEJpdHJhdGUsIC8vIGJwc1xuICAgICAgICAgICAgc2VuZEJ5dGVzOiB0aGlzLl9hdWRpb1NlbmRCeXRlcywgLy9ieXRlc1xuICAgICAgICAgICAgc2VuZFBhY2tldHM6IHRoaXMuX2F1ZGlvU2VuZFBhY2tldHMsXG4gICAgICAgICAgICBzZW5kUGFja2V0c0xvc3Q6IHRoaXMuX2FuZGlvU2VuZFBhY2tldHNMb3N0LFxuICAgICAgICAgICAgc2VuZFZvbHVtZUxldmVsOiB0aGlzLl9zZW5kVm9sdW1lTGV2ZWxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0TG9jYWxWaWRlb1N0YXRzKCk6TG9jYWxWaWRlb1RyYWNrU3RhdHMge1xuICAgICAgICB0aGlzLl9jYWxjdWxhdGVUb3RhbEluZGV4KCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjYXB0dXJlRnJhbWVSYXRlOiB0aGlzLl9jYXB0dXJlRnJhbWVSYXRlLFxuICAgICAgICAgICAgY2FwdHVyZVJlc29sdXRpb25IZWlnaHQ6IHRoaXMuX2NhcHR1cmVSZXNvbHV0aW9uSGVpZ2h0LFxuICAgICAgICAgICAgY2FwdHVyZVJlc29sdXRpb25XaWR0aDogdGhpcy5fY2FwdHVyZVJlc29sdXRpb25XaWR0aCxcbiAgICAgICAgICAgIGNvZGVjVHlwZTogdGhpcy5fdmlkZW9TZW5kQ29kZWNUeXBlLFxuICAgICAgICAgICAgZW5jb2RlRGVsYXk6IHRoaXMuX2VuY29kZURlbGF5LFxuICAgICAgICAgICAgc2VuZEJpdHJhdGU6IHRoaXMuX3ZpZGVvU2VuZEJpdHJhdGUsXG4gICAgICAgICAgICBzZW5kQnl0ZXM6IHRoaXMuX3ZpZGVvU2VuZEJ5dGVzLFxuICAgICAgICAgICAgc2VuZEZyYW1lUmF0ZTogdGhpcy5fc2VuZEZyYW1lUmF0ZSxcbiAgICAgICAgICAgIHNlbmRQYWNrZXRzOiB0aGlzLl92aWRlb1NlbmRQYWNrZXRzLFxuICAgICAgICAgICAgc2VuZFBhY2tldHNMb3N0OiB0aGlzLl92aWRlb1NlbmRQYWNrZXRzTG9zdCxcbiAgICAgICAgICAgIHNlbmRSZXNvbHV0aW9uSGVpZ2h0OiB0aGlzLl9zZW5kUmVzb2x1dGlvbkhlaWdodCxcbiAgICAgICAgICAgIHNlbmRSZXNvbHV0aW9uV2lkdGg6IHRoaXMuX3NlbmRSZXNvbHV0aW9uV2lkdGgsXG4gICAgICAgICAgICB0YXJnZXRTZW5kQml0cmF0ZTogdGhpcy5fdGFyZ2V0U2VuZEJpdHJhdGUsXG4gICAgICAgICAgICB0b3RhbER1cmF0aW9uOiB0aGlzLl9zZW5kVG90YWxEdXJhdGlvbiwgIC8v6KeG6aKR5oC75pe26ZW/77yM5Y2V5L2N5Li656eSXG4gICAgICAgICAgICB0b3RhbEZyZWV6ZVRpbWU6IHRoaXMuX3NlbmRUb3RhbEZyZWV6ZVRpbWUgLy/op4bpopHmgLvljaHpob/ml7bplb/vvIzljZXkvY3kuLrnp5JcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBnZXRSZW1vdGVBdWRpb1N0YXRzKCk6UmVtb3RlQXVkaW9UcmFja1N0YXRzIHtcbiAgICAgICAgdGhpcy5fY2FsY3VsYXRlVG90YWxJbmRleCgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY29kZWNUeXBlOiB0aGlzLl9hdWRpb1JlY3ZDb2RlY1R5cGUsXG4gICAgICAgICAgICAvLyBlbmQyRW5kRGVsYXk6ICAvLy8vLy8vLy8/Pz8/XG4gICAgICAgICAgICBmcmVlemVSYXRlOiB0aGlzLl9hdWRpb0ZyZWV6ZVJhdGUsXG4gICAgICAgICAgICBwYWNrZXRMb3NzUmF0ZTogdGhpcy5fYXVkaW9QYWNrZXRMb3NzUmF0ZSxcbiAgICAgICAgICAgIHB1Ymxpc2hEdXJhdGlvbjogdGhpcy5fYXVkaW9QdWJsaXNoRHVyYXRpb24sXG4gICAgICAgICAgICByZWNlaXZlQml0cmF0ZTogdGhpcy5fYXVkaW9SZWNlaXZlQml0cmF0ZSxcbiAgICAgICAgICAgIHJlY2VpdmVCeXRlczogdGhpcy5fYXVkaW9SZWNlaXZlQnl0ZXMsXG4gICAgICAgICAgICByZWNlaXZlRGVsYXk6IHRoaXMuX2F1ZGlvUmVjZWl2ZURlbGF5LFxuICAgICAgICAgICAgcmVjZWl2ZUxldmVsOiB0aGlzLl9yZWNlaXZlTGV2ZWwsXG4gICAgICAgICAgICByZWNlaXZlUGFja2V0czogdGhpcy5fYXVkaW9SZWNlaXZlUGFja2V0cyxcbiAgICAgICAgICAgIHJlY2VpdmVQYWNrZXRzTG9zdDogdGhpcy5fYXVkaW9SZWNlaXZlUGFja2V0c0xvc3QsXG4gICAgICAgICAgICB0b3RhbER1cmF0aW9uOiB0aGlzLl9yZWN2QXVkaW9Ub3RhbER1cmF0aW9uLFxuICAgICAgICAgICAgdG90YWxGcmVlemVUaW1lOiB0aGlzLl9yZWN2QXVkaW9Ub3RhbEZyZWV6ZVRpbWUsXG4gICAgICAgICAgICB0cmFuc3BvcnREZWxheTogdGhpcy5fYXVkaW9UcmFuc3BvcnREZWxheVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGdldFJlbW90ZVZpZGVvU3RhdHMoKTpSZW1vdGVWaWRlb1RyYWNrU3RhdHMge1xuICAgICAgICB0aGlzLl9jYWxjdWxhdGVUb3RhbEluZGV4KCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb2RlY1R5cGU6IHRoaXMuX3ZpZGVvUmVjdkNvZGVjVHlwZSxcbiAgICAgICAgICAgIGRlY29kZUZyYW1lUmF0ZTogdGhpcy5fZGVjb2RlRnJhbWVSYXRlLFxuICAgICAgICAgICAgLy8gZW5kMkVuZERlbGF5OiBcbiAgICAgICAgICAgIGZyZWV6ZVJhdGU6IHRoaXMuX3ZpZGVvRnJlZXplUmF0ZSxcbiAgICAgICAgICAgIHBhY2tldExvc3NSYXRlOiB0aGlzLl92aWRlb1BhY2tldExvc3NSYXRlLFxuICAgICAgICAgICAgLy8gcHVibGlzaER1cmF0aW9uOiBcbiAgICAgICAgICAgIHJlY2VpdmVCaXRyYXRlOiB0aGlzLl92aWRlb1JlY2VpdmVCaXRyYXRlLFxuICAgICAgICAgICAgcmVjZWl2ZUJ5dGVzOiB0aGlzLl92aWRlb1JlY2VpdmVCeXRlcyxcbiAgICAgICAgICAgIHJlY2VpdmVEZWxheTogdGhpcy5fdmlkZW9SZWNlaXZlRGVsYXksXG4gICAgICAgICAgICByZWNlaXZlRnJhbWVSYXRlOiB0aGlzLl9yZWNlaXZlRnJhbWVSYXRlLFxuICAgICAgICAgICAgcmVjZWl2ZVBhY2tldHM6IHRoaXMuX3ZpZGVvUmVjZWl2ZVBhY2tldHMsXG4gICAgICAgICAgICByZWNlaXZlUGFja2V0c0xvc3Q6IHRoaXMuX3ZpZGVvUmVjZWl2ZVBhY2tldHNMb3N0LFxuICAgICAgICAgICAgcmVjZWl2ZVJlc29sdXRpb25IZWlnaHQ6IHRoaXMuX3JlY2VpdmVSZXNvbHV0aW9uSGVpZ2h0LFxuICAgICAgICAgICAgcmVjZWl2ZVJlc29sdXRpb25XaWR0aDogdGhpcy5fcmVjZWl2ZVJlc29sdXRpb25XaWR0aCxcbiAgICAgICAgICAgIHJlbmRlckZyYW1lUmF0ZTogdGhpcy5fcmVuZGVyRnJhbWVSYXRlLFxuICAgICAgICAgICAgdG90YWxEdXJhdGlvbjogdGhpcy5fcmVjdlZpZGVvVG90YWxEdXJhdGlvbiwgLy8g5o6l5pS255qE6KeG6aKR5oC75pe26ZW/77yM5Y2V5L2N5Li656eS44CCXG4gICAgICAgICAgICB0b3RhbEZyZWV6ZVRpbWU6IHRoaXMuX3JlY3ZWaWRlb1RvdGFsRnJlZXplVGltZSwgLy8g5o6l5pS255qE6KeG6aKR5oC75Y2h6aG/5pe26ZW/77yM5Y2V5L2N5Li656eS44CCXG4gICAgICAgICAgICB0cmFuc3BvcnREZWxheTogdGhpcy5fdmlkZW9UcmFuc3BvcnREZWxheSAvLyDku47ov5znq6/lj5HpgIHop4bpopHliLDmnKzlnLDmjqXmlLbop4bpopHnmoTlu7bov5/jgIJcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTZW5zb3JTdGF0cygpOiBTZW5zb3JTZW5kU3RhdHMgfCBTZW5zb3JSZWN2U3RhdHMge1xuICAgICAgICB0aGlzLl9jYWxjdWxhdGVUb3RhbEluZGV4KCk7XG4gICAgICAgIGNvbnN0IHNlbmREYXRhOiBTZW5zb3JTZW5kU3RhdHMgPSB7XG4gICAgICAgICAgICBhX3NlbmRfYml0cmF0ZTogdGhpcy5fYXVkaW9TZW5kQml0cmF0ZSxcbiAgICAgICAgICAgIGlzX3NlbmQ6IDEsXG4gICAgICAgICAgICB2X2FjdHVhbF9iaXRyYXRlOiB0aGlzLl92aWRlb1NlbmRCaXRyYXRlLFxuICAgICAgICAgICAgdl9lbmNvZGVfY29zdDogdGhpcy5fZW5jb2RlRGVsYXksXG4gICAgICAgICAgICB2X2ZyYW1lX2VuY29kZTogdGhpcy5fc2VuZEZyYW1lc0VuY29kZWQsXG4gICAgICAgICAgICB2X2ZyYW1lX3NlbnQ6IHRoaXMuX3NlbmRGcmFtZXNTZW50LFxuICAgICAgICAgICAgdl9pbnB1dF9mcmFtZV9yYXRlOiB0aGlzLl90YXJnZXRGcmFtZXJhdGUsXG4gICAgICAgICAgICB2X25hY2tfcGxpOiB0aGlzLl9zZW5kTmFja0NvdW50LFxuICAgICAgICAgICAgdl9zZW5kX2ZyYW1lX3JhdGU6IHRoaXMuX3NlbmRGcmFtZVJhdGUsXG4gICAgICAgICAgICB2X3NlbmRfcGFja2V0czogdGhpcy5fdmlkZW9TZW5kUGFja2V0cyxcbiAgICAgICAgICAgIHZfc2VuZF9wbGk6IHRoaXMuX3NlbmRQbGlDb3VudCxcbiAgICAgICAgICAgIHZfdGFyZ2V0X2JpdHJhdGU6IHRoaXMuX3RhcmdldFNlbmRCaXRyYXRlXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZWN2RGF0YTogU2Vuc29yUmVjdlN0YXRzID0ge1xuICAgICAgICAgICAgaXNfc2VuZDogMCxcbiAgICAgICAgICAgIGFfcmVjdl9iaXRyYXRlOiB0aGlzLl9hdWRpb1JlY2VpdmVCaXRyYXRlLFxuICAgICAgICAgICAgYV9yZWN2X3BhY2tldHM6IHRoaXMuX2F1ZGlvUmVjZWl2ZVBhY2tldHMsXG4gICAgICAgICAgICBhX2xvc3RfcGFja2V0czogdGhpcy5fYXVkaW9SZWNlaXZlUGFja2V0c0xvc3QsXG4gICAgICAgICAgICB2X3JlY3ZfYml0cmF0ZTogdGhpcy5fdmlkZW9SZWNlaXZlQml0cmF0ZSxcbiAgICAgICAgICAgIHZfZGVjb2RlX2Nvc3Q6IHRoaXMuX3RvdGFsRGVjb2RlVGltZSxcbiAgICAgICAgICAgIHZfbG9zdF9wYWNrZXRzOiB0aGlzLl92aWRlb1JlY2VpdmVQYWNrZXRzTG9zdCxcbiAgICAgICAgICAgIHZfcmVjdl9maXJzOiB0aGlzLl9maXJDb3VudCxcbiAgICAgICAgICAgIHZfcmVjdl9mcmFtZV9yYXRlOiB0aGlzLl9yZWNlaXZlRnJhbWVSYXRlLFxuICAgICAgICAgICAgdl9yZWN2X25hY2s6IHRoaXMuX3JlY3ZOYWNrQ291bnQsXG4gICAgICAgICAgICB2X3JlY3ZfcGxpczogdGhpcy5fcmVjdlBsaUNvdW50XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fZGlyZWN0aW9uID09PSAnc2VuZCcpIHtcbiAgICAgICAgICAgIHJldHVybiBzZW5kRGF0YTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiByZWN2RGF0YTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qXG4gICAgKiDnlLHkuo7msLTmmbbnkIPmlbDmja7nsbvlnovovazmjaLpl67popjvvIznm67liY3msLTmmbbnkINydHTjgIFlbmNvZGVDb3N044CBZGVjb2RlQ29zdOWNleS9jeWdh+S9v+eUqG1zXG4gICAgKi9cbiAgICBwdWJsaWMgZ2V0Q3J5c3RhbGJhbGxTdGF0cygpOiBDcnlzdGFsYmFsbFNlbmRTdGF0cyB8IENyeXN0YWxiYWxsUmVjdlN0YXRzIHtcbiAgICAgICAgdGhpcy5fY2FsY3VsYXRlVG90YWxJbmRleCgpO1xuICAgICAgICBsZXQgcmVzdWx0OiBhbnkgPSB7fTtcbiAgICAgICAgaWYgKHRoaXMuX2RpcmVjdGlvbiA9PT0gJ3NlbmQnKSB7XG4gICAgICAgICAgICBjb25zdCBlbmNvZGVDb3N0ID0gdGhpcy5fZW5jb2RlRGVsYXkgPyB0aGlzLl9lbmNvZGVEZWxheSAqIDEwMDAgOiAwO1xuICAgICAgICAgICAgY29uc3Qgc2VuZERhdGE6IENyeXN0YWxiYWxsU2VuZFN0YXRzID0ge1xuICAgICAgICAgICAgICAgIFZTZW5kQml0cmF0ZTE6IHRoaXMuX3ZpZGVvU2VuZEJpdHJhdGUsIOOAgOOAgOOAgOOAgOOAgC8vIOinhumikeWPkemAgeeggeeOh1xuICAgICAgICAgICAgICAgIEFTZW5kQml0cmF0ZTogdGhpcy5fYXVkaW9TZW5kQml0cmF0ZSwgICAgICAgICAgLy8g6Z+z6aKR5Y+R6YCB56CB546HXG4gICAgICAgICAgICAgICAgU2VuZEJhbmR3aWR0aDogdGhpcy5fc2VuZEJhbmR3aWR0aCzjgIDjgIDjgIDjgIAgLy8g5Y+R6YCB5pyJ5pWI5bim5a69XG4gICAgICAgICAgICAgICAgU2VuZFJUVDogdGhpcy5fY3VycmVudFJvdW5kVHJpcFRpbWUgKiAxMDAwLOOAgOOAgOOAgOOAgOOAgOOAgOOAgOOAgOOAgC8vIOWPkemAgXJ0dFxuICAgICAgICAgICAgICAgIEVuY29kZUNvc3Q6IGVuY29kZUNvc3QsICAgICAgICAgICAgLy8g6KeG6aKR57yW56CB6ICX5pe2XG4gICAgICAgICAgICAgICAgVkZyYW1lUmF0ZTE6IHRoaXMuX3NlbmRGcmFtZVJhdGUsIOOAgOOAgOOAgOOAgOOAgOOAgC8vIOinhumikUFkYXB05ZCO5bin546HXG4gICAgICAgICAgICAgICAgVkZyYW1lUmF0ZTI6IHRoaXMuX3RhcmdldEZyYW1lcmF0ZSwg44CA44CA44CA44CA44CA44CALy8g6KeG6aKR6L6T5YWl5bin546HXG4gICAgICAgICAgICAgICAgVlNlbmRGcmFtZVJhdGUxOiB0aGlzLl9zZW5kRnJhbWVSYXRlLOOAgOOAgOOAgOOAgC8vIOinhumikeWPkemAgeW4p+eOh1xuICAgICAgICAgICAgICAgIFZTZW5kTG9zdFBlcmNlbnQ6IHRoaXMuX3ZpZGVvUGFja2V0TG9zc1JhdGUsICAgICAgLy8g6KeG6aKR5Y+R6YCB5Lii5YyF546HXG4gICAgICAgICAgICAgICAgQVNlbmRMb3N0UGVyY2VudDogdGhpcy5fYXVkaW9QYWNrZXRMb3NzUmF0ZSzjgIDjgIDjgIAgLy8g6Z+z6aKR5Y+R6YCB5Lii5YyF546HXG4gICAgICAgICAgICAgICAgbmFja19yZWNlaXZlX3RpbWVzOiB0aGlzLl9zZW5kTmFja0NvdW50LCAgICAvLyBuYWNr5o6l5pS25qyh5pWwXG4gICAgICAgICAgICAgICAgcGxpX3JlY2VpdmVfdGltZXM6IHRoaXMuX3NlbmRQbGlDb3VudCwgICAgIC8vIHBsaeaOpeaUtuasoeaVsFxuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgdHlwZSBLUyA9IGtleW9mIHR5cGVvZiBzZW5kRGF0YTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBpbiBzZW5kRGF0YSkge1xuICAgICAgICAgICAgICAgIGlmIChzZW5kRGF0YS5oYXNPd25Qcm9wZXJ0eShpdGVtKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VuZERhdGFbaXRlbSBhcyBLU10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtpdGVtXSA9IE1hdGgucm91bmQoc2VuZERhdGFbaXRlbSBhcyBLU10gYXMgbnVtYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9kaXJlY3Rpb24gPT09ICdyZWN2Jykge1xuICAgICAgICAgICAgY29uc3QgcmVjdkRhdGE6IENyeXN0YWxiYWxsUmVjdlN0YXRzID0ge1xuICAgICAgICAgICAgICAgIFZSZWN2Qml0cmF0ZTogdGhpcy5fdmlkZW9SZWNlaXZlQml0cmF0ZSwgICAgICAgICAgLy8g6KeG6aKR5o6l5pS256CB546HXG4gICAgICAgICAgICAgICAgQVJlY3ZCaXRyYXRlOiB0aGlzLl9hdWRpb1JlY2VpdmVCaXRyYXRlLCAgICAgICAgICAvLyDpn7PpopHmjqXmlLbnoIHnjodcbiAgICAgICAgICAgICAgICBSZWN2UlRUOiB0aGlzLl9jdXJyZW50Um91bmRUcmlwVGltZSAqIDEwMDAsICAgLy8g5o6l5pS2cnR0IOWboOS4juWQjuWPsOaVsOaNruexu+Wei+S4jeWQjCDmianlpKfkuInlgI3lrZjlgqhcbiAgICAgICAgICAgICAgICBEZWNvZGVDb3N0OiB0aGlzLl90b3RhbERlY29kZVRpbWUgKiAxMDAwLCAgICAgICAgICAgIC8vIOinhumikeino+eggeiAl+aXtiDlm6DkuI7lkI7lj7DmlbDmja7nsbvlnovkuI3lkIwg5omp5aSn5LiJ5YCN5a2Y5YKoXG4gICAgICAgICAgICAgICAgVkZyYW1lUmF0ZTogdGhpcy5fcmVjZWl2ZUZyYW1lUmF0ZSwgICAgICAgICAgICAvLyDop4bpopHmjqXmlLbluKfnjodcbiAgICAgICAgICAgICAgICBWUmVjdkxvc3RQZXJjZW50OiB0aGlzLl92aWRlb1JlY2VpdmVQYWNrZXRzTG9zdCwgICAgLy8g6KeG6aKR5o6l5pS25Lii5YyF546HXG4gICAgICAgICAgICAgICAgQVJlY3ZMb3N0UGVyY2VudDogdGhpcy5fYXVkaW9SZWNlaXZlUGFja2V0c0xvc3RcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIHR5cGUgS1IgPSBrZXlvZiB0eXBlb2YgcmVjdkRhdGE7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gaW4gcmVjdkRhdGEpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVjdkRhdGEuaGFzT3duUHJvcGVydHkoaXRlbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlY3ZEYXRhW2l0ZW0gYXMgS1JdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbaXRlbV0gPSBNYXRoLnJvdW5kKHJlY3ZEYXRhW2l0ZW0gYXMgS1JdIGFzIG51bWJlcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHB1YmxpYyBjb2xsZWN0UlRDU3RhdHNSZXBvcnQoc3RhdHNEYXRhOiBSVENTdGF0c1JlcG9ydCk6IGFueSB7XG4gICAgICAgIHRoaXMuX2FuYWx5c2lzUlRDU3RhdHNSZXBvcnQoc3RhdHNEYXRhKTtcbiAgICB9XG5cbiAgICAvLyBSVENTdGF0c1JlcG9ydFxuICAgIHByaXZhdGUgX2FuYWx5c2lzUlRDU3RhdHNSZXBvcnQoY3VycmVudFJUQ1N0YXRzUmVwb3J0OiBSVENTdGF0c1JlcG9ydCk6IGFueSB7XG4gICAgICAgIGN1cnJlbnRSVENTdGF0c1JlcG9ydC5mb3JFYWNoKChyZXBvcnQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3JlcG9ydCBpdGVtOjo6JywgcmVwb3J0KTtcbiAgICAgICAgICAgIGlmICghdGhpcy5fc3RhcnRUaW1lKSB7IHRoaXMuX3N0YXJ0VGltZSA9IHJlcG9ydC50aW1lc3RhbXA7IH1cbiAgICAgICAgICAgIHRoaXMuX2VuZFRpbWUgPSByZXBvcnQudGltZXN0YW1wO1xuICAgICAgICAgICAgdGhpcy5faW50ZXJ2YWwgPSAodGhpcy5fZW5kVGltZSAtIHRoaXMuX3N0YXJ0VGltZSkgKyAxMDAwO1xuICAgICAgICAgICAgY29uc3QgaWQgPSByZXBvcnQuaWQ7XG4gICAgICAgICAgICBjb25zdCB0eXBlID0gcmVwb3J0LnR5cGU7XG4gICAgICAgICAgICBsZXQga2luZCA9IHJlcG9ydC5raW5kIHx8IHJlcG9ydC5tZWRpYVR5cGU7XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2NvZGVjJykge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fbWFwQ29kZWNJZC5zZXQoaWQsIHJlcG9ydC5taW1lVHlwZSk7XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2NhbmRpZGF0ZS1wYWlyJykge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudFJvdW5kVHJpcFRpbWUgID0gcmVwb3J0LmN1cnJlbnRSb3VuZFRyaXBUaW1lO1xuICAgICAgICAgICAgICAgIHRoaXMuX3NlbmRCYW5kd2lkdGggICAgICAgICAgICAgPSByZXBvcnQuYXZhaWxhYmxlT3V0Z29pbmdCaXRyYXRlO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICd0cmFjaycpIHtcblxuICAgICAgICAgICAgICAgIGlmIChraW5kID09PSAnYXVkaW8nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2F1ZGlvSml0dGVyRGVsYXkgPSByZXBvcnQuaml0dGVyQnVmZmVyRGVsYXkgLyByZXBvcnQuaml0dGVyQnVmZmVyRW1pdHRlZENvdW50O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoa2luZCA9PT0gJ3ZpZGVvJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl92aWRlb0ppdHRlckRlbGF5ID0gcmVwb3J0LmppdHRlckJ1ZmZlckRlbGF5IC8gcmVwb3J0LmppdHRlckJ1ZmZlckVtaXR0ZWRDb3VudDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ21lZGlhLXNvdXJjZScpIHtcblxuICAgICAgICAgICAgICAgIGlmIChraW5kID09PSAnYXVkaW8nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlbmRWb2x1bWVMZXZlbCA9IHJlcG9ydC5hdWRpb0xldmVsOyAgLy8gKjEwMDBcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGtpbmQgPT09ICd2aWRlbycpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FwdHVyZUZyYW1lUmF0ZSAgICAgICAgICA9IHJlcG9ydC5mcmFtZXNQZXJTZWNvbmQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYXB0dXJlUmVzb2x1dGlvbldpZHRoICAgID0gcmVwb3J0LndpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FwdHVyZVJlc29sdXRpb25IZWlnaHQgICA9IHJlcG9ydC5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdyZW1vdGUtaW5ib3VuZC1ydHAnKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoa2luZCA9PT0gJ2F1ZGlvJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hbmRpb1NlbmRQYWNrZXRzTG9zdCA9IHJlcG9ydC5wYWNrZXRzTG9zdDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGtpbmQgPT09ICd2aWRlbycpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmlkZW9TZW5kUGFja2V0c0xvc3QgPSByZXBvcnQucGFja2V0c0xvc3Q7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdvdXRib3VuZC1ydHAnKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoa2luZCA9PT0gJ2F1ZGlvJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hdWRpb0NvZGVjSWQgICAgICAgICAgPSByZXBvcnQuY29kZWNJZDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXVkaW9TZW5kQml0cmF0ZSAgICAgID0gdGhpcy5fY2FsY3VsYXRlS0JpdHNQZXJTZWNvbmQocmVwb3J0LmJ5dGVzU2VudCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2F1ZGlvU2VuZEJ5dGVzICAgICAgICA9IHJlcG9ydC5ieXRlc1NlbnQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2F1ZGlvU2VuZFBhY2tldHMgICAgICA9IHJlcG9ydC5wYWNrZXRzU2VudDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGtpbmQgPT09ICd2aWRlbycpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmlkZW9Db2RlY0lkICAgICAgICAgID0gcmVwb3J0LmNvZGVjSWQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VuY29kZURlbGF5ICAgICAgICAgICA9IHJlcG9ydC50b3RhbEVuY29kZVRpbWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZpZGVvU2VuZEJpdHJhdGUgICAgICA9IHRoaXMuX2NhbGN1bGF0ZUtCaXRzUGVyU2Vjb25kKHJlcG9ydC5ieXRlc1NlbnQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl92aWRlb1NlbmRCeXRlcyAgICAgICAgPSByZXBvcnQuYnl0ZXNTZW50O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZW5kRnJhbWVSYXRlICAgICAgICAgPSByZXBvcnQuZnJhbWVzUGVyU2Vjb25kO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl92aWRlb1NlbmRQYWNrZXRzICAgICAgPSByZXBvcnQucGFja2V0c1NlbnQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlbmRSZXNvbHV0aW9uSGVpZ2h0ICA9IHJlcG9ydC5mcmFtZUhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VuZFJlc29sdXRpb25XaWR0aCAgID0gcmVwb3J0LmZyYW1lV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlbmRGcmFtZXNFbmNvZGVkICAgICA9IHJlcG9ydC5mcmFtZXNFbmNvZGVkO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZW5kRnJhbWVzU2VudCAgICAgICAgPSByZXBvcnQuZnJhbWVzU2VudDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VuZE5hY2tDb3VudCAgICAgICAgID0gcmVwb3J0Lm5hY2tDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VuZFBsaUNvdW50ICAgICAgICAgID0gcmVwb3J0LnBsaUNvdW50O1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVwb3J0LmZyYW1lc1BlclNlY29uZCA8PSBzdGFuZGFyZC5mcmVlemVGcmFtZVJhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlbmRDb3VudEZyZWV6ZVRpbWVzICArPSAxOyBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnaW5ib3VuZC1ydHAnKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoa2luZCA9PT0gJ2F1ZGlvJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hdWRpb0NvZGVjSWQgICAgICAgICAgICAgID0gcmVwb3J0LmNvZGVjSWQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2F1ZGlvUHVibGlzaER1cmF0aW9uICAgICAgPSByZXBvcnQudG90YWxTYW1wbGVzRHVyYXRpb247XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2F1ZGlvUmVjZWl2ZUJpdHJhdGUgICAgICAgPSB0aGlzLl9jYWxjdWxhdGVLQml0c1BlclNlY29uZChyZXBvcnQuYnl0ZXNSZWNlaXZlZCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2F1ZGlvUmVjZWl2ZUJ5dGVzICAgICAgICAgPSByZXBvcnQuYnl0ZXNSZWNlaXZlZDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVjZWl2ZUxldmVsICAgICAgICAgICAgICA9IHJlcG9ydC5hdWRpb0xldmVsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hdWRpb1JlY2VpdmVQYWNrZXRzICAgICAgID0gcmVwb3J0LnBhY2tldHNSZWNlaXZlZDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXVkaW9SZWNlaXZlUGFja2V0c0xvc3QgICA9IHJlcG9ydC5wYWNrZXRzTG9zdDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXVkaW9QYWNrZXRMb3NzUmF0ZSAgICAgICA9IHRoaXMuX2NhbGN1YXRlUGFja2V0c0xvc3RSYXRpbyhyZXBvcnQucGFja2V0c0xvc3QsIHJlcG9ydC5wYWNrZXRzUmVjZWl2ZWQpO1xuICAgICAgICAgICAgICAgICAgICAvLyDlvZPliY3kuKLljIXnjoflpKfkuo40JeeahOWNs+S4uuWNoemhv1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fYXVkaW9SZWNlaXZlUGFja2V0c0xvc3QgLyAodGhpcy5fYXVkaW9SZWNlaXZlUGFja2V0cyArIHRoaXMuX2F1ZGlvUmVjZWl2ZVBhY2tldHNMb3N0KSA+PSBzdGFuZGFyZC5hdWRpb0ZyZWV6ZVJhdGUpICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl90b3RhbEF1ZGlvRnJlZXplVGltZXMgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl90b3RhbEF1ZGlvUmVjdlRpbWVzICs9IDE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChraW5kID09PSAndmlkZW8nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZpZGVvQ29kZWNJZCAgICAgICAgICAgICAgPSByZXBvcnQuY29kZWNJZDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmlkZW9SZWNlaXZlQml0cmF0ZSAgICAgICA9IHRoaXMuX2NhbGN1bGF0ZUtCaXRzUGVyU2Vjb25kKHJlcG9ydC5ieXRlc1JlY2VpdmVkKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmlkZW9SZWNlaXZlQnl0ZXMgICAgICAgICA9IHJlcG9ydC5ieXRlc1JlY2VpdmVkO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZWNlaXZlRnJhbWVSYXRlICAgICAgICAgID0gcmVwb3J0LmZyYW1lc1BlclNlY29uZCB8fCAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl92aWRlb1JlY2VpdmVQYWNrZXRzICAgICAgID0gcmVwb3J0LnBhY2tldHNSZWNlaXZlZDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmlkZW9SZWNlaXZlUGFja2V0c0xvc3QgICA9IHJlcG9ydC5wYWNrZXRzTG9zdDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVjZWl2ZVJlc29sdXRpb25IZWlnaHQgICA9IHJlcG9ydC5mcmFtZUhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVjZWl2ZVJlc29sdXRpb25XaWR0aCAgICA9IHJlcG9ydC5mcmFtZVdpZHRoO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl92aWRlb1BhY2tldExvc3NSYXRlICAgICAgID0gdGhpcy5fY2FsY3VhdGVQYWNrZXRzTG9zdFJhdGlvKHJlcG9ydC5wYWNrZXRzTG9zdCwgcmVwb3J0LnBhY2tldHNSZWNlaXZlZCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RvdGFsUmVuZGVyRnJhbWUgICAgICAgICAgPSByZXBvcnQuZnJhbWVzRGVjb2RlZCAtIHJlcG9ydC5mcmFtZXNEcm9wcGVkO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90b3RhbERlY29kZUZyYW1lICAgICAgICAgID0gcmVwb3J0LmZyYW1lc0RlY29kZWQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RvdGFsUmVjdkZyYW1lUmF0ZSAgICAgICAgKz0gcmVwb3J0LmZyYW1lc1BlclNlY29uZCB8fCAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90b3RhbERlY29kZVRpbWUgICAgICAgICAgICA9IHJlcG9ydC50b3RhbERlY29kZVRpbWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlY3ZOYWNrQ291bnQgICAgICAgICAgICAgID0gcmVwb3J0Lm5hY2tDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVjdlBsaUNvdW50ICAgICAgICAgICAgICAgPSByZXBvcnQucGxpQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXBvcnQuZnJhbWVzUGVyU2Vjb25kIDw9IHN0YW5kYXJkLmZyZWV6ZUZyYW1lUmF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVjdkNvdW50RnJlZXplVGltZXMgICs9IDE7IFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdG90YWxmcmVlemVGcmFtZSAgICAgICs9IHJlcG9ydC5mcmFtZXNQZXJTZWNvbmQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIGNvbnN0IGF1ZGlvTWltZVR5cGUgICAgICAgICA9IHRoaXMuX21hcENvZGVjSWQuZ2V0KHRoaXMuX2F1ZGlvQ29kZWNJZCk7XG4gICAgICAgIGNvbnN0IHZpZGVvTWltZVR5cGUgICAgICAgICA9IHRoaXMuX21hcENvZGVjSWQuZ2V0KHRoaXMuX3ZpZGVvQ29kZWNJZCk7XG4gICAgICAgIGlmICh0aGlzLl9kaXJlY3Rpb24gPT09ICdzZW5kJykge1xuICAgICAgICAgICAgdGhpcy5fYXVkaW9TZW5kQ29kZWNUeXBlICAgID0gYXVkaW9NaW1lVHlwZT8uc3BsaXQoJy8nKVsxXSBhcyBhbnk7XG4gICAgICAgICAgICB0aGlzLl92aWRlb1NlbmRDb2RlY1R5cGUgICAgPSB2aWRlb01pbWVUeXBlPy5zcGxpdCgnLycpWzFdIGFzIGFueTtcbiAgICAgICAgICAgIFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fYXVkaW9SZWN2Q29kZWNUeXBlICAgID0gYXVkaW9NaW1lVHlwZT8uc3BsaXQoJy8nKVsxXSBhcyBhbnk7XG4gICAgICAgICAgICB0aGlzLl92aWRlb1JlY3ZDb2RlY1R5cGUgICAgPSB2aWRlb01pbWVUeXBlPy5zcGxpdCgnLycpWzFdIGFzIGFueTtcbiAgICAgICAgICAgIHRoaXMuX2F1ZGlvVHJhbnNwb3J0RGVsYXkgICA9IHRoaXMuX2N1cnJlbnRSb3VuZFRyaXBUaW1lIC8gMjsgLy9ydHQvMlxuICAgICAgICAgICAgdGhpcy5fdmlkZW9UcmFuc3BvcnREZWxheSAgID0gdGhpcy5fY3VycmVudFJvdW5kVHJpcFRpbWUgLyAyO1xuICAgICAgICAgICAgdGhpcy5fYXVkaW9SZWNlaXZlRGVsYXkgICAgID0gKHRoaXMuX2F1ZGlvVHJhbnNwb3J0RGVsYXkgKyB0aGlzLl9hdWRpb0ppdHRlckRlbGF5KTsgLy8gbXMgIC8vIHJ0dC8yICsgaml0dGVyXG4gICAgICAgICAgICB0aGlzLl92aWRlb1JlY2VpdmVEZWxheSAgICAgPSAodGhpcy5fdmlkZW9UcmFuc3BvcnREZWxheSArIHRoaXMuX3ZpZGVvSml0dGVyRGVsYXkpOyAvLyBtc1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfY2FsY3VsYXRlVG90YWxJbmRleCgpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuX2RpcmVjdGlvbiA9PT0gJ3NlbmQnKSB7XG4gICAgICAgICAgICB0aGlzLl9zZW5kVG90YWxEdXJhdGlvbiAgICAgPSAodGhpcy5fZW5kVGltZSAtIHRoaXMuX3N0YXJ0VGltZSkgKiAwLjAwMTtcbiAgICAgICAgICAgIHRoaXMuX3NlbmRUb3RhbEZyZWV6ZVRpbWUgICA9IHRoaXMuX3NlbmRDb3VudEZyZWV6ZVRpbWVzICogdGhpcy5faW50ZXJ2YWwgLyAxMDAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fcmVjdlZpZGVvVG90YWxEdXJhdGlvbiAgICA9ICh0aGlzLl9lbmRUaW1lIC0gdGhpcy5fc3RhcnRUaW1lKSAqIDAuMDAxO1xuICAgICAgICAgICAgdGhpcy5fYXVkaW9GcmVlemVSYXRlICAgICAgICAgICA9IHRoaXMuX3RvdGFsQXVkaW9GcmVlemVUaW1lcyAvIHRoaXMuX3RvdGFsQXVkaW9SZWN2VGltZXM7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJGcmFtZVJhdGUgICAgICAgICAgID0gdGhpcy5fdG90YWxSZW5kZXJGcmFtZSAvICh0aGlzLl9pbnRlcnZhbCAqIDAuMDAxKTtcbiAgICAgICAgICAgIHRoaXMuX2RlY29kZUZyYW1lUmF0ZSAgICAgICAgICAgPSB0aGlzLl90b3RhbERlY29kZUZyYW1lIC8gKHRoaXMuX2ludGVydmFsICogMC4wMDEpOyAvL2ZyYW1lc0RlY29kZWRcbiAgICAgICAgICAgIHRoaXMuX3JlY3ZBdWRpb1RvdGFsRnJlZXplVGltZSAgPSB0aGlzLl90b3RhbEF1ZGlvRnJlZXplVGltZXMgKiB0aGlzLl9pbnRlcnZhbCAgKiAwLjAwMTtcbiAgICAgICAgICAgIHRoaXMuX3JlY3ZWaWRlb1RvdGFsRnJlZXplVGltZSAgPSB0aGlzLl9yZWN2Q291bnRGcmVlemVUaW1lcyAqIHRoaXMuX2ludGVydmFsICAqIDAuMDAxO1xuICAgICAgICAgICAgdGhpcy5fdmlkZW9GcmVlemVSYXRlICAgICAgICAgICA9IHRoaXMuX3RvdGFsZnJlZXplRnJhbWUgLyB0aGlzLl90b3RhbFJlY3ZGcmFtZVJhdGU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF9jYWxjdWxhdGVLQml0c1BlclNlY29uZChieXRlczogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgICAgLy8gKGJ5dGUgKiA4IC8gMTAwMCApIC8gKGludGVydmFsKG1zKSAvIDEwMDApXG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKChieXRlcyAqIDAuMDA4KSAvICh0aGlzLl9pbnRlcnZhbCAqIDAuMDAxKSk7IC8vIOWNleS9je+8mmticC9zXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfY2FsY3VhdGVQYWNrZXRzTG9zdFJhdGlvKHBhY2tldHNMb3N0OiBudW1iZXIsIHBhY2tldHNSZWNlaXZlZDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgICAgaWYgKHBhY2tldHNMb3N0ID09PSAwICYmIHBhY2tldHNSZWNlaXZlZCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhY2tldHNMb3N0IC8gKHBhY2tldHNMb3N0ICsgcGFja2V0c1JlY2VpdmVkKTsgLy8g6IyD5Zu077yaWzAtMV1cbiAgICB9XG5cbiAgICBwcml2YXRlIF9jYWxjdWxhdGVQYWNrZXRzUGVyU2Vjb25kKHBhY2tldHM6IG51bWJlciwgaW50ZXJ2YWw6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIHJldHVybiAocGFja2V0cykgLyAoaW50ZXJ2YWwgKiAwLjAwMSk7IC8vIOWNleS9je+8mnBhY2tldC9zXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfY2FsY3VhdGVGcmFtZXNQZXJTZWNvbmQoZnJhbWVzOiBudW1iZXIsIGludGVydmFsOiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCgoZnJhbWVzKSAvIChpbnRlcnZhbCAqIDAuMDAxKSk7IC8vIOWNleS9je+8mmZyYW1lL3NcbiAgICB9XG59XG4iLCIvKipcbiAqIOaXpeW/l+mSiOWvueS4jeWQjOeOr+Wig+aJk+WNsOS4jeWQjOagvOW8jyBkZXY6IOS4jeWBmuagvOW8j+i9rOaNojsgdGVzdCDlkowgcHJvZCDpnIDopoHlgZrmoLzlvI/ovazmjaJcbiAqIOaXpeW/l+etiee6pyAwOiBkZWJ1ZyAxOiBpbmZvIDI6IHdhcm5pbmcgMzogZXJyb3IgNDogbm9uZVxuICog5LiK5oql5pel5b+X5qC85byPIHRoaXMuX2xvZ2dlci5yZXBvcnQoa2V5PHN0cmluZz4sIHZhbHVlPHN0cmluZ3xvYmplY3R8YXJyYXk+KVxuICog5piv5ZCm5byA5aeL5LiK5Lyg5pel5b+XOiBlbmFibGVMb2dVcGxvYWQgLyBkaXNhYmxlTG9nVXBsb2FkXG4gKiBAY2xhc3MgTG9nXG4gKi9cbmltcG9ydCB7IEVOViB9IGZyb20gJy4uLy4uLy4uL2NvbmZpZyc7XG5pbXBvcnQgeyB1cGxvYWRMb2cgfSBmcm9tICcuLi9zZXJ2aWNlL3NlcnZpY2VBUEknO1xuaW1wb3J0IHsgaXNNYXAsIGlzT2JqZWN0LCBpc0FycmF5IH0gZnJvbSAnLi4vdXRpbHMvdXRpbHMnO1xuXG5leHBvcnQgdHlwZSBpbml0cGFyYW1zID0ge1xuICAgIGFwcElkOiBzdHJpbmc7XG4gICAgdXNlcklkOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgY2xhc3MgTG9nIHtcbiAgICBwcml2YXRlIF9sb2dMZXZlbCA9IDA7XG4gICAgcHJpdmF0ZSBfTE9HTEVWRUxBUlIgPSBbJ2RlYnVnJywgJ2luZm8nLCAnd2FybicsICdlcnJvcicsICdyZXBvcnQnXTtcbiAgICBwcml2YXRlIF9hcHBJZDogc3RyaW5nID0gJyc7XG4gICAgcHJpdmF0ZSBfdXNlcklkOiBzdHJpbmcgPSAnJztcbiAgICBwcml2YXRlIF91cGxvYWRNc2dBcnI6IHN0cmluZ1tdID0gW107XG4gICAgcHJpdmF0ZSBfcmVwb3J0VGltZTogbnVtYmVyID0gNTAwMDtcbiAgICBwcml2YXRlIF9yZXBvcnRIYW5kbGVyOiBhbnkgPSAwO1xuICAgIHB1YmxpYyBkZWJ1ZzogYW55ID0gbnVsbDtcblx0cHVibGljIGluZm86IGFueSA9IG51bGw7XG5cdHB1YmxpYyB3YXJuOiBhbnkgPSBudWxsO1xuICAgIHB1YmxpYyBlcnJvcjogYW55ID0gbnVsbDtcbiAgICBwdWJsaWMgcmVwb3J0OiBhbnkgPSBudWxsO1xuICAgIFxuXHRjb25zdHJ1Y3RvcihvcHRpb25zOiBpbml0cGFyYW1zKSB7XG4gICAgICAgIHRoaXMuX2FwcElkID0gb3B0aW9ucy5hcHBJZDtcbiAgICAgICAgdGhpcy5fdXNlcklkID0gb3B0aW9ucy51c2VySWQ7XG5cdFx0dGhpcy5kZWJ1ZyAgPSB0aGlzLnByb3h5Q29uc29sZS5iaW5kKHRoaXMsICdkZWJ1ZycpO1xuXHRcdHRoaXMuaW5mbyAgID0gdGhpcy5wcm94eUNvbnNvbGUuYmluZCh0aGlzLCAnaW5mbycpO1xuXHRcdHRoaXMud2FybiAgID0gdGhpcy5wcm94eUNvbnNvbGUuYmluZCh0aGlzLCAnd2FybicpO1xuICAgICAgICB0aGlzLmVycm9yICA9IHRoaXMucHJveHlDb25zb2xlLmJpbmQodGhpcywgJ2Vycm9yJyk7XG4gICAgICAgIHRoaXMucmVwb3J0ID0gdGhpcy5wcm94eUNvbnNvbGUuYmluZCh0aGlzLCAncmVwb3J0Jyk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldExvZ0xldmVsKGxldmVsOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fbG9nTGV2ZWwgPSBsZXZlbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZW5hYmxlTG9nVXBsb2FkKCkge1xuICAgICAgICAvLyDmtYvor5XpmLbmrrVcbiAgICAgICAgLy8gaWYgKEVOViAhPSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0SW50ZXJ2YWxVcGxvYWRMb2coKTtcbiAgICAgICAgLy8gfVxuICAgIH1cblxuICAgIHB1YmxpYyBkaXNhYmxlTG9nVXBsb2FkKCkge1xuICAgICAgICBpZiAodGhpcy5fcmVwb3J0SGFuZGxlcikge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3JlcG9ydEhhbmRsZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gcHJpdmF0ZSByZWN1cnNpdmVBcmdzKGFyZ3M6IGFueSkge1xuXHQvLyBcdGxldCBjb250ZW50OiBhbnkgPSBbXTtcblx0Ly8gXHRpZiAodHlwZW9mIGFyZ3MgPT0gJ3N0cmluZycpIHtcblx0Ly8gXHRcdGNvbnRlbnQucHVzaChhcmdzKTtcblx0Ly8gXHR9IGVsc2UgaWYgKGlzTWFwKGFyZ3MpKSB7XG5cdC8vIFx0XHRjb250ZW50LnB1c2goWy4uLmFyZ3NdKTtcblx0Ly8gXHR9IGVsc2UgaWYgKGlzQXJyYXkoYXJncykpIHtcblx0Ly8gXHRcdGZvciAoY29uc3QgaXRlbSBvZiBhcmdzKSB7XG5cdC8vIFx0XHRcdGlmICghaXNBcnJheShpdGVtKSAmJiB0eXBlb2YgaXRlbSA9PSAnb2JqZWN0Jykge1xuXHQvLyBcdFx0XHRcdGNvbnRlbnQucHVzaCh0aGlzLnJlY3Vyc2l2ZUFyZ3MoaXRlbSkpO1xuXHQvLyBcdFx0XHR9IGVsc2Uge1xuXHQvLyBcdFx0XHRcdGNvbnRlbnQucHVzaChpdGVtKTtcblx0Ly8gXHRcdFx0fVxuXHQvLyBcdFx0fVxuXHQvLyBcdH0gZWxzZSBpZiAodHlwZW9mIGFyZ3MgPT0gJ29iamVjdCcpIHtcblx0Ly8gXHRcdGZvciAoY29uc3QgcHJvcCBpbiBhcmdzKSB7XG5cdC8vIFx0XHRcdGlmIChhcmdzLmhhc093blByb3BlcnR5KHByb3ApKSB7XG5cdC8vIFx0XHRcdFx0aWYgKHR5cGVvZiBhcmdzW3Byb3BdID09ICdvYmplY3QnKSB7XG5cdC8vIFx0XHRcdFx0XHRjb250ZW50LnB1c2goYHske3Byb3B9OiAke3RoaXMucmVjdXJzaXZlQXJncyhhcmdzW3Byb3BdKX19YCk7XG5cdC8vIFx0XHRcdFx0fSBlbHNlIHtcblx0Ly8gXHRcdFx0XHRcdGNvbnRlbnQucHVzaChgeyR7cHJvcH06ICR7YXJnc1twcm9wXX19YCk7XG5cdC8vIFx0XHRcdFx0fVxuXHQvLyBcdFx0XHR9XG5cdC8vIFx0XHR9XG5cdC8vIFx0fVxuXHQvLyBcdHJldHVybiBjb250ZW50O1xuICAgIC8vIH1cblxuICAgIC8qXG4gICAgKiDpkojlr7nnibnlrprmoLzlvI/ovazmjaIgW3RpbWUsIHN0cmluZywgW3N0cmluZ3xhcnJheXxvYmplY3RdXVxuICAgICovXG4gICAgcHJpdmF0ZSBmb3JtYXRBcmdzKGFyZ3M6IGFueVtdLCB0eXBlPzogc3RyaW5nKSB7XG4gICAgICAgIGxldCBtc2dPYmo6IGFueSA9IHtcbiAgICAgICAgICAgIHRpbWU6IGFyZ3NbMF1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHR5cGVvZiBhcmdzWzFdICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdsYWNrIG9mIGtleXdvcmQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVwb3J0S2V5ID0gYXJnc1sxXTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGFyZ3NbMl07XG4gICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgbXNnT2JqW3JlcG9ydEtleV0gPSBkYXRhO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICBtc2dPYmpbcmVwb3J0S2V5XSA9IGRhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtc2dPYmoubXNnID0gcmVwb3J0S2V5O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAodHlwZSA9PSAncmVwb3J0Jykge1xuICAgICAgICAgICAgdGhpcy5fdXBsb2FkTXNnQXJyLnB1c2goSlNPTi5zdHJpbmdpZnkobXNnT2JqKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1zZ09iajtcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXJ0SW50ZXJ2YWxVcGxvYWRMb2coKSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCd1cGxvYWRMb2cgaW50ZXJ2YWwnKTtcbiAgICAgICAgaWYgKHRoaXMuX3VwbG9hZE1zZ0Fyci5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHVwbG9hZExvZyh7XG4gICAgICAgICAgICAgICAgYXBwSWQ6IHRoaXMuX2FwcElkLFxuICAgICAgICAgICAgICAgIHVzZXJJZDogdGhpcy5fdXNlcklkLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuX3VwbG9hZE1zZ0FyclxuICAgICAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3VwbG9hZE1zZ0FyciA9IFtdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncmVwb3J0IGxvZyBlcnJvci4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAocmVhc29uKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdyZXBvcnQgbG9nIGVycm9yLicpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcmVwb3J0SGFuZGxlciA9IHNldFRpbWVvdXQodGhpcy5zdGFydEludGVydmFsVXBsb2FkTG9nLmJpbmQodGhpcyksIHRoaXMuX3JlcG9ydFRpbWUpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcHJveHlDb25zb2xlKHR5cGU6IHN0cmluZykge1xuXHRcdGNvbnN0IGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgICAgICBhcmdzLnNoaWZ0KCk7XG4gICAgICAgIGFyZ3MudW5zaGlmdCh0aGlzLmRhdGVGb3JtYXQoKSk7XG4gICAgICAgIC8vIGRldiDnjq/looPkuI3lgZrovazkuYnvvIzlop7liqDlj6/or7vmgKdcbiAgICAgICAgaWYgKEVOViA9PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICAgICAgICB0aGlzLl9MT0dMRVZFTEFSUi5wdXNoKCdsb2cnKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcHJpbnRMb2dMZXZlbCA9IHRoaXMuX0xPR0xFVkVMQVJSLnNsaWNlKHRoaXMuX2xvZ0xldmVsKTtcbiAgICAgICAgaWYgKHRoaXMuX2xvZ0xldmVsID09IDQpIHsgXG4gICAgICAgICAgICBwcmludExvZ0xldmVsID0gWydyZXBvcnQnLCAnaW5mbyddO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcmludExvZ0xldmVsLmluZGV4T2YodHlwZSkgIT0gLTEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3JlcG9ydCc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybWF0QXJncyhhcmdzLCAncmVwb3J0Jyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2xvZyc6XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nLmFwcGx5KG51bGwsIFsnJywgLi4uYXJnc10pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdkZWJ1Zyc6XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuaW5mby5jYWxsKG51bGwsIEpTT04uc3RyaW5naWZ5KHRoaXMuZm9ybWF0QXJncyhhcmdzKSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdpbmZvJzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2xvZ0xldmVsID09IDQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybWF0QXJncyhhcmdzLCAncmVwb3J0Jyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmluZm8uY2FsbChudWxsLCBgJWMke0pTT04uc3RyaW5naWZ5KHRoaXMuZm9ybWF0QXJncyhhcmdzLCAncmVwb3J0JykpfWAsICdjb2xvcjogIzMxMTA3OCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3dhcm4nOlxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4uYXBwbHkobnVsbCwgWycnLCAuLi5hcmdzXSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvci5hcHBseShudWxsLCBbJycsIC4uLmFyZ3NdKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG5cdHByaXZhdGUgZGF0ZUZvcm1hdCgpIHtcblx0XHRjb25zdCBkYXRlID0gbmV3IERhdGUoKVxuXHRcdGNvbnN0IG8gPSB7XG5cdFx0XHRcInlcIjogZGF0ZS5nZXRGdWxsWWVhcigpLFxuXHRcdFx0XCJNXCI6IGRhdGUuZ2V0TW9udGgoKSArIDEsXG5cdFx0XHRcImRcIjogZGF0ZS5nZXREYXRlKCksXG5cdFx0XHRcImhcIjogZGF0ZS5nZXRIb3VycygpLFxuXHRcdFx0XCJtXCI6IGRhdGUuZ2V0TWludXRlcygpLFxuXHRcdFx0XCJzXCI6IGRhdGUuZ2V0U2Vjb25kcygpLFxuXHRcdFx0XCJTXCI6IGRhdGUuZ2V0TWlsbGlzZWNvbmRzKClcblx0XHR9O1xuXHRcdHJldHVybiBgJHtvLnl9LSR7by5NfS0ke28uZH0gJHtvLmh9OiR7by5tfToke28uc30uJHtvLlN9YDtcblx0fVxufSIsIlxuaW1wb3J0IHsgTG9nLCBpbml0cGFyYW1zIH0gZnJvbSAnLi9Mb2cnO1xuXG5leHBvcnQgbGV0IGxvZ2dlcjogYW55ID0ge307XG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVMb2dnZXJJbnN0YW5jZSAocGFyYW1zOiBpbml0cGFyYW1zKSB7XG5cdGNvbnN0IGluc3RhbmNlID0gbmV3IExvZyhwYXJhbXMpO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkobG9nZ2VyLCAnY29sbGVjdCcsIHtcblx0XHR2YWx1ZSA6IGluc3RhbmNlLFxuXHRcdHdyaXRhYmxlIDogZmFsc2UsXG5cdFx0ZW51bWVyYWJsZSA6IGZhbHNlLFxuXHRcdGNvbmZpZ3VyYWJsZSA6IHRydWVcblx0fSk7XG59IiwiaW1wb3J0IE1lZGlhRGV2aWNlQ2F0ZWdvcnkgZnJvbSBcIi4vTWVkaWFEZXZpY2VDYXRlZ29yeVwiO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi4vbG9nL2xvZ2dlcic7XG5cbmludGVyZmFjZSBjdXJyZW50U3RyZWFte1xuICAgIFtwcm9wTmFtZTogc3RyaW5nXTogTWVkaWFTdHJlYW1cbn1cblxuaW50ZXJmYWNlIE1lZGlhRGV2aWNlQ29udHJvbGxlck9wdGlvbnMge1xuXHR1c2VySWQ6IHN0cmluZ1xufVxuXG5lbnVtIE1lZGlhRGV2aWNlS2luZCB7XG4gICAgTUlDUk9QSE9ORSA9IFwiYXVkaW9pbnB1dFwiLFxuICAgIFNQRUFLRVIgPSBcImF1ZGlvb3V0cHV0XCIsXG4gICAgQ0FNRVJBID0gXCJ2aWRlb2lucHV0XCIsXG59XG5cbmNsYXNzIE1lZGlhQ29udHJvbGxlciB7XG4gICAgcHJpdmF0ZSBfY3VycmVudFN0cmVhbTogY3VycmVudFN0cmVhbSA9IHt9O1xuICAgIHByaXZhdGUgX3VzZXJJZDogc3RyaW5nID0gJyc7XG4gICAgcHJpdmF0ZSBfbWFwU3RyZWFtSWRNZWRpYXN0cmVhbTogTWFwPHN0cmluZywgTWVkaWFTdHJlYW0+ID0gbmV3IE1hcCgpO1xuICAgIHByb3RlY3RlZCBfbG9nZ2VyOiBhbnkgPSBudWxsO1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogTWVkaWFEZXZpY2VDb250cm9sbGVyT3B0aW9ucykge1xuICAgICAgICB0aGlzLl91c2VySWQgICA9IG9wdGlvbnMudXNlcklkO1xuICAgICAgICB0aGlzLl9sb2dnZXIgPSBsb2dnZXIuY29sbGVjdDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGFzeW5jIGVudW1lcmF0ZURldmljZXMob25TdWNjZXNzPzogKGRldmljZUluZm86IE1lZGlhRGV2aWNlQ2F0ZWdvcnkpID0+IHZvaWQsIG9uRmFpbGVkPzogKHJlYXNvbj86IGFueSkgPT4gdm9pZCk6IFByb21pc2U8TWVkaWFEZXZpY2VDYXRlZ29yeT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZGV2aWNlczogTWVkaWFEZXZpY2VJbmZvW10gPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMoKTtcbiAgICAgICAgICAgIGNvbnN0IG1pY3JvcGhvbmVzOiBNZWRpYURldmljZUluZm9bXSA9IFtdO1xuICAgICAgICAgICAgY29uc3Qgc3BlYWtlcnM6IE1lZGlhRGV2aWNlSW5mb1tdID0gW107XG4gICAgICAgICAgICBjb25zdCBjYW1lcmFzOiBNZWRpYURldmljZUluZm9bXSA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGRldmljZSBvZiBkZXZpY2VzKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChkZXZpY2Uua2luZCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIE1lZGlhRGV2aWNlS2luZC5NSUNST1BIT05FIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pY3JvcGhvbmVzLnB1c2goZGV2aWNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgTWVkaWFEZXZpY2VLaW5kLlNQRUFLRVIgOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3BlYWtlcnMucHVzaChkZXZpY2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBNZWRpYURldmljZUtpbmQuQ0FNRVJBIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbWVyYXMucHVzaChkZXZpY2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvblN1Y2Nlc3MgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIG9uU3VjY2Vzcyh7IG1pY3JvcGhvbmVzLCBzcGVha2VycywgY2FtZXJhcyB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7IG1pY3JvcGhvbmVzLCBzcGVha2VycywgY2FtZXJhcyB9KTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvbkZhaWxlZCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgb25GYWlsZWQoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgZ2V0TG9jYWxNZWRpYVN0cmVhbSh0eXBlOiAnY2FtZXJhJyB8ICdkaXNwbGF5JywgY29uc3RyYWludHM/OiBNZWRpYVN0cmVhbUNvbnN0cmFpbnRzKTogUHJvbWlzZTxNZWRpYVN0cmVhbT4ge1xuICAgICAgICB0aGlzLl9sb2dnZXIuZGVidWcoJ2xvY2FsIG1lZGlhc3RyZWFtIGNvbnN0cmFpbnRzJywgY29uc3RyYWludHMpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHR5cGUgPT0gJ2Rpc3BsYXknKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWVkaWFEZXZpY2VzID0gbmF2aWdhdG9yLm1lZGlhRGV2aWNlcyBhcyBhbnk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGlzcGxheVN0cmVhbSA9IGF3YWl0IG1lZGlhRGV2aWNlcy5nZXREaXNwbGF5TWVkaWEoY29uc3RyYWludHMpO1xuICAgICAgICAgICAgICAgIC8vIOiOt+WPluezu+e7n+mfs+mikei9qFxuICAgICAgICAgICAgICAgIGNvbnN0IGNhbWVyYVN0cmVhbSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHsgYXVkaW86IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3lzdGVtQXVkaW9UcmFjayA9IGNhbWVyYVN0cmVhbS5nZXRBdWRpb1RyYWNrcygpWzBdO1xuICAgICAgICAgICAgICAgIGlmIChjb25zdHJhaW50cyAmJiAhY29uc3RyYWludHMuYXVkaW8pIHtcbiAgICAgICAgICAgICAgICAgICAgc3lzdGVtQXVkaW9UcmFjay5lbmFibGVkID0gZmFsc2U7IC8vIOWFvOWuueeOsOacjeWKoeerr+iOt+WPlmNhbmRpZGF0ZemUmeivr1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyDpg6jliIbmtY/op4jlmahkaXNwbGF55Y+v6Ieq6YeH6ZuG5aOw6Z+z6L2oXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB0cmFjayBvZiBkaXNwbGF5U3RyZWFtLmdldFRyYWNrcygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5yZXBvcnQoJ2Rpc3BsYXlTdHJlYW0gaGFzIGF1ZGlvIHRyYWNrJywgdHJhY2spO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHJhY2sua2luZCA9PSAnYXVkaW8nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFjay5zdG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5U3RyZWFtLnJlbW92ZVRyYWNrKHRyYWNrKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZGlzcGxheVN0cmVhbS5hZGRUcmFjayhzeXN0ZW1BdWRpb1RyYWNrKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGRpc3BsYXlTdHJlYW0pOyBcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShjb25zdHJhaW50cykpOyBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICBpZiAoZS5jb25zdHJhaW50ICYmIHR5cGUgPT0gJ2NhbWVyYScpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2dnZXIucmVwb3J0KCdnZXRVc2VyTWVkaWEgZXJyb3InLCBlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHJlYW06IE1lZGlhU3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoeyBhdWRpbzogdHJ1ZSwgdmlkZW86IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShzdHJlYW0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZGVzdHJveUxvY2FsTWVkaWFTdHJlYW0obWVkaWFzdHJlYW06IE1lZGlhU3RyZWFtKSB7XG4gICAgICAgIGZvciAoY29uc3QgdHJhY2sgb2YgbWVkaWFzdHJlYW0uZ2V0VHJhY2tzKCkpIHtcbiAgICAgICAgICAgIHRyYWNrLnN0b3AoKTtcbiAgICAgICAgICAgIG1lZGlhc3RyZWFtLnJlbW92ZVRyYWNrKHRyYWNrKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVwbGFjZVRyYWNrKG1lZGlhc3RyZWFtOiBNZWRpYVN0cmVhbSwgdHJhY2s6IE1lZGlhU3RyZWFtVHJhY2spOiBNZWRpYVN0cmVhbSB7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBtZWRpYXN0cmVhbS5nZXRUcmFja3MoKSkge1xuICAgICAgICAgICAgaWYgKGl0ZW0ua2luZCA9PSB0cmFjay5raW5kKSB7XG4gICAgICAgICAgICAgICAgaXRlbS5zdG9wKCk7XG4gICAgICAgICAgICAgICAgbWVkaWFzdHJlYW0ucmVtb3ZlVHJhY2soaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbWVkaWFzdHJlYW0uYWRkVHJhY2sodHJhY2spO1xuICAgICAgICByZXR1cm4gbWVkaWFzdHJlYW07XG4gICAgfVxuXG4gICAgLy8gcHVibGljIHNhdmVDdXJyZW50U3RyZWFtKHN0cmVhbUlkOiBzdHJpbmcsIG1lZGlhc3RyZWFtOiBNZWRpYVN0cmVhbSkge1xuICAgIC8vICAgICB0aGlzLl9tYXBTdHJlYW1JZE1lZGlhc3RyZWFtLnNldChzdHJlYW1JZCwgbWVkaWFzdHJlYW0pO1xuICAgIC8vIH1cblxuICAgIC8vIHB1YmxpYyBkZWxldGVDdXJyZW50U3RyZWFtKHN0cmVhbUlkOiBzdHJpbmcpIHtcbiAgICAvLyAgICAgdGhpcy5fbWFwU3RyZWFtSWRNZWRpYXN0cmVhbS5kZWxldGUoc3RyZWFtSWQpO1xuICAgIC8vIH1cblxuICAgIHB1YmxpYyBhc3luYyBlbnVtZXJhdGVEZXZpY2VzKG9uU3VjY2Vzcz86IChkZXZpY2VJbmZvOiBNZWRpYURldmljZUNhdGVnb3J5KSA9PiB2b2lkLCBvbkZhaWxlZD86IChyZWFzb24/OiBhbnkpID0+IHZvaWQpOiBQcm9taXNlPE1lZGlhRGV2aWNlQ2F0ZWdvcnk+IHtcbiAgICAgICAgcmV0dXJuIE1lZGlhQ29udHJvbGxlci5lbnVtZXJhdGVEZXZpY2VzKG9uU3VjY2Vzcywgb25GYWlsZWQpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTWVkaWFDb250cm9sbGVyO1xuIiwiZXhwb3J0IHR5cGUgUmVjb3JkTWVkaWFzdHJlYW1PcHRpb25zID0ge1xuICAgIG1pbWVUeXBlOiBzdHJpbmc7XG4gICAgY29kZWM6IHN0cmluZztcbn1cblxuZXhwb3J0IGNsYXNzIFJlY29yZE1lZGlhc3RyZWFtIHtcbiAgICBwcml2YXRlIF9taW1lVHlwZTogc3RyaW5nID0gJyc7XG4gICAgcHJpdmF0ZSBfY3VycmVudE1lZGlhU3RyZWFtOiBNZWRpYVN0cmVhbSB8IG51bGwgPSBudWxsO1xuICAgIHByaXZhdGUgX21lZGlhUmVjb3JkSW5zdGFuY2U6IE1lZGlhUmVjb3JkZXIgfCBudWxsID0gbnVsbDtcbiAgICBwcml2YXRlIF9yZWNvcmRlZEJsb2JzOiBCbG9iW10gPSBbXTtcblxuICAgIGNvbnN0cnVjdG9yKG1lZGlhc3RyZWFtOiBNZWRpYVN0cmVhbSwgb3B0aW9uczogUmVjb3JkTWVkaWFzdHJlYW1PcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRNZWRpYVN0cmVhbSAgICA9IG1lZGlhc3RyZWFtO1xuICAgICAgICB0aGlzLl9taW1lVHlwZSAgICAgICAgICAgICAgPSBgJHtvcHRpb25zLm1pbWVUeXBlfTske29wdGlvbnMuY29kZWN9YDtcblxuICAgICAgICB0aGlzLl9tZWRpYVJlY29yZEluc3RhbmNlID0gbmV3IE1lZGlhUmVjb3JkZXIoXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50TWVkaWFTdHJlYW0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbWltZVR5cGU6IHRoaXMuX21pbWVUeXBlXG4gICAgICAgICAgICB9KVxuICAgICAgICB0aGlzLl9tZWRpYVJlY29yZEluc3RhbmNlLm9uZGF0YWF2YWlsYWJsZSA9IHRoaXMuaGFuZGxlRGF0YUF2YWlsYWJsZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZURhdGFBdmFpbGFibGUgPSAoZXZlbnQ6IGFueSkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQuZGF0YSAmJiBldmVudC5kYXRhLnNpemUgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLl9yZWNvcmRlZEJsb2JzLnB1c2goZXZlbnQuZGF0YSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgaXNTdXBwb3J0KCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoIU1lZGlhUmVjb3JkZXIuaXNUeXBlU3VwcG9ydGVkKHRoaXMuX21pbWVUeXBlKSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgJHt0aGlzLl9taW1lVHlwZX0gaXMgbm90IHN1cHBvcnRlZGApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhcnQoKSB7XG4gICAgICAgIGlmICghdGhpcy5fbWVkaWFSZWNvcmRJbnN0YW5jZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdtZWRpYVJlY29yZGVyIGlzIG5vdCBzdXBwb3J0ZWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbWVkaWFSZWNvcmRJbnN0YW5jZS5zdGFydCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdG9wKCkge1xuICAgICAgICBpZiAoIXRoaXMuX21lZGlhUmVjb3JkSW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbWVkaWFSZWNvcmRlciBpcyBub3Qgc3VwcG9ydGVkLicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21lZGlhUmVjb3JkSW5zdGFuY2Uuc3RvcCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBkb3dubG9hZCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCbG9iKHRoaXMuX3JlY29yZGVkQmxvYnMsIHt0eXBlOiB0aGlzLl9taW1lVHlwZSB9KTtcbiAgICB9XG59XG5cbiIsImltcG9ydCAqIGFzIGJvd3NlciBmcm9tICdib3dzZXInO1xuaW1wb3J0IHtlbnZDb25maWcsIGNvbnN0YW50Q29uZmlnfSBmcm9tICcuLi8uLi9jb21tb24vZGVmYXVsdENvbmZpZyc7XG5pbXBvcnQgeyB2ZXJzaW9uIH0gZnJvbSAnLi4vLi4vLi4vY29uZmlnJztcblxuaW50ZXJmYWNlIGZldGNoUGFyYW1zIHtcblx0dXJsOiBzdHJpbmcsXG5cdGRhdGE/OiBhbnksXG5cdG1ldGhvZD86ICdQT1NUJyB8ICdHRVQnLFxuXHRoZWFkZXJzPzogYW55XG59XG5cbnR5cGUgc2Vuc29yQ29tbW9uRGF0YSA9IHtcblx0b3NfdHlwZTogc3RyaW5nO1xuXHRicmFuZDogc3RyaW5nO1xuXHRtb2RlbDogc3RyaW5nO1xuXHRzeXN0ZW1fdmVyc2lvbjogc3RyaW5nO1xuXHRzeXN0ZW1fbmFtZTogc3RyaW5nO1xuXHRzeXN0ZW1fdmVyc2lvbk5hbWU6IHN0cmluZztcblx0YXBwX3ZlcnNpb246IHN0cmluZztcblx0YXBwX2VuZ2luZTogc3RyaW5nO1xuXHRzZGtfdmVyc2lvbjogc3RyaW5nO1xuXHRzZGtfdmVyc2lvbl9pbnQ6IG51bWJlcjtcblx0bmV0X3R5cGU6IG51bWJlciAgLy/nvZHnu5znsbvlnotcbn1cblxudHlwZSBnZXRFZGdlTGlzdE9wdGlvbnMgPSB7XG5cdGVudjogJ3Rlc3QnIHwgJ3Byb2QnIHwgJ2Rldic7XG5cdHByb2plY3ROYW1lOiBzdHJpbmc7XG5cdGFwcElkOiBzdHJpbmc7XG5cdHVzZXJJZDogc3RyaW5nO1xuXHRyb29tSWQ6IHN0cmluZztcbn1cblxubGV0IGlwSW5mbzoge1xuXHRjbGllbnRfaXA6IHN0cmluZztcblx0Y291bnRyeV9jb2RlOiBzdHJpbmc7XG5cdGNvdW50cnk6IHN0cmluZztcblx0SVNQPzogc3RyaW5nO1xuXHRMYXQ/OiBzdHJpbmdcblx0TG5nPzogc3RyaW5nO1xuXHRUWj86IHN0cmluZztcblx0Y2l0eT86IHN0cmluZztcblx0Y29udGluZW50X2NvZGU/OiBzdHJpbmc7XG5cdG9yZ2FuaXphdGlvbjogc3RyaW5nO1xuXHRwb3N0X2NvZGU6IHN0cmluZztcblx0cHJvdmluY2U6IHN0cmluZztcblx0dGltZXpvbmU6IHN0cmluZztcbn0gfCBudWxsID0gbnVsbDtcbmxldCBjdXJyZW50QXBwSWQ6IHN0cmluZyA9ICcnO1xubGV0IGN1cnJlbnRVc2VySWQ6IHN0cmluZyA9ICcnO1xuXG5hc3luYyBmdW5jdGlvbiBmZXRjaERhdGEgKHBhcmFtczogZmV0Y2hQYXJhbXMpOiBQcm9taXNlPGFueT4ge1xuXHRpZiAoIXBhcmFtcy5tZXRob2QpIHsgcGFyYW1zLm1ldGhvZCA9ICdHRVQnOyB9XG5cblx0bGV0IGZldGNoT3B0aW9ucztcblx0aWYgKCFwYXJhbXMuZGF0YSkge1xuXHRcdGZldGNoT3B0aW9ucyA9IHtcblx0XHRcdG1ldGhvZDogcGFyYW1zLm1ldGhvZFxuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0aWYgKHR5cGVvZiBwYXJhbXMuZGF0YSAhPT0gJ29iamVjdCcpIHsgXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ2RhdGEgbXVzdCBiZSBhbiBvYmplY3QuJylcblx0XHR9XG5cdFx0aWYgKHBhcmFtcy5kYXRhLmhlYWRlcnMpIHtcblx0XHRcdGZldGNoT3B0aW9ucyA9IHtcblx0XHRcdFx0Ym9keTogSlNPTi5zdHJpbmdpZnkocGFyYW1zLmRhdGEpLFxuXHRcdFx0XHRtZXRob2Q6IHBhcmFtcy5tZXRob2QsXG5cdFx0XHRcdGhlYWRlcnM6IHBhcmFtcy5kYXRhLmhlYWRlcnNcblx0XHRcdH07XG5cdFx0fSBlbHNlIHtcblx0XHRcdGZldGNoT3B0aW9ucyA9IHtcblx0XHRcdFx0Ym9keTogSlNPTi5zdHJpbmdpZnkocGFyYW1zLmRhdGEpLFxuXHRcdFx0XHRtZXRob2Q6IHBhcmFtcy5tZXRob2Rcblx0XHRcdH07XG5cdFx0fVxuXHR9XG5cdHRyeSB7XG5cdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgZmV0Y2gocGFyYW1zLnVybCwgZmV0Y2hPcHRpb25zKTtcblx0XHRyZXR1cm4gYXdhaXQgcmVzdWx0Lmpzb24oKTtcblx0XHQvLyAudGhlbihhc3luYyAocmVzdWx0OiBhbnkpID0+IHtcblx0XHQvLyBcdC8vIGlmIChyZXN1bHQuc3RhdHVzICE9PSAyMDApIHtcblx0XHQvLyBcdC8vIFx0cmV0dXJuIFByb21pc2UucmVqZWN0KHJlc3VsdCk7XG5cdFx0Ly8gXHQvLyB9XG5cdFx0Ly8gXHQvLyByZXR1cm4gcmVzdWx0LmRhdGE7XG5cdFx0Ly8gXHRjb25zb2xlLmxvZygnKysrKycsIGF3YWl0IHJlc3VsdC5qc29uKCkpO1xuXHRcdC8vIFx0cmV0dXJuIHJlc3VsdDtcblx0XHQvLyB9KTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdHRocm93IG5ldyBFcnJvcihlKTtcblx0fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbnVtYmVyVmVyc2lvbigpIHtcblx0bGV0IHZlcnNpb25BcnI6IEFycmF5PGFueT4gPSBbXTtcblx0dmVyc2lvbi5zcGxpdCgnLicpLmZvckVhY2goKHZhbHVlKSA9PiB7XG5cdFx0aWYgKHZhbHVlLmxlbmd0aCA8PTEpIHtcblx0XHRcdHZhbHVlID0gdmFsdWUgKyAnMCc7XG5cdFx0fVxuXHRcdHZlcnNpb25BcnIucHVzaCh2YWx1ZSk7XG5cdH0pO1xuXHRyZXR1cm4gcGFyc2VJbnQodmVyc2lvbkFyci5qb2luKCcnKSsnMCcpO1xufVxuXG5mdW5jdGlvbiBnZXRTZW5zb3JDb21tb25EYXRhKCk6IHNlbnNvckNvbW1vbkRhdGF7XG5cdGNvbnN0IHNka1ZlcnNpb24gPSBudW1iZXJWZXJzaW9uKCk7XG5cdGxldCBuZXRUeXBlID0gMDtcblx0aWYgKChuYXZpZ2F0b3IgYXMgYW55KS5jb25uZWN0aW9uICB8fCAobmF2aWdhdG9yIGFzIGFueSkubW96Q29ubmVjdGlvbiB8fCAobmF2aWdhdG9yIGFzIGFueSkud2Via2l0Q29ubmVjdGlvbikge1xuXHRcdGNvbnN0IGNvbm5lY3Rpb24gPSAobmF2aWdhdG9yIGFzIGFueSkuY29ubmVjdGlvbiAgfHwgKG5hdmlnYXRvciBhcyBhbnkpLm1vekNvbm5lY3Rpb24gfHwgKG5hdmlnYXRvciBhcyBhbnkpLndlYmtpdENvbm5lY3Rpb247XG5cdFx0Y29uc3QgdHlwZSA9IGNvbm5lY3Rpb24udHlwZTtcblx0XHRuZXRUeXBlID0gdHlwZSA9PSAnd2lmaScgPyAxIDogdHlwZSA9PSAnMmcnID8gMiA6IHR5cGUgPT0gJzNnJyA/IDMgOiB0eXBlID09ICc0ZycgPyA0IDogdHlwZSA9PSAnNWcnID8gNSA6IDA7XG5cdH1cblx0XG5cdGNvbnN0IHsgYnJvd3NlciwgZW5naW5lLCBvcywgcGxhdGZvcm0gfTogYW55ID0gYm93c2VyLnBhcnNlKHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KTtcblx0Ly8gY29uc29sZS5sb2coJ2dldEJyb3dzZXIgaW5mbzo6JywgYnJvd3NlciwgZW5naW5lLCBvcywgcGxhdGZvcm0pO1xuXHRyZXR1cm4ge1xuXHRcdG9zX3R5cGU6IHBsYXRmb3JtLnR5cGUsIC8vIGRlc2t0b3AgLyBtb2JpbGVcblx0XHRicmFuZDogcGxhdGZvcm0udmVuZG9yLCAgLy8gYXBwbGVcblx0XHRtb2RlbDogYCR7YnJvd3Nlci5uYW1lfSR7YnJvd3Nlci52ZXJzaW9ufWAsIFxuXHRcdHN5c3RlbV92ZXJzaW9uOiBvcy52ZXJzaW9uLFxuXHRcdHN5c3RlbV9uYW1lOiBvcy5uYW1lLFxuXHRcdHN5c3RlbV92ZXJzaW9uTmFtZTogb3MudmVyc2lvbk5hbWUsXG5cdFx0YXBwX3ZlcnNpb246IGJyb3dzZXIudmVyc2lvbixcblx0XHRhcHBfZW5naW5lOiBlbmdpbmUubmFtZSwgXG5cdFx0c2RrX3ZlcnNpb246IHZlcnNpb24sXG5cdFx0c2RrX3ZlcnNpb25faW50OiBzZGtWZXJzaW9uLFxuXHRcdG5ldF90eXBlOiBuZXRUeXBlXG5cdH1cbn1cblxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBsb2FkU2Vuc29yc1N0YXRzKGN1c3RvbURhdGE6IGFueSkge1xuXHRjb25zdCBjb21tb25EYXRhOiBzZW5zb3JDb21tb25EYXRhID0gZ2V0U2Vuc29yQ29tbW9uRGF0YSgpO1xuXHRjb25zdCByZXN1bHQ6IGFueSA9IGF3YWl0IGZldGNoRGF0YSh7XG5cdFx0dXJsOiBgJHtjb25zdGFudENvbmZpZy5TVEFUU1VSTH0vZGF0YV9jb2xsZWN0YCxcblx0XHRtZXRob2Q6ICdQT1NUJyxcblx0XHRkYXRhOiB7XG5cdFx0XHQuLi5jb21tb25EYXRhLFxuXHRcdFx0Li4uY3VzdG9tRGF0YSxcblx0XHRcdGV2ZW50X3RpbWU6IE1hdGgucm91bmQobmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwKSxcblx0XHRcdHRpbWU6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxuXHRcdH1cblx0fSk7XG5cdGlmIChyZXN1bHQuc3RhdHVzICE9PSAyMDApIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ3NlbnNvcnMgc3RhdHMgZXJyb3IuJylcblx0fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VXNlclNvdXJjZSgpOiBzdHJpbmcge1xuXHRjb25zdCBwbGF0Zm9ybTogYW55ID0gYm93c2VyLnBhcnNlKHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KS5wbGF0Zm9ybTtcblx0cmV0dXJuIHBsYXRmb3JtLnR5cGU7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRFZGdlTGlzdChwYXJhbXM6IGdldEVkZ2VMaXN0T3B0aW9ucykge1xuXHRsZXQgY3VycmVudENvbmZpZyA9IGVudkNvbmZpZ1twYXJhbXMucHJvamVjdE5hbWVdW3BhcmFtcy5lbnZdO1xuXHQvLyBjb25zdCB1c2VyU291cmNlID0gZ2V0VXNlclNvdXJjZSgpID09ICdkZXNrdG9wJyA/ICdwY19jZW50ZXInIDogZ2V0VXNlclNvdXJjZSgpO1xuXHRpZiAoaXBJbmZvID09IHZvaWQgMCkge1xuXHRcdGlwSW5mbyA9IGF3YWl0IGdldENsaWVudElwKCk7XG5cdH1cblx0Y29uc3QgcmVzdWx0OiBhbnkgPSBhd2FpdCBmZXRjaERhdGEoe1xuXHRcdHVybDogYCR7Y3VycmVudENvbmZpZy5DRU5URVJVUkx9L2FwaS92MS9qb2luYCxcblx0XHRtZXRob2Q6ICdQT1NUJyxcblx0XHRkYXRhOiB7XG5cdFx0XHRhcHBfaWQ6IHBhcmFtcy5hcHBJZCxcblx0XHRcdHVzZXJfaWQ6IHBhcmFtcy51c2VySWQsXG5cdFx0XHRjbGllbnRfaXA6IGlwSW5mbyAmJiBpcEluZm8uY2xpZW50X2lwLFxuXHRcdFx0cHJvdG86ICdodHRwcycsXG5cdFx0XHRyb2xlOiAnJyxcblx0XHRcdHJvb21faWQ6IHBhcmFtcy5yb29tSWQsXG5cdFx0XHR1c2VyX3NvdXJjZTogJ3BjX2NlbnRlcicsXG5cdFx0fSxcblx0XHRoZWFkZXJzOiB7XG5cdFx0XHQnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG5cdFx0fVxuXHR9KTtcblx0XG5cdGlmIChyZXN1bHQuY29kZSAhPT0gMjAwKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdnZXQgRWRnZUxpc3QgZmFpbGVkLicpO1xuXHR9XG5cdHJldHVybiByZXN1bHQuZGF0YS5lZGdlX3VybHM7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU5vbmNlKCkge1xuXHR2YXIgczogYW55ID0gW107XG5cdHZhciBoZXhEaWdpdHMgPSBcIjAxMjM0NTY3ODlhYmNkZWZcIjtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCAzNjsgaSsrKSB7XG5cdFx0c1tpXSA9IGhleERpZ2l0cy5zdWJzdHIoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMHgxMCksIDEpO1xuXHR9XG5cdHNbMTRdID0gXCI0XCI7XG5cdHNbMTldID0gaGV4RGlnaXRzLnN1YnN0cigoc1sxOV0gJiAweDMpIHwgMHg4LCAxKTtcblx0c1s4XSA9IHNbMTNdID0gc1sxOF0gPSBzWzIzXSA9IFwiLVwiO1xuXHR2YXIgdXVpZCA9IHMuam9pbihcIlwiKTtcblx0cmV0dXJuIHV1aWQ7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldENsaWVudElwKCkge1xuXHRyZXR1cm4gIGF3YWl0IGZldGNoRGF0YSh7XG5cdFx0dXJsOiAnaHR0cHM6Ly9nZW9pcC5saW5rdi5mdW4vaXBfZ2VvJyxcblx0XHRtZXRob2Q6ICdHRVQnXG5cdH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QXV0aEVkZ2VMaXN0KHtcblx0YXBwSWQsIFxuXHRhdXRoLCBcblx0ZXhwaXJlLCBcblx0cHJvamVjdE5hbWUsIFxuXHRlbnYgfToge1xuXHRhcHBJZDogc3RyaW5nXG5cdGF1dGg6IHN0cmluZztcblx0ZXhwaXJlOiBzdHJpbmc7XG5cdHByb2plY3ROYW1lOiBzdHJpbmc7XG5cdGVudjogJ3Rlc3QnIHwgJ3Byb2QnIHwgJ2Rldic7XG59KSBcbntcblx0bGV0IGN1cnJlbnRDb25maWcgPSBlbnZDb25maWdbcHJvamVjdE5hbWVdW2Vudl07XG5cdGlmIChpcEluZm8gPT0gdm9pZCAwKSB7XG5cdFx0aXBJbmZvID0gYXdhaXQgZ2V0Q2xpZW50SXAoKTtcblx0fVxuXHRjb25zdCByZXN1bHQgPSBhd2FpdCBmZXRjaERhdGEoe1xuXHRcdHVybDogYCR7Y3VycmVudENvbmZpZy5DRU5URVJVUkx9L2FwaS92MS9hdXRoYCxcblx0XHRtZXRob2Q6ICdQT1NUJyxcblx0XHRkYXRhOiB7XG5cdFx0XHRhcHBfaWQ6IGFwcElkLFxuXHRcdFx0YXV0aDogYXV0aCwgXG5cdFx0XHR0aW1lc3RhbXA6IGAke01hdGgucm91bmQoKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMCkpfWAsXG5cdFx0XHRleHBpcmVfdHM6IGV4cGlyZSxcblx0XHRcdHVzZXJfc291cmNlOiAncGNfY2VudGVyJyxcblx0XHRcdG5vbmNlOiBjcmVhdGVOb25jZSgpLFxuXHRcdFx0Li4uaXBJbmZvXG5cblx0XHR9XG5cdH0pO1xuXHRpZiAocmVzdWx0LmNvZGUgIT09IDIwMCkge1xuXHRcdHRocm93IG5ldyBFcnJvcignZ2V0IEVkZ2VMaXN0IGZhaWxlZC4nKTtcblx0fVxuXHRyZXR1cm4gcmVzdWx0LmRhdGEuZWRnZV91cmxzO1xufVxuXG4vKlxuKiDkuIrkvKDml6Xlv5dodHRwc+aOpeWPo1xuKi9cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwbG9hZExvZyh7XG5cdGFwcElkLFxuXHR1c2VySWQsXG5cdG1lc3NhZ2Vcbn06IHtcblx0YXBwSWQ/OiBzdHJpbmc7XG5cdHVzZXJJZD86IHN0cmluZztcblx0bWVzc2FnZTogYW55W107XG59KSB7XG5cdGlmIChpcEluZm8gPT0gdm9pZCAwKSB7XG5cdFx0aXBJbmZvID0gYXdhaXQgZ2V0Q2xpZW50SXAoKTtcblx0fVxuXHRpZiAoIWFwcElkKSB7XG5cdFx0aWYgKCFjdXJyZW50QXBwSWQpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignYXBwSWQgY2FuIG5vdCBiZSBlbXB0eS4nKTtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0Y3VycmVudEFwcElkID0gYXBwSWQ7XG5cdH1cblx0aWYgKCF1c2VySWQpIHtcblx0XHRpZiAoIWN1cnJlbnRVc2VySWQpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcigndXNlcklkIGNhbiBub3QgYmUgZW1wdHkuJyk7XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdGN1cnJlbnRVc2VySWQgPSB1c2VySWQ7XG5cdH1cblxuXHRyZXR1cm4gYXdhaXQgZmV0Y2hEYXRhKHtcblx0XHR1cmw6IGAke2NvbnN0YW50Q29uZmlnLkxPR1JFUE9SVH0vdjEvbG9nL3JlcG9ydGAsXG5cdFx0bWV0aG9kOiAnUE9TVCcsXG5cdFx0ZGF0YToge1xuXHRcdFx0YXBwaWQ6IGN1cnJlbnRBcHBJZCxcblx0XHRcdHVzZXJpZDogY3VycmVudFVzZXJJZCxcblx0XHRcdGNvdW50cnk6IGlwSW5mbyAmJiBpcEluZm8uY291bnRyeV9jb2RlLFxuXHRcdFx0bWVzc2FnZSxcblx0XHRcdHRpbWVzdGFtcDogTWF0aC5yb3VuZChuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDApXG5cdFx0fVxuXHR9KTtcblx0Ly8gaWYgKHJlc3VsdC5jb2RlICE9PSAwKSB7XG5cdC8vIFx0dGhyb3cgbmV3IEVycm9yKCdyZXBvcnQgbG9nIGZhaWxlZC4nKTtcblx0Ly8gfVxuXHQvLyByZXR1cm4gcmVzdWx0LmRhdGEuZWRnZV91cmxzO1xufSIsImltcG9ydCBTaWduYWxIYW5kbGluZyBmcm9tICcuL1NpZ25hbEhhbmRsaW5nJztcbmltcG9ydCB7IFNpZ25hbCB9IGZyb20gJy4vU2lnbmFsT3B0aW9ucyc7XG5cbmNsYXNzIFNpbmdhbCBleHRlbmRzIFNpZ25hbEhhbmRsaW5nIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiBTaWduYWwpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTaW5nYWw7XG4iLCJpbXBvcnQgU2lnbmFsQ29ubmVjdCBmcm9tICcuL3NpZ25hbENvbm5lY3QnO1xuaW1wb3J0IHsgZXJyQ29kZSB9IGZyb20gJy4uLy4uL2NvbW1vbi9lcnJvckNvZGUnO1xuaW1wb3J0IHsgU2lnbmFsIH0gZnJvbSAnLi9TaWduYWxPcHRpb25zJztcbmltcG9ydCB7IGZvcm1hdEtleVRvSHVtcCwgZm9ybWF0QXBwSWQgfSBmcm9tICcuLi91dGlscy91dGlscyc7XG5pbXBvcnQgeyBnZXRFZGdlTGlzdCwgdXBsb2FkU2Vuc29yc1N0YXRzLCBudW1iZXJWZXJzaW9uLCBnZXRVc2VyU291cmNlIH0gZnJvbSAnLi4vc2VydmljZS9zZXJ2aWNlQVBJJztcbmltcG9ydCB7IGVyck1zZyB9IGZyb20gJy4uLy4uL2NvbW1vbi9leHBvcnRJbnRlcmZhY2UnO1xuXG5pbnRlcmZhY2UgcGF0aWNpcGFudHN7XG4gICAgcm9vbV9pZDogc3RyaW5nO1xuICAgIHNlc3Npb25faWQ6IHN0cmluZztcbiAgICB1c2VyX2lkOiBzdHJpbmc7XG4gICAgc2hvdzogc3RyaW5nO1xuICAgIHJvbGU6IHN0cmluZztcbiAgICBlZGdlX2lkOiBzdHJpbmc7XG4gICAgc3RyZWFtX2lkOiBzdHJpbmc7XG4gICAgcHVsbF91cmxzOiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBqb2luU3VjY2Vzc01zZyB7XG4gICAgY29kZTogbnVtYmVyO1xuICAgIHRpbWVzdGFtcDogbnVtYmVyO1xuICAgIHNlc3Npb25faWQ6IHN0cmluZztcbiAgICByb29tX2lkOiBzdHJpbmc7XG4gICAgdXNlcl9pZDogc3RyaW5nO1xuICAgIHBhcnRpY2lwYW50czogQXJyYXk8cGF0aWNpcGFudHM+O1xuICAgIGNvbm5lY3Rfc3RhdGU6IG51bWJlclxufVxuXG5pbnRlcmZhY2UgY2FuZGlkYXRlIHtcbiAgICBjYW5kaWRhdGU6IHN0cmluZztcbiAgICBzZHBNaWQ6IHN0cmluZztcbiAgICBzZHBNTGluZUluZGV4OiBudW1iZXI7XG4gICAgX19tb2R1bGVfXzogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgaWNlQ2FuZGlkYXRlIHtcbiAgICB0aW1lc3RhbXA6IG51bWJlcjtcbiAgICB1c2VyX2lkOiBzdHJpbmc7XG4gICAgcm9vbV9pZDogc3RyaW5nO1xuICAgIHNlc3Npb25faWQ6IHN0cmluZztcbiAgICBjYW5kaWRhdGU6IGNhbmRpZGF0ZTtcbn1cblxuaW50ZXJmYWNlIGFuc3dlclNEUCB7XG4gICAgY29kZTogbnVtYmVyO1xuICAgIHRpbWVzdGFtcDogbnVtYmVyO1xuICAgIHJvb21faWQ6IHN0cmluZztcbiAgICBzZXNzaW9uX2lkOiBzdHJpbmc7XG4gICAgdXNlcl9pZDogc3RyaW5nO1xuICAgIHNkcF9hbnN3ZXI6IHN0cmluZztcbiAgICBwZWVyX2lkOiBudW1iZXI7XG59XG5cbmludGVyZmFjZSBhZGRQYXJ0aWNpcGFudHN7XG4gICAgY29kZTogbnVtYmVyO1xuICAgIHRpbWVzdGFtcDogbnVtYmVyO1xuICAgIHVzZXJfaWQ6IHN0cmluZztcbiAgICBwYXJ0aWNpcGFudHM6IEFycmF5PHBhdGljaXBhbnRzPlxufVxuXG5pbnRlcmZhY2UgdXBkYXRlUGFydGljaXBhbnR7XG4gICAgY29kZTogbnVtYmVyO1xuICAgIHRpbWVzdGFtcDogbnVtYmVyO1xuICAgIHJvb21faWQ6IHN0cmluZztcbiAgICBzZXNzaW9uX2lkOiBzdHJpbmc7XG4gICAgdXNlcl9pZDogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgcmVtb3ZlUGFydGljaXBhbnR7XG4gICAgY29kZTogbnVtYmVyO1xuICAgIHRpbWVzdGFtcDogbnVtYmVyO1xuICAgIHJvb21faWQ6IHN0cmluZztcbiAgICB1c2VyX2lkOiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBraWNrUGFydGljaXBhbnR7XG4gICAgcmVhc29uOiBudW1iZXI7XG4gICAgcm9vbV9pZDogc3RyaW5nO1xuICAgIHVzZXJfaWQ6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIGpvaW5Sb29tUGFyYW1ze1xuICAgIGF1dGg6IHN0cmluZztcbiAgICBleHBpcmU6IHN0cmluZztcbiAgICByb2xlOiAxIHwgMjtcbn1cbmludGVyZmFjZSBpY2VDb25uZWN0aW9uSXRlbSB7XG4gICAgb2ZmZXJQZWVySWQ6IG51bWJlcjtcbn1cblxuY2xhc3MgU2lnbmFsSGFuZGxpbmcgZXh0ZW5kcyBTaWduYWxDb25uZWN0IHtcbiAgICBwcml2YXRlIF90aW1lcjogYW55ID0gbnVsbDtcbiAgICBwcml2YXRlIF90aW1lb3V0ZXI6IGFueSA9IG51bGw7XG4gICAgcHJpdmF0ZSBzaWduYWxUaW1lb3V0OiBudW1iZXIgPSA5MDtcbiAgICBwcml2YXRlIF9pbml0Sm9pblJvb21QYXJhbXM6IGpvaW5Sb29tUGFyYW1zIHwgbnVsbCA9IG51bGw7XG5cbiAgICBwcml2YXRlIF9pc0tpY2s6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIF9zdWNjZWVkOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBfcm9vbU9ubGluZUxpc3Q6IEFycmF5PHtcbiAgICAgICAgcm9vbUlkOiBzdHJpbmc7XG4gICAgICAgIHVzZXJJZDogc3RyaW5nO1xuICAgICAgICBzdHJlYW1JZDogc3RyaW5nO1xuICAgICAgICBwdWxsVXJsczogc3RyaW5nO1xuICAgIH0+ID0gW107XG4gICAgcHJpdmF0ZSBfb2ZmZXJQZWVySWQ6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBfY29ubmVjdFN0YXRlOiBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgX3JvbGU6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBfam9pblJvb21TdGFydFRpbWU6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBfcG9ydENhbmRpZGF0ZU9iajoge1xuICAgICAgICBbaW5kZXg6IG51bWJlcl06IEFycmF5PFJUQ0ljZUNhbmRpZGF0ZUluaXQ+O1xuICAgIH0gPSB7fTtcbiAgICBwcml2YXRlIF9NYXBTdHJlYW1JZENhbmRpZGF0ZVBvcnQ6IE1hcDxzdHJpbmcsIG51bWJlcj4gPSBuZXcgTWFwKCk7XG4gICAgcHJpdmF0ZSBfTWFwU3RyZWFtSWRBbnN3ZXJTZHA6IE1hcDxzdHJpbmcsIHN0cmluZz4gPSBuZXcgTWFwKCk7XG4gICAgcHJpdmF0ZSBfaWNlQ29ubmVjdGlvblN0cmVhbUlkTWFwOiBNYXA8c3RyaW5nLCBpY2VDb25uZWN0aW9uSXRlbT4gPSBuZXcgTWFwKCk7XG4gICAgcHJpdmF0ZSBfaXNFeGVjQW5zd2Vyc2RwOiBNYXA8c3RyaW5nLCBib29sZWFuPiA9IG5ldyBNYXAoKTtcblxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IFNpZ25hbCkge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgaW5pdChpbml0UGFyYW1zOiBqb2luUm9vbVBhcmFtcykge1xuICAgICAgICB0aGlzLl9pbml0Sm9pblJvb21QYXJhbXMgPSBpbml0UGFyYW1zO1xuICAgICAgICBhd2FpdCB0aGlzLmNvbm5lY3Qoe1xuICAgICAgICAgICAgYXV0aDogaW5pdFBhcmFtcy5hdXRoLFxuICAgICAgICAgICAgZXhwaXJlOiBpbml0UGFyYW1zLmV4cGlyZVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy53c0V2ZW50cygpO1xuICAgIH1cblxuICAgIHB1YmxpYyBsb2dvdXQgKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpO1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZW91dGVyKTtcbiAgICAgICAgdGhpcy5sZWF2ZVJvb20oKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGdldE5ld0VkZ2VMaXN0KCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBnZXRFZGdlTGlzdCh7XG4gICAgICAgICAgICBhcHBJZDogdGhpcy5fYXBwSWQsXG4gICAgICAgICAgICByb29tSWQ6IHRoaXMuX3Jvb21JZCxcbiAgICAgICAgICAgIHVzZXJJZDogdGhpcy5fdXNlcklkLFxuICAgICAgICAgICAgZW52OiB0aGlzLl9lbnYsXG4gICAgICAgICAgICBwcm9qZWN0TmFtZTogdGhpcy5fcHJvamVjdE5hbWVcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2VkZ2VVcmxzID0gQXJyYXkuZnJvbShuZXcgU2V0KFsgLi4udGhpcy5fZWRnZVVybHMsIC4uLnJlc3VsdF0pKTsgICBcbiAgICB9XG5cbiAgICBwcml2YXRlIGVycm9yRnVuKHNvdXJjZTogc3RyaW5nKSB7XG4gICAgICAgIHN3aXRjaChzb3VyY2UpIHtcbiAgICAgICAgICAgIC8vIGNhc2UgJ2Fuc3dlclNEUCc6XG4gICAgICAgICAgICAvLyAgICAgdGhpcy5fZW1pdCgnd2FybicsIHsgY29kZTogNTAwLCBtc2c6ICdhbnN3ZXJTRFAgZXJyb3IuJyB9KTtcbiAgICAgICAgICAgIC8vICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2pvaW5TdWNjZXNzJzpcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ0BnZXRqb2luc3VjZXNzcmVzdWx0Jywge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiA0MDAsXG4gICAgICAgICAgICAgICAgICAgIG1zZzogZXJyQ29kZS5nZXQoJ3dzRGlzY29ubmVjdCcpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHNpZ25hbFJlY29ubmVjdChzb3VyY2U/OiBzdHJpbmcpIHtcbiAgICAgICAgLy8gY29uc29sZS5lcnJvcigncmVjb25uZWN0Ojo6JywgdGhpcy5fcmV0cnlUaW1lcywgdGhpcy5fbWF4UmV0cnlUaW1lcywgdGhpcy5fY3VycmVudEVkZ2VVcmwsIHRoaXMuX2VkZ2VVcmxzKTtcbiAgICAgICAgaWYgKCF0aGlzLl90aW1lb3V0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX3RpbWVvdXRlciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lcik7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXRlcik7XG4gICAgICAgICAgICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yRnVuKHNvdXJjZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VWZW5kb3IoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSwgdGhpcy5zaWduYWxUaW1lb3V0ICogMTAwMCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sZWF2ZVJvb20oKTtcbiAgICAgICAgdGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFycmxlbmd0aCA9IE1hdGguY2VpbCh0aGlzLnNpZ25hbFRpbWVvdXQgLyAoMiAqIDQpKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9lZGdlVXJscy5sZW5ndGggPCBhcnJsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdldE5ld0VkZ2VMaXN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICh0aGlzLl9yZXRyeVRpbWVzID49IHRoaXMuX21heFJldHJ5VGltZXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXRyeVRpbWVzID0gMDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZWRnZVVybHMubGVuZ3RoID4gMSkgeyB0aGlzLl9lZGdlTGlzdEluZGV4ICsrOyB9XG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudEVkZ2VVcmwgPSB0aGlzLl9lZGdlVXJsc1t0aGlzLl9lZGdlTGlzdEluZGV4XTtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbml0Sm9pblJvb21QYXJhbXMgJiYgdGhpcy5pbml0KHRoaXMuX2luaXRKb2luUm9vbVBhcmFtcyk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3N1Y2NlZWQpIHsgdGhpcy5fY29ubmVjdFN0YXRlID0gMjsgfSAgLy8g5YiH5o2ic2lnbmFsXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2VkZ2VVcmxzLmxlbmd0aCA+IDEgJiYgKCh0aGlzLl9lZGdlTGlzdEluZGV4ICsgMSkgPj0gdGhpcy5fZWRnZVVybHMubGVuZ3RoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lZGdlTGlzdEluZGV4ID0gLTE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9yZXRyeVRpbWVzIDwgdGhpcy5fbWF4UmV0cnlUaW1lcykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2luaXRKb2luUm9vbVBhcmFtcyAmJiB0aGlzLmluaXQodGhpcy5faW5pdEpvaW5Sb29tUGFyYW1zKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fc3VjY2VlZCkgeyB0aGlzLl9jb25uZWN0U3RhdGUgPSAxOyB9IFxuICAgICAgICAgICAgICAgIHRoaXMuX3JldHJ5VGltZXMgKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDIgKiAxMDAwKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlc2V0U2lnbmFsU3RhdGUoc291cmNlPzogc3RyaW5nKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lcik7XG4gICAgICAgIHRoaXMuc2lnbmFsUmVjb25uZWN0KHNvdXJjZSk7XG4gICAgfVxuICAgIFxuICAgIHByaXZhdGUgc2VuZE1lc3NhZ2UgKGV2ZW50OiBzdHJpbmcsIG1lc3NhZ2U6IGFueSkge1xuICAgICAgICBsZXQgc2VuZE1zZyA9IGZvcm1hdEFwcElkKG1lc3NhZ2UsIHRoaXMuX2FwcElkKTtcbiAgICAgICAgdGhpcy5fd3MgJiYgdGhpcy5fd3MuZW1pdChldmVudCwgc2VuZE1zZyk7XG4gICAgICAgIHNlbmRNc2cgPSBudWxsO1xuICAgIH1cblxuXHRwcml2YXRlIHdzRXZlbnRzKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3dzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3dlYnNvY2tldCBjb25uZWN0IGZhaWxlZC4nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl93cy5vbignY29ubmVjdCcsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5pbmZvKCdzaWduYWwgY29ubmVjdCBzdWNjZXNzLicpO1xuICAgICAgICAgICAgdGhpcy5fcmV0cnlUaW1lcyA9IDA7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpO1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXRlcik7XG4gICAgICAgICAgICB0aGlzLm9uQ29ubmVjdCgpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl93cy5vbignY29ubmVjdF9lcnJvcicsIChlcnJvcjogYW55KSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9sb2dnZXIud2Fybignc2lnbmFsIGNvbm5lY3RfZXJyb3InLCBlcnJvcik7XG4gICAgICAgICAgICB0aGlzLnJlc2V0U2lnbmFsU3RhdGUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3dzLm9uKCdjb25uZWN0X3RpbWVvdXQnLCAoZXJyb3I6IGFueSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLndhcm4oJ3NpZ25hbCBjb25uZWN0X3RpbWVvdXQnLCBlcnJvcik7XG4gICAgICAgICAgICB0aGlzLnJlc2V0U2lnbmFsU3RhdGUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3dzLm9uKCdlcnJvcicsIChlcnJvcjogYW55KSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9sb2dnZXIud2Fybignc2lnbmFsIGVycm9yJywgZXJyb3IpO1xuICAgICAgICAgICAgdGhpcy5yZXNldFNpZ25hbFN0YXRlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl93cy5vbignZGlzY29ubmVjdCcsIChyZWFzb246IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmRlYnVnKCdkaXNjb25uZWN0IHJlYXNvbicsIHJlYXNvbik7XG4gICAgICAgICAgICBpZiAocmVhc29uID09PSAnaW8gY2xpZW50IGRpc2Nvbm5lY3QnKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKTtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZW91dGVyKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5pbmZvKCdzaWduYWwgZGlzY29ubmVjdCcsIHJlYXNvbik7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNldFNpZ25hbFN0YXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl93cy5vbignY2xvc2UnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9sb2dnZXIuZGVidWcoJ3NpZ25hbCBzdGF0dXM6IGNsb3NlJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX3dzLm9uKCdqb2luU3VjY2VzcycsICAgICAgICAgIHRoaXMub25Kb2luU3VjY2Vzcyk7XG4gICAgICAgIHRoaXMuX3dzLm9uKCdhZGRQYXJ0aWNpcGFudHMnLCAgICAgIHRoaXMub25BZGRQYXJ0aWNpcGFudHMpO1xuICAgICAgICB0aGlzLl93cy5vbigndXBkYXRlUGFydGljaXBhbnQnLCAgICB0aGlzLm9uVXBkYXRlUGFydGljaXBhbnQpO1xuICAgICAgICB0aGlzLl93cy5vbigncmVtb3ZlUGFydGljaXBhbnQnLCAgICB0aGlzLm9uUmVtb3ZlUGFydGljaXBhbnQpO1xuICAgICAgICB0aGlzLl93cy5vbigna2ljaycsICAgICAgICAgICAgICAgICB0aGlzLm9uS2lja1BhcnRpY2lwYW50KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIG9uQ29ubmVjdCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9pbml0Sm9pblJvb21QYXJhbXMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbGFjayBvZiBqb2lucm9vbSBwYXJhbXMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaWNlTWFwU2l6ZSA9IHRoaXMuX2ljZUNvbm5lY3Rpb25TdHJlYW1JZE1hcC5zaXplO1xuICAgICAgICBzd2l0Y2ggKGljZU1hcFNpemUpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB0aGlzLl9zeW5jUm9sZSA9IDA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2ljZUNvbm5lY3Rpb25TdHJlYW1JZE1hcC5nZXQodGhpcy5fdXNlcklkKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zeW5jUm9sZSA9IDI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3luY1JvbGUgPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2ljZUNvbm5lY3Rpb25TdHJlYW1JZE1hcC5nZXQodGhpcy5fdXNlcklkKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zeW5jUm9sZSA9IDM7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3luY1JvbGUgPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZXNzYWdlID0ge1xuICAgICAgICAgICAgY19zdHJlYW1faWQ6IGAke25ldyBEYXRlKCkuZ2V0VGltZSgpfWAsXG4gICAgICAgICAgICBhcHBfaWQ6IHRoaXMuX2FwcElkLFxuICAgICAgICAgICAgY29ubmVjdF9zdGF0ZTogdGhpcy5fY29ubmVjdFN0YXRlLFxuICAgICAgICAgICAgcm9vbV9pZDogdGhpcy5fcm9vbUlkLFxuICAgICAgICAgICAgdXNlcl9pZDogdGhpcy5fdXNlcklkLFxuICAgICAgICAgICAgaG9zdDogdGhpcy5faW5pdEpvaW5Sb29tUGFyYW1zLnJvbGUgPT0gMSA/IDEgOiAwLFxuICAgICAgICAgICAgcm9sZTogdGhpcy5faW5pdEpvaW5Sb29tUGFyYW1zLnJvbGUgPT0gMiA/ICd2aWV3ZXJfY2RuJyA6ICdwYXJ0aWNpcGFudCcsXG4gICAgICAgICAgICBzaG93OiAnYWxsJyxcbiAgICAgICAgICAgIHVzZXJfc291cmNlOiBnZXRVc2VyU291cmNlKCksXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxuICAgICAgICAgICAgc2RrX3ZlcnNpb246IG51bWJlclZlcnNpb24oKSxcbiAgICAgICAgICAgIHN5bmNfcm9sZTogdGhpcy5fc3luY1JvbGUsXG4gICAgICAgICAgICBhcHBfcGFja2FnZV9uYW1lOiB0aGlzLl9hcHBQYWNrYWdlTmFtZVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9yb2xlID0gdGhpcy5faW5pdEpvaW5Sb29tUGFyYW1zLnJvbGU7XG4gICAgICAgIC8vIOS4iuaKpVxuICAgICAgICB1cGxvYWRTZW5zb3JzU3RhdHMoe1xuICAgICAgICAgICAgYXBwX2lkOiB0aGlzLl9hcHBJZCxcbiAgICAgICAgICAgIHJvb21faWQ6IHRoaXMuX3Jvb21JZCxcbiAgICAgICAgICAgIHNlbGZfdXNlcl9pZDogdGhpcy5fdXNlcklkLFxuICAgICAgICAgICAgY29ubmVjdF9zdGF0ZTogdGhpcy5fY29ubmVjdFN0YXRlLFxuICAgICAgICAgICAgZWRnZV91cmw6IHRoaXMuX2N1cnJlbnRFZGdlVXJsLFxuICAgICAgICAgICAgZXZlbnRfdHlwZTogMCxcbiAgICAgICAgICAgIGlzX2hvc3Q6IHRoaXMuX2luaXRKb2luUm9vbVBhcmFtcy5yb2xlID09IDEgPyAxIDogMCxcbiAgICAgICAgICAgIGpvaW5fcm9vbV9jb3N0OiAwLFxuICAgICAgICAgICAgbG9nX3R5cGU6IFwibGl2ZW1lX3ZpZGVvX3J0Y19yb29tX2V2ZW50XCJcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fam9pblJvb21TdGFydFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSgnam9pblJvb20nLCBtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5fbG9nZ2VyLmluZm8oJ3NlbmQgam9pblJvb20gbXNnJywgbWVzc2FnZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkpvaW5TdWNjZXNzID0gKG1lc3NhZ2U6IGpvaW5TdWNjZXNzTXNnKSA9PiB7XG4gICAgICAgIHRoaXMuX2xvZ2dlci5pbmZvKCdyZWNlaXZlIGpvaW5TdWNjZXNzIG1zZycsIG1lc3NhZ2UpO1xuICAgICAgICAvLyDkuIrmiqXmlbDmja5cbiAgICAgICAgdXBsb2FkU2Vuc29yc1N0YXRzKHtcbiAgICAgICAgICAgIGFwcF9pZDogdGhpcy5fYXBwSWQsXG4gICAgICAgICAgICBjb2RlOiBtZXNzYWdlLmNvZGUsXG4gICAgICAgICAgICBldmVudF90eXBlOiAxMyxcbiAgICAgICAgICAgIGlzX2hvc3Q6IHRoaXMuX3JvbGUgPT0gMSA/IDEgOiAwLFxuICAgICAgICAgICAgbG9nX3R5cGU6IFwibGl2ZW1lX3ZpZGVvX3J0Y19zdGF0aXN0aWNzXCIsXG4gICAgICAgICAgICByb29tX2lkOiB0aGlzLl9yb29tSWQsXG4gICAgICAgICAgICBzZWxmX3VzZXJfaWQ6IHRoaXMuX3VzZXJJZFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIW1lc3NhZ2UgfHwgbWVzc2FnZS5jb2RlID09IDUwMCkge1xuICAgICAgICAgICAgdGhpcy5sZWF2ZVJvb20oKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnQGRpc2Nvbm5lY3QnLCBlcnJDb2RlLmdldCgnd3NEaXNjb25uZWN0JykpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UuY29kZSAhPT0gMjAwKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0U2lnbmFsU3RhdGUoJ2pvaW5TdWNjZXNzJyk7ICAvL+mHjei/nlxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGZvcm1hdEtleVRvSHVtcChtZXNzYWdlKTtcbiAgICAgICAgICAgIC8vIOS4iuaKpVxuICAgICAgICAgICAgdXBsb2FkU2Vuc29yc1N0YXRzKHtcbiAgICAgICAgICAgICAgICBhcHBfaWQ6IHRoaXMuX2FwcElkLFxuICAgICAgICAgICAgICAgIGNvbm5lY3Rfc3RhdGU6IHJlc3VsdC5jb25uZWN0U3RhdGUsXG4gICAgICAgICAgICAgICAgZWRnZV91cmw6IHRoaXMuX2N1cnJlbnRFZGdlVXJsLFxuICAgICAgICAgICAgICAgIGV2ZW50X3R5cGU6IDEsXG4gICAgICAgICAgICAgICAgaXNfaG9zdDogdGhpcy5fcm9sZSA9PSAxID8gMSA6IDAsXG4gICAgICAgICAgICAgICAgam9pbl9yb29tX2Nvc3Q6IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gdGhpcy5fam9pblJvb21TdGFydFRpbWUsXG4gICAgICAgICAgICAgICAgbG9nX3R5cGU6IFwibGl2ZW1lX3ZpZGVvX3J0Y19yb29tX2V2ZW50XCIsXG4gICAgICAgICAgICAgICAgcm9vbV9pZDogdGhpcy5fcm9vbUlkLFxuICAgICAgICAgICAgICAgIHNlbGZfdXNlcl9pZDogdGhpcy5fdXNlcklkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLl9zdWNjZWVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0IGNvbm5lY3RTdGF0ZSA9IHJlc3VsdC5jb25uZWN0U3RhdGU7XG4gICAgICAgICAgICAvLyDliKTmlq3ph43ov55cbiAgICAgICAgICAgIGlmIChjb25uZWN0U3RhdGUgPT0gMSkgeyByZXR1cm47IH1cbiAgICAgICAgICAgIGlmIChyZXN1bHQucGFydGljaXBhbnRzICYmIHJlc3VsdC5wYXJ0aWNpcGFudHMubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcm9vbU9ubGluZUxpc3QgPSByZXN1bHQucGFydGljaXBhbnRzO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ0BnZXRqb2luc3VjZXNzcmVzdWx0Jywge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgICAgICAgICAgIG1zZzogW11cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBqb2luU3VjY2Vzc1Jlc3VsdCA9IFtdO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFVzZXJJZEFyciA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgaXRlbSBvZiB0aGlzLl9yb29tT25saW5lTGlzdCkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRVc2VySWRBcnIucHVzaChpdGVtLnVzZXJJZCk7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0udXNlcklkICE9IHRoaXMuX3VzZXJJZCkge1xuICAgICAgICAgICAgICAgICAgICBqb2luU3VjY2Vzc1Jlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbUlkOiBpdGVtLnVzZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJJZDogaXRlbS51c2VySWQsXG4gICAgICAgICAgICAgICAgICAgICAgICByb29tSWQ6IGl0ZW0ucm9vbUlkXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0udXNlcklkICE9PSB0aGlzLl91c2VySWQgJiZcbiAgICAgICAgICAgICAgICAgICAgIXRoaXMuX2ljZUNvbm5lY3Rpb25TdHJlYW1JZE1hcC5nZXQoaXRlbS51c2VySWQpICYmXG4gICAgICAgICAgICAgICAgICAgIChjb25uZWN0U3RhdGUgPT0gMiB8fCBjb25uZWN0U3RhdGUgPT0gMylcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdAc3RyZWFtdXBkYXRlJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbUxpc3Q6IFtpdGVtXVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChjb25uZWN0U3RhdGUgPT0gMiB8fCBjb25uZWN0U3RhdGUgPT0gMykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiB0aGlzLl9pY2VDb25uZWN0aW9uU3RyZWFtSWRNYXApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleSAhPT0gdGhpcy5fdXNlcklkICYmIGN1cnJlbnRVc2VySWRBcnIuaW5kZXhPZihrZXkpID09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ0BzdHJlYW11cGRhdGUnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW1MaXN0OiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW1JZDoga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VySWQ6IGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9vbUlkOiB0aGlzLl9yb29tSWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY29ubmVjdGlvbihrZXkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ0BnZXRqb2luc3VjZXNzcmVzdWx0Jywge1xuICAgICAgICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICAgICAgICBtc2c6IGpvaW5TdWNjZXNzUmVzdWx0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5pbmZvKCdsb2dpbiByZXN1bHQnLCBqb2luU3VjY2Vzc1Jlc3VsdCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQWRkUGFydGljaXBhbnRzID0gKG1lc3NhZ2U6IGFkZFBhcnRpY2lwYW50cykgPT4ge1xuICAgICAgICBsZXQgcmVzdWx0ID0gZm9ybWF0S2V5VG9IdW1wKG1lc3NhZ2UpO1xuICAgICAgICBsZXQgcmVzcG9uc2VNc2c6IGFueSA9IFtdO1xuICAgICAgICByZXN1bHQucGFydGljaXBhbnRzLmZvckVhY2goKHZhbHVlOmFueSwga2V5OiBhbnkpID0+IHtcbiAgICAgICAgICAgIHZhbHVlLnN0cmVhbUlkID0gdmFsdWUudXNlcklkO1xuICAgICAgICAgICAgcmVzcG9uc2VNc2cucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICAvLyByZXNwb25zZU1zZ1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICAvLyByZXNwb25zZU1zZ1trZXldLnN0cmVhbUlkID0gdmFsdWUudXNlcklkXG4gICAgICAgIH0pXG4gICAgICAgIGxldCB0ZW1wQXJyOiBhbnkgPSB0aGlzLl9yb29tT25saW5lTGlzdC5jb25jYXQocmVzcG9uc2VNc2cpO1xuICAgICAgICBsZXQgdGVtcE9iamVjdDogYW55ID0ge307XG4gICAgICAgIGZvciAoY29uc3QgdGVtcEl0ZW0gb2YgdGVtcEFycikge1xuICAgICAgICAgICAgdGVtcE9iamVjdFt0ZW1wSXRlbS51c2VySWRdID0gdGVtcEl0ZW07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcm9vbU9ubGluZUxpc3QgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaXRlbSBpbiB0ZW1wT2JqZWN0KSB7XG4gICAgICAgICAgICB0aGlzLl9yb29tT25saW5lTGlzdC5wdXNoKHRlbXBPYmplY3RbaXRlbV0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW1pdCgnQHN0cmVhbXVwZGF0ZScsIHtcbiAgICAgICAgICAgIGNvZGU6IDEsXG4gICAgICAgICAgICBzdHJlYW1MaXN0OiByZXNwb25zZU1zZ1xuICAgICAgICB9KTtcbiAgICAgICAgcmVzdWx0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbG9nZ2VyLnJlcG9ydCgnYWRkcGFydGljaXBhbnQgbWVzc2FnZTonLCByZXNwb25zZU1zZyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblVwZGF0ZVBhcnRpY2lwYW50ID0gKG1lc3NhZ2U6IHVwZGF0ZVBhcnRpY2lwYW50KSA9PiB7XG4gICAgICAgIGxldCByZXN1bHQgPSBmb3JtYXRLZXlUb0h1bXAobWVzc2FnZSk7XG4gICAgICAgIHRoaXMuX2xvZ2dlci5yZXBvcnQoJ3VwZGF0ZXBhcnRpY2lwYW50IG1lc3NhZ2U6JywgcmVzdWx0KTtcbiAgICAgICAgdGhpcy5faXNFeGVjQW5zd2Vyc2RwLmRlbGV0ZShyZXN1bHQudXNlcklkKTtcbiAgICAgICAgdGhpcy5yZWNvbm5lY3Rpb24ocmVzdWx0LnVzZXJJZCk7XG4gICAgICAgIHJlc3VsdCA9IG51bGw7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblJlbW92ZVBhcnRpY2lwYW50ID0gKG1lc3NhZ2U6IHJlbW92ZVBhcnRpY2lwYW50KSA9PiB7XG4gICAgICAgIGxldCByZXN1bHQgPSBmb3JtYXRLZXlUb0h1bXAobWVzc2FnZSk7XG4gICAgICAgIHRoaXMuX2xvZ2dlci5yZXBvcnQoJ3JlbW92ZXBhcnRpY2lwYW50IG1lc3NhZ2U6JywgcmVzdWx0KTtcbiAgICAgICAgdGhpcy5lbWl0KCdAc3RyZWFtdXBkYXRlJywge1xuICAgICAgICAgICAgY29kZTogMCxcbiAgICAgICAgICAgIHN0cmVhbUxpc3Q6IFt7XG4gICAgICAgICAgICAgICAgdXNlcklkOiByZXN1bHQudXNlcklkLFxuICAgICAgICAgICAgICAgIHN0cmVhbUlkOiByZXN1bHQudXNlcklkLFxuICAgICAgICAgICAgICAgIHJvb21JZDogcmVzdWx0LnJvb21JZFxuICAgICAgICAgICAgfV1cbiAgICAgICAgfSk7XG4gICAgICAgIHJlc3VsdCA9IG51bGw7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbktpY2tQYXJ0aWNpcGFudCA9IChtZXNzYWdlOiBraWNrUGFydGljaXBhbnQpID0+IHtcbiAgICAgICAgdGhpcy5faXNLaWNrID0gdHJ1ZTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IGZvcm1hdEtleVRvSHVtcChtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5fbG9nZ2VyLnJlcG9ydCgndXBkYXRlcGFydGljaXBhbnQgbWVzc2FnZTonLCByZXN1bHQpO1xuICAgICAgICB0aGlzLmVtaXQoJ0BraWNrb3V0JywgcmVzdWx0KTtcbiAgICAgICAgcmVzdWx0ID0gbnVsbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdXBkYXRlTWl4U3RyZWFtKG1peFN0cmVhbUNvbmZpZzogYW55KSB7XG4gICAgICAgIC8vIOS/ruaUuSBpY2NvbmVjdGlvbiDlgZrmlq3nvZHph43ov55cbiAgICAgICAgbGV0IGxheW91dEFycjogYW55ID0gW107XG4gICAgICAgIGxldCBsYXlvdXREYXRhID0ge1xuICAgICAgICAgICAgYXV0b19taXg6IDAsICAvL+aYr+S4jeaYr+aWree9kemHjei/nueahOWQiOa1gS4gMCDkuI3mmK/vvIwx5pivICAvLy8vLy0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgbGF5b3V0OiBsYXlvdXRBcnIsXG4gICAgICAgICAgICBtaXhfcHVzaF91cmxzOiBbXG4gICAgICAgICAgICAgICAgbWl4U3RyZWFtQ29uZmlnLm91dHB1dFVybFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIHJvb21faWQ6IHRoaXMuX3Jvb21JZCxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS5nZXRUaW1lKCksXG4gICAgICAgICAgICB1c2VyX2lkOiB0aGlzLl91c2VySWRcbiAgICAgICAgfVxuICAgICAgICBsYXlvdXRBcnIucHVzaCh7XG4gICAgICAgICAgICBsYXlvdXRfcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgYml0cmF0ZTogbWl4U3RyZWFtQ29uZmlnLm91dHB1dEJpdHJhdGUsXG4gICAgICAgICAgICAgICAgY2FudmFzX2NvbG9yOiBtaXhTdHJlYW1Db25maWcub3V0cHV0QmdDb2xvcixcbiAgICAgICAgICAgICAgICBjYW52YXNfaGVpZ2h0OiBtaXhTdHJlYW1Db25maWcub3V0cHV0SGVpZ2h0LFxuICAgICAgICAgICAgICAgIGNhbnZhc19pbWFnZTogbWl4U3RyZWFtQ29uZmlnLm91dHB1dEJnSW1hZ2UsXG4gICAgICAgICAgICAgICAgY2FudmFzX3dpZHRoOiBtaXhTdHJlYW1Db25maWcub3V0cHV0V2lkdGgsXG4gICAgICAgICAgICAgICAgZnBzOiBtaXhTdHJlYW1Db25maWcub3V0cHV0RnBzXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2Vzc2lvbl9pZDogXCJjYW52YXNcIlxuICAgICAgICB9KTtcbiAgICAgICAgbGV0IGkgPSAxO1xuICAgICAgICBmb3IgKGxldCBpdGVtIG9mIG1peFN0cmVhbUNvbmZpZy5zdHJlYW1MaXN0KSB7XG4gICAgICAgICAgICBpdGVtLnJvb21JZCA9IGAke3RoaXMuX2FwcElkfS0ke2l0ZW0ucm9vbUlkfWA7XG4gICAgICAgICAgICBpdGVtLnN0cmVhbUlkID0gYCR7dGhpcy5fYXBwSWR9LSR7aXRlbS5zdHJlYW1JZH1gO1xuICAgICAgICAgICAgbGF5b3V0QXJyLnB1c2goe1xuICAgICAgICAgICAgICAgIGxheW91dF9wYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VfaGVpZ2h0OiAoaXRlbS5ib3R0b20gLSBpdGVtLnRvcCksXG4gICAgICAgICAgICAgICAgICAgIGltYWdlX2xheWVyOiBpKyssXG4gICAgICAgICAgICAgICAgICAgIGltYWdlX3dpZHRoOiAoaXRlbS5yaWdodCAtIGl0ZW0ubGVmdCksXG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uX3g6IGl0ZW0ubGVmdCxcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25feTogaXRlbS50b3BcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJvb21faWQ6IGl0ZW0ucm9vbUlkID8gaXRlbS5yb29tSWQgOiB0aGlzLl9yb29tSWQsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogaXRlbS5zdHJlYW1JZFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICAvLyBjb25zb2xlLmxvZygnc2VuZE1peHN0cmVhbVBhcmFtczo6OicsIEpTT04uc3RyaW5naWZ5KGxheW91dERhdGEpKTtcbiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSgnbWl4U3RyZWFtJywgbGF5b3V0RGF0YSk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0b3BNaXhTdHJlYW0oKSB7XG4gICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoJ21peFN0cmVhbScsIHtcbiAgICAgICAgICAgIHJvb21faWQ6IHRoaXMuX3Jvb21JZCxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS5nZXRUaW1lKCksXG4gICAgICAgICAgICB1c2VyX2lkOiB0aGlzLl91c2VySWRcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGxlYXZlUm9vbSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl93cykge1xuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmRlYnVnKCd3ZWJzb2NrZXQgdGFza0lkIGlzIG5vdCBleGlzdC4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyDph43nva5hbnN3ZXJzZHDnirbmgIFcbiAgICAgICAgdGhpcy5faXNFeGVjQW5zd2Vyc2RwLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX3BvcnRDYW5kaWRhdGVPYmogPSB7fTtcbiAgICAgICAgaWYgKCF0aGlzLl9pc0tpY2spIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoJ2xlYXZlUm9vbScsIHtcbiAgICAgICAgICAgICAgICByb29tX2lkOiB0aGlzLl9yb29tSWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvL+enu+mZpOebuOWFs+ebkeWQrOS6i+S7tlxuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygnQGRpc2Nvbm5lY3QnKTtcbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ0BnZXRqb2luc3VjZXNzcmVzdWx0Jyk7XG4gICAgICAgIHRoaXMuX3dzLmNsb3NlKCk7XG4gICAgICAgIHRoaXMuX3dzID0gbnVsbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RvcFB1c2goc3RyZWFtSWQ6IHN0cmluZykge1xuICAgICAgICB0aGlzLl9pc0V4ZWNBbnN3ZXJzZHAuZGVsZXRlKHN0cmVhbUlkKTtcbiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSgnc3RvcEJlYW0nLCB7XG4gICAgICAgICAgICByb29tX2lkOiB0aGlzLl9yb29tSWQsXG4gICAgICAgICAgICB1c2VyX2lkOiB0aGlzLl91c2VySWQsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdG9wUGxheShzdHJlYW1JZDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX2lzRXhlY0Fuc3dlcnNkcC5kZWxldGUoc3RyZWFtSWQpO1xuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKCdzdG9wX3BsYXknLCB7XG4gICAgICAgICAgICByb29tX2lkOiB0aGlzLl9yb29tSWQsXG4gICAgICAgICAgICB1c2VyX2lkOiB0aGlzLl91c2VySWQsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxuICAgICAgICAgICAgcGxheV91c2VyX2lkOiBzdHJlYW1JZFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyDph43mlrDlu7rnq4tpY2Xov57mjqVcbiAgICBwcml2YXRlIHJlY29ubmVjdGlvbihzdHJlYW1JZDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX2xvZ2dlci5kZWJ1ZygncmVjb25uZWN0aW9uJywgc3RyZWFtSWQpXG4gICAgICAgIHRoaXMuZW1pdCgnQHJlY29ubmVjdGlvbicsIHtcbiAgICAgICAgICAgIHN0cmVhbUlkOiBzdHJlYW1JZCxcbiAgICAgICAgICAgIHVzZXJJZDogc3RyZWFtSWRcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gc2VuZCBzaWduYWwgbXNnXG4gICAgcHVibGljIHNlbmRMb2NhbE9mZmVyU2RwKHtcbiAgICAgICAgcHVsbFN0cmVhbUlkLFxuICAgICAgICBwdWxsU3RyZWFtUm9vbUlkLFxuICAgICAgICBzZHBcbiAgICB9OiB7XG4gICAgICAgIHB1bGxTdHJlYW1JZDogc3RyaW5nLFxuICAgICAgICBwdWxsU3RyZWFtUm9vbUlkOiBzdHJpbmcsXG4gICAgICAgIHNkcDogc3RyaW5nXG4gICAgfSkge1xuICAgICAgICB0aGlzLl9vZmZlclBlZXJJZCArPSAxO1xuXG4gICAgICAgIHRoaXMuX2ljZUNvbm5lY3Rpb25TdHJlYW1JZE1hcC5zZXQocHVsbFN0cmVhbUlkLCB7XG4gICAgICAgICAgICBvZmZlclBlZXJJZDogdGhpcy5fb2ZmZXJQZWVySWRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3Qgc2VuZE1zZyA9IHtcbiAgICAgICAgICAgIHBlZXJfaWQ6IHRoaXMuX29mZmVyUGVlcklkLFxuICAgICAgICAgICAgb2ZmZXJfdXNlcl9pZDogcHVsbFN0cmVhbUlkLFxuICAgICAgICAgICAgb2ZmZXJfcm9vbV9pZDogcHVsbFN0cmVhbVJvb21JZCxcbiAgICAgICAgICAgIHNkcF9vZmZlcjogc2RwLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSxcbiAgICAgICAgICAgIHJvb21faWQ6IHRoaXMuX3Jvb21JZCxcbiAgICAgICAgICAgIHVzZXJfaWQ6IHRoaXMuX3VzZXJJZCxcbiAgICAgICAgICAgIHNka192ZXJzaW9uOiBudW1iZXJWZXJzaW9uKClcbiAgICAgICAgfTtcbiAgICAgICAgLy8g5LiK5oql56We562WXG4gICAgICAgIHVwbG9hZFNlbnNvcnNTdGF0cyh7XG4gICAgICAgICAgICBhcHBfaWQ6IHRoaXMuX2FwcElkLFxuICAgICAgICAgICAgZXZlbnRfdHlwZTogOCxcbiAgICAgICAgICAgIGxvZ190eXBlOiBcImxpdmVtZV92aWRlb19ydGNfc3RhdGlzdGljc1wiLFxuICAgICAgICAgICAgcm9vbV9pZDogdGhpcy5fcm9vbUlkLFxuICAgICAgICAgICAgc2VsZl91c2VyX2lkOiB0aGlzLl91c2VySWQsXG4gICAgICAgICAgICB1c2VyX2lkOiBwdWxsU3RyZWFtSWRcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoJ29mZmVyU0RQJywgc2VuZE1zZyk7XG4gICAgICAgIHRoaXMuX2xvZ2dlci5yZXBvcnQoJ3NlbmQgbXNnIG9mZmVyU0RwJywgc2VuZE1zZyk7XG4gICAgICAgIHJldHVybiB0aGlzLl9vZmZlclBlZXJJZDtcbiAgICB9XG4gICAgXG4gICAgcHVibGljIGdldENhbmRpZGF0ZUFycmF5KHN0cmVhbUlkOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKCF0aGlzLl93cykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd3cyBpcyBub3QgZXhpc3QuJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNhbGxiYWNrID0gKHJlczogaWNlQ2FuZGlkYXRlKSA9PiB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gZm9ybWF0S2V5VG9IdW1wKHJlcyk7XG4gICAgICAgICAgICBsZXQgcG9ydDogbnVtYmVyID0gcmVzdWx0LmNhbmRpZGF0ZS5jYW5kaWRhdGUuc3BsaXQoXCIgXCIpLnNsaWNlKC0zLCAtMilbMF07XG4gICAgICAgICAgICB0aGlzLl9NYXBTdHJlYW1JZENhbmRpZGF0ZVBvcnQuc2V0KHJlc3VsdC51c2VySWQsIHBvcnQpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fcG9ydENhbmRpZGF0ZU9ialtwb3J0XSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9wb3J0Q2FuZGlkYXRlT2JqW3BvcnRdLmxlbmd0aCA9PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IGlzRXhpc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9wb3J0Q2FuZGlkYXRlT2JqW3BvcnRdLmZvckVhY2goKHZhbHVlLCBpbmRleCwgYXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5zZHBNTGluZUluZGV4ID09IHJlc3VsdC5jYW5kaWRhdGUuc2RwTUxpbmVJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNFeGlzdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoIWlzRXhpc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcG9ydENhbmRpZGF0ZU9ialtwb3J0XS5wdXNoKHJlc3VsdC5jYW5kaWRhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcG9ydENhbmRpZGF0ZU9ialtwb3J0XSA9IFtdO1xuICAgICAgICAgICAgICAgIHRoaXMuX3BvcnRDYW5kaWRhdGVPYmpbcG9ydF0ucHVzaChyZXN1bHQuY2FuZGlkYXRlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHJlc3VsdC51c2VySWQgPT0gc3RyZWFtSWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRDYW5kaWRhdGUgPSB0aGlzLl9wb3J0Q2FuZGlkYXRlT2JqW3RoaXMuX01hcFN0cmVhbUlkQ2FuZGlkYXRlUG9ydC5nZXQoc3RyZWFtSWQpIGFzIG51bWJlcl07XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KGBAZ2V0Y2FuZGlkYXRlJHtzdHJlYW1JZH1gLCByZXN1bHRDYW5kaWRhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl93cy5vbignaWNlQ2FuZGlkYXRlJywgY2FsbGJhY2spO1xuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgcmVjZWl2ZUFuc3dlclNkcChzdHJlYW1JZDogc3RyaW5nKTogUHJvbWlzZTx7XG4gICAgICAgIHBlZXJJZDogbnVtYmVyO1xuICAgICAgICByZW1vdGVBbnN3ZXJTZHA6IHN0cmluZztcbiAgICB9IHwgZXJyTXNnPiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3dzKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd3cyBpcyBub3QgZXhpc3QuJyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgY2FsbGJhY2sgPSAobWVzc2FnZTogYW5zd2VyU0RQKSA9PiB7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5faXNFeGVjQW5zd2Vyc2RwLmdldChzdHJlYW1JZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgbXNnOiAnUmVwZWF0ZWQgZXhlY3V0ZSdcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3dzLm9mZignYW5zd2VyU0RQJywgY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNFeGVjQW5zd2Vyc2RwLnNldChzdHJlYW1JZCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGZvcm1hdEtleVRvSHVtcChtZXNzYWdlKTtcblxuICAgICAgICAgICAgICAgIC8vIOS4iuaKpeelnuetllxuICAgICAgICAgICAgICAgIHVwbG9hZFNlbnNvcnNTdGF0cyh7XG4gICAgICAgICAgICAgICAgICAgIGFwcF9pZDogdGhpcy5fYXBwSWQsXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50X3R5cGU6IDksXG4gICAgICAgICAgICAgICAgICAgIGlzU3VjY2VzczogbWVzc2FnZS5jb2RlID09IDIwMCA/IDEgOiAwLFxuICAgICAgICAgICAgICAgICAgICBsb2dfdHlwZTogXCJsaXZlbWVfdmlkZW9fcnRjX3N0YXRpc3RpY3NcIixcbiAgICAgICAgICAgICAgICAgICAgcm9vbV9pZDogdGhpcy5fcm9vbUlkLFxuICAgICAgICAgICAgICAgICAgICBzZWxmX3VzZXJfaWQ6IHRoaXMuX3VzZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgdXNlcl9pZDogc3RyZWFtSWRcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRJY2VDb25uZWN0aW9uID0gdGhpcy5faWNlQ29ubmVjdGlvblN0cmVhbUlkTWFwLmdldChyZXN1bHQudXNlcklkKTtcbiAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRJY2VDb25uZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYW5zd2Vyc3Agc3RyZWFtSWQgaXMgbm90IGV4aXN0LicpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQucGVlcklkICE9IGN1cnJlbnRJY2VDb25uZWN0aW9uLm9mZmVyUGVlcklkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJldHVybjsgXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1zZzogJ3BlZXJJZCByZXBlYXQnXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlICE9IDIwMCkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtc2c6ICdhbnN3c2RwIGVycm9yJ1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX01hcFN0cmVhbUlkQW5zd2VyU2RwLnNldChyZXN1bHQudXNlcklkLCByZXN1bHQuc2RwQW5zd2VyKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cmVhbUlkID09IHJlc3VsdC51c2VySWQgJiYgdGhpcy5fTWFwU3RyZWFtSWRBbnN3ZXJTZHAuZ2V0KHJlc3VsdC51c2VySWQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWVySWQ6IHJlc3VsdC5wZWVySWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3RlQW5zd2VyU2RwOiB0aGlzLl9NYXBTdHJlYW1JZEFuc3dlclNkcC5nZXQocmVzdWx0LnVzZXJJZCkgYXMgc3RyaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl93cy5vZmYoJ2Fuc3dlclNEUCcsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3dzLm9uKCdhbnN3ZXJTRFAnLCBjYWxsYmFjayk7XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcHVibGljIHVwbG9hZFN0YXRzRGF0YSh7IGNyeXN0YWxCYWxsLCBzZW5zb3JEYXRhIH06IHsgY3J5c3RhbEJhbGwgOiBhbnlbXSwgc2Vuc29yRGF0YTogYW55W119KSB7XG4gICAgICAgIHNlbnNvckRhdGEuZm9yRWFjaCgodjogYW55KSA9PiB7XG4gICAgICAgICAgICAvLyDkuIrmiqXnpZ7nrZZcbiAgICAgICAgICAgIHVwbG9hZFNlbnNvcnNTdGF0cyh7XG4gICAgICAgICAgICAgICAgLi4udixcbiAgICAgICAgICAgICAgICBsb2dfdHlwZTogXCJsaXZlbWVfdmlkZW9fcnRjX3N0cmVhbV9oZWFydGJlYXRcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZShcImNsaWVudHN0YXRpc3RpY3NcIiwge1xuICAgICAgICAgICAgcm9vbV9pZDogdGhpcy5fcm9vbUlkLFxuICAgICAgICAgICAgc2RrX3ZlcnNpb246IDEwMTAwMDAsXG4gICAgICAgICAgICB1c2VyX2lkOiB0aGlzLl91c2VySWQsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxuICAgICAgICAgICAgc3RhdGlzdGljczogY3J5c3RhbEJhbGxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTaWduYWxIYW5kbGluZztcbiIsImltcG9ydCBpbyBmcm9tICdzb2NrZXQuaW8nO1xuaW1wb3J0IHsgZ2V0RWRnZUxpc3QsIGdldEF1dGhFZGdlTGlzdCB9IGZyb20gJy4uL3NlcnZpY2Uvc2VydmljZUFQSSc7XG5pbXBvcnQgRXZlbnRFbWl0dGVyIGZyb20gXCJldmVudGVtaXR0ZXIzXCI7XG5pbXBvcnQge1xuICAgIGVyckNvZGVcbn0gZnJvbSAnLi4vLi4vY29tbW9uL2Vycm9yQ29kZSc7XG5pbXBvcnQgeyBTaWduYWwgfSBmcm9tICcuL1NpZ25hbE9wdGlvbnMnO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi4vbG9nL2xvZ2dlcic7XG5cbmNsYXNzIFNpZ25hbENvbm5lY3QgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICAgIHByaXZhdGUgX2N1c3RvbUVkZ2VVcmw6IHN0cmluZyA9ICcnO1xuICAgIHByb3RlY3RlZCBfbG9nZ2VyOiBhbnkgPSBudWxsO1xuICAgIHByb3RlY3RlZCBfcmV0cnlUaW1lczogbnVtYmVyID0gMDtcbiAgICBwcm90ZWN0ZWQgX21heFJldHJ5VGltZXM6IG51bWJlciA9IDM7XG4gICAgcHJvdGVjdGVkIF9lZGdlTGlzdEluZGV4OiBudW1iZXIgPSAwO1xuICAgIHByb3RlY3RlZCBfcm9vbUlkOiBzdHJpbmcgPSAnJztcbiAgICBwcm90ZWN0ZWQgX3VzZXJJZDogc3RyaW5nID0gJyc7XG4gICAgcHJvdGVjdGVkIF9hcHBJZDogc3RyaW5nID0gJyc7XG4gICAgcHJvdGVjdGVkIF9jdXJyZW50RWRnZVVybDogc3RyaW5nID0gJyc7XG4gICAgcHJvdGVjdGVkIF9lZGdlVXJsczogQXJyYXk8c3RyaW5nPiA9IFtdO1xuICAgIHByb3RlY3RlZCBfd3M6IGFueSA9IG51bGw7XG4gICAgcHJvdGVjdGVkIF9zeW5jUm9sZTogbnVtYmVyID0gMDtcbiAgICBwcm90ZWN0ZWQgX2VudjogXCJ0ZXN0XCIgfCBcInByb2RcIiB8IFwiZGV2XCIgPSAncHJvZCc7XG4gICAgcHJvdGVjdGVkIF9wcm9qZWN0TmFtZTogc3RyaW5nID0gJ2xpdmVtZSc7XG4gICAgcHJvdGVjdGVkIF9hcHBQYWNrYWdlTmFtZTogc3RyaW5nID0gJyc7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiBTaWduYWwpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fbG9nZ2VyID0gbG9nZ2VyLmNvbGxlY3Q7XG4gICAgICAgIHRoaXMuX2xvZ2dlci5kZWJ1Zygnc2lnbmFsIGNvbnN0cnVjdG9yIHBhcmFtcycsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl91c2VySWQgPSBvcHRpb25zLnVzZXJJZDsgICAgICBcbiAgICAgICAgdGhpcy5fcm9vbUlkID0gb3B0aW9ucy5yb29tSWQ7XG4gICAgICAgIGlmIChvcHRpb25zLmFwcElkICE9PSB2b2lkIDApICAgICAgIHsgdGhpcy5fYXBwSWQgPSBvcHRpb25zLmFwcElkIH07XG4gICAgICAgIGlmIChvcHRpb25zLnByb2plY3ROYW1lICE9PSB2b2lkIDApIHsgdGhpcy5fcHJvamVjdE5hbWUgPSBvcHRpb25zLnByb2plY3ROYW1lIH07XG4gICAgICAgIGlmIChvcHRpb25zLmVudiAhPT0gdm9pZCAwKSAgICAgICAgIHsgdGhpcy5fZW52ID0gb3B0aW9ucy5lbnYgfTtcbiAgICAgICAgaWYgKG9wdGlvbnMuY3VzdG9tRWRnZVVybCAhPT0gdm9pZCAwKSB7IHRoaXMuX2N1c3RvbUVkZ2VVcmwgPSBvcHRpb25zLmN1c3RvbUVkZ2VVcmwgfTtcbiAgICAgICAgaWYgKG9wdGlvbnMuYXBwUGFja2FnZU5hbWUgIT09IHZvaWQgMCkgeyB0aGlzLl9hcHBQYWNrYWdlTmFtZSA9IG9wdGlvbnMuYXBwUGFja2FnZU5hbWUgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBhc3luYyBjb25uZWN0KFxuICAgICAgICB7IGF1dGgsIGV4cGlyZSB9OiB7XG4gICAgICAgIGF1dGg6IHN0cmluZztcbiAgICAgICAgZXhwaXJlOiBzdHJpbmc7XG4gICAgfSkge1xuICAgICAgICBpZiAoIXRoaXMuX2N1cnJlbnRFZGdlVXJsKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fY3VzdG9tRWRnZVVybCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRFZGdlVXJsID0gYHdzczovLyR7dGhpcy5fY3VzdG9tRWRnZVVybH0vb2N0b3B1c2A7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHRoaXMuX2VkZ2VVcmxzID0gYXdhaXQgZ2V0RWRnZUxpc3Qoe1xuICAgICAgICAgICAgICAgIC8vICAgICBhcHBJZDogdGhpcy5fYXBwSWQsXG4gICAgICAgICAgICAgICAgLy8gICAgIHJvb21JZDogdGhpcy5fcm9vbUlkLFxuICAgICAgICAgICAgICAgIC8vICAgICB1c2VySWQ6IHRoaXMuX3VzZXJJZCxcbiAgICAgICAgICAgICAgICAvLyAgICAgZW52OiB0aGlzLl9lbnYsXG4gICAgICAgICAgICAgICAgLy8gICAgIHByb2plY3ROYW1lOiB0aGlzLl9wcm9qZWN0TmFtZVxuICAgICAgICAgICAgICAgIC8vIH0pO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHRoaXMuX2VkZ2VVcmxzID0gYXdhaXQgZ2V0QXV0aEVkZ2VMaXN0KHtcbiAgICAgICAgICAgICAgICAgICAgYXBwSWQ6IHRoaXMuX2FwcElkLFxuICAgICAgICAgICAgICAgICAgICBhdXRoOiBhdXRoLCBcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJlOiBleHBpcmUsXG4gICAgICAgICAgICAgICAgICAgIGVudjogdGhpcy5fZW52LFxuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0TmFtZTogdGhpcy5fcHJvamVjdE5hbWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2dnZXIuZGVidWcoJ2N1cnJlbnQgZWRnZSBsaXN0JywgdGhpcy5fZWRnZVVybHMpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9lZGdlVXJscyB8fCB0aGlzLl9lZGdlVXJscy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmVycm9yKCdlZGdlbGlzdCBpcyBudWxsJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnQGRpc2Nvbm5lY3QnLCBlcnJDb2RlLmdldCgnbnVsbEVkZ2VMaXN0JykpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRFZGdlVXJsID0gdGhpcy5fZWRnZVVybHNbdGhpcy5fZWRnZUxpc3RJbmRleF07XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRJbnRlcnZhbEVkZ2VVcmxzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fd3MgPSBpbyh0aGlzLl9jdXJyZW50RWRnZVVybCwge1xuICAgICAgICAgICAgdHJhbnNwb3J0czogWyd3ZWJzb2NrZXQnXVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fbG9nZ2VyLmRlYnVnKCdjdXJyZW50IHdlYnNvY2tldCBjb25uZWN0IGVkZ2UnLCB0aGlzLl9jdXJyZW50RWRnZVVybCk7XG4gICAgICAgIHRoaXMuX3dzLmNvbm5lY3QoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDlrprml7blj5bmnIDov5HnmoRlZGdlbGlzdFxuICAgICAqL1xuICAgIHByaXZhdGUgZ2V0SW50ZXJ2YWxFZGdlVXJscygpIHtcbiAgICAgICAgc2V0SW50ZXJ2YWwoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fZWRnZVVybHMgPSBhd2FpdCBnZXRFZGdlTGlzdChcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGFwcElkOiB0aGlzLl9hcHBJZCxcbiAgICAgICAgICAgICAgICAgICAgcm9vbUlkOiB0aGlzLl9yb29tSWQsXG4gICAgICAgICAgICAgICAgICAgIHVzZXJJZDogdGhpcy5fdXNlcklkLFxuICAgICAgICAgICAgICAgICAgICBlbnY6IHRoaXMuX2VudixcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdE5hbWU6IHRoaXMuX3Byb2plY3ROYW1lXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5kZWJ1ZygnZWRnZWxpc3QgdXBkYXRlJywgdGhpcy5fZWRnZVVybHMpO1xuICAgICAgICB9LCA2MCAqIDYwICogMTAwMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5pu/5o2i5L2/55SoemVnb1xuICAgICAqL1xuICAgIHByb3RlY3RlZCBjaGFuZ2VWZW5kb3IoKSB7XG4gICAgICAgIHRoaXMuZW1pdCgnQGRpc2Nvbm5lY3QnLCBlcnJDb2RlLmdldCgnd3NEaXNjb25uZWN0JykpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2lnbmFsQ29ubmVjdDtcbiIsImV4cG9ydCBmdW5jdGlvbiBpc09iamVjdChhcmc6IG9iamVjdCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJnKSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc01hcChhcmc6IG9iamVjdCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJnKSA9PT0gJ1tvYmplY3QgTWFwXSc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0FycmF5KGFyZzogQXJyYXk8YW55Pik6IGJvb2xlYW4ge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJnKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn1cblxuZnVuY3Rpb24gdG9IdW1wKHN0cjogc3RyaW5nLCB0eXBlPzogbnVtYmVyKSB7XG4gICAgaWYgKHR5cGUgPT0gMSkge1xuICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyhefF8pKFxcdykvZywgKG0sICQxLCAkMik9PiQyLnRvVXBwZXJDYXNlKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvXFxfKFxcdykvZywgKGFsbCwgbGV0dGVyKSA9PiBsZXR0ZXIudG9VcHBlckNhc2UoKSk7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0S2V5VG9IdW1wKG1lc3NhZ2U6IGFueSwgYXBwSWQ/OiBzdHJpbmcsIHRhcmdldE9iaj86IGFueSwgdHlwZT86IG51bWJlcikge1xuICAgIGxldCByZXMgPSB0YXJnZXRPYmogfHwge307XG4gICAgZm9yIChsZXQga2V5IGluIG1lc3NhZ2UpIHtcbiAgICAgICAgLy8g5Yig6Zmk5oiW6KGl5YWoYXBwaWRcbiAgICAgICAgaWYgKGtleS5pbmRleE9mKCdyb29tX2lkJykgIT0gLTEgfHwga2V5LmluZGV4T2YoJ3VzZXJfaWQnKSAhPSAtMSkge1xuICAgICAgICAgICAgaWYgKGFwcElkKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZVtrZXldID0gYCR7YXBwSWR9LSR7bWVzc2FnZVtrZXldfWA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlW2tleV0ubWF0Y2goLy0oLnsxLH0pLykpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZVtrZXldID0gbWVzc2FnZVtrZXldLm1hdGNoKC8tKC57MSx9KS8pWzFdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gZm9ybWF0IGtleVxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShtZXNzYWdlW2tleV0pKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdLZXkgPSB0b0h1bXAoa2V5LCB0eXBlKTtcbiAgICAgICAgICAgIHJlc1tuZXdLZXldID0gW107XG4gICAgICAgICAgICBtZXNzYWdlW2tleV0uZm9yRWFjaCgodjogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGlzT2JqZWN0KHYpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc1tuZXdLZXldLnB1c2goZm9ybWF0S2V5VG9IdW1wKHYpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXNbbmV3S2V5XS5wdXNoKHYpO1xuICAgICAgICAgICAgICAgIH0gIFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIGlmIChpc09iamVjdChtZXNzYWdlW2tleV0pKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdLZXkgPSB0b0h1bXAoa2V5LCB0eXBlKTtcbiAgICAgICAgICAgIHJlc1tuZXdLZXldID0gZm9ybWF0S2V5VG9IdW1wKG1lc3NhZ2Vba2V5XSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBuZXdLZXkgPSB0b0h1bXAoa2V5LCB0eXBlKTtcbiAgICAgICAgICAgIHJlc1tuZXdLZXldID0gbWVzc2FnZVtrZXldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRBcHBJZChtZXNzYWdlOiBhbnksIGFwcElkPzogc3RyaW5nKSB7XG4gICAgZm9yIChsZXQga2V5IGluIG1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKGtleS5pbmRleE9mKCdyb29tX2lkJykgIT0gLTEgfHwga2V5LmluZGV4T2YoJ3VzZXJfaWQnKSAhPSAtMSkge1xuICAgICAgICAgICAgaWYgKGFwcElkKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZVtrZXldID0gYCR7YXBwSWR9LSR7bWVzc2FnZVtrZXldfWA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlW2tleV0ubWF0Y2goLy0oLnsxLH0pLykpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZVtrZXldID0gbWVzc2FnZVtrZXldLm1hdGNoKC8tKC57MSx9KS8pWzFdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShtZXNzYWdlW2tleV0pKSB7XG4gICAgICAgICAgICBtZXNzYWdlW2tleV0uZm9yRWFjaCAoKHZhbHVlOiBhbnksIGtleTogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgZm9ybWF0QXBwSWQodmFsdWUsIGFwcElkKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9